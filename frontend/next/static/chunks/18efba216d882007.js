(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19463,e=>{"use strict";var s=e.i(48277),a=e.i(14575);function r({title:e,description:r,actions:t,className:d}){return(0,s.jsxs)("div",{className:(0,a.cn)("flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",d),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-[var(--rb-text)]",children:e}),r?(0,s.jsx)("p",{className:"mt-1 text-sm text-zinc-600",children:r}):null]}),t?(0,s.jsx)("div",{className:"flex items-center gap-2",children:t}):null]})}e.s(["PageHeader",()=>r])},77611,e=>{"use strict";var s=e.i(48277),a=e.i(30668),r=e.i(96086),t=e.i(1831),d=e.i(77252),l=e.i(19463),i=e.i(72015),n=e.i(9693);function c(){let e=(0,r.useRouter)(),c=(0,r.useParams)(),m=c.business??c.tenant,[o,u]=(0,a.useState)(!1),[b,h]=(0,a.useState)(null),[x,p]=(0,a.useState)(""),[v,g]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[y,_]=(0,a.useState)(""),[f,w]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),[F,L]=(0,a.useState)(""),[P,A]=(0,a.useState)(""),[T,k]=(0,a.useState)(""),[q,B]=(0,a.useState)(""),[R,O]=(0,a.useState)(!0);async function U(s){if(s.preventDefault(),"string"==typeof m&&0!==m.length){u(!0),h(null);try{let s={name:x,code:v,phone:""!==j.trim()?j.trim():null,email:""!==y.trim()?y.trim():null,address_line1:""!==f.trim()?f.trim():null,address_line2:""!==C.trim()?C.trim():null,address_city:""!==F.trim()?F.trim():null,address_state:""!==P.trim()?P.trim():null,address_postal_code:""!==T.trim()?T.trim():null,address_country:""!==q.trim()?q.trim().toUpperCase():null,is_active:R};await (0,t.apiFetch)(`/api/${m}/app/branches`,{method:"POST",body:s}),e.replace(`/app/${m}/branches`)}catch(e){e instanceof t.ApiError?h(e.message):h("Failed to create branch.")}finally{u(!1)}}}return(0,s.jsx)(d.RequireAuth,{requiredPermission:"branches.manage",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(l.PageHeader,{title:"Create branch",description:"Add another location under this business."}),b?(0,s.jsx)("div",{className:"text-sm text-red-600",children:b}):null,(0,s.jsx)(i.Card,{className:"shadow-none",children:(0,s.jsx)(i.CardContent,{className:"pt-5",children:(0,s.jsxs)("form",{className:"grid gap-3",onSubmit:U,children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_name",children:"Name"}),(0,s.jsx)("input",{id:"branch_name",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:x,onChange:e=>p(e.target.value),required:!0,disabled:o})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_code",children:"Code"}),(0,s.jsx)("input",{id:"branch_code",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:v,onChange:e=>g(e.target.value),required:!0,maxLength:16,disabled:o})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_phone",children:"Phone"}),(0,s.jsx)("input",{id:"branch_phone",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:j,onChange:e=>N(e.target.value),disabled:o,maxLength:64})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_email",children:"Email"}),(0,s.jsx)("input",{id:"branch_email",type:"email",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:y,onChange:e=>_(e.target.value),disabled:o,maxLength:255})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_address_line1",children:"Address line 1"}),(0,s.jsx)("input",{id:"branch_address_line1",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:f,onChange:e=>w(e.target.value),disabled:o,maxLength:255})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_address_line2",children:"Address line 2"}),(0,s.jsx)("input",{id:"branch_address_line2",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:C,onChange:e=>S(e.target.value),disabled:o,maxLength:255})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_address_city",children:"City"}),(0,s.jsx)("input",{id:"branch_address_city",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:F,onChange:e=>L(e.target.value),disabled:o,maxLength:255})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_address_state",children:"State"}),(0,s.jsx)("input",{id:"branch_address_state",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:P,onChange:e=>A(e.target.value),disabled:o,maxLength:255})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_address_postal_code",children:"Postal code"}),(0,s.jsx)("input",{id:"branch_address_postal_code",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:T,onChange:e=>k(e.target.value),disabled:o,maxLength:64})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium",htmlFor:"branch_address_country",children:"Country (2-letter)"}),(0,s.jsx)("input",{id:"branch_address_country",className:"w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm uppercase",value:q,onChange:e=>B(e.target.value),disabled:o,maxLength:2})]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:R,onChange:e=>O(e.target.checked),disabled:o}),(0,s.jsx)("span",{children:"Active"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-2",children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>{"string"==typeof m&&m.length>0&&e.push(`/app/${m}/branches`)},disabled:o,children:"Cancel"}),(0,s.jsx)(n.Button,{type:"submit",disabled:o,children:o?"Saving...":"Create"})]})]})})})]})})}e.s(["default",()=>c])}]);