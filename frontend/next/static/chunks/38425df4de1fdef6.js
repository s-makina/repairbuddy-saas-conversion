(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26550,e=>{"use strict";var t=e.i(48277),a=e.i(14575);function s({className:e,type:s,...r}){return(0,t.jsx)("input",{type:s,className:(0,a.cn)("w-full rounded-[var(--rb-radius-sm)] border border-zinc-300 bg-white px-3 py-2 text-sm text-[var(--rb-text)] outline-none transition","placeholder:text-zinc-400","focus-visible:ring-2 focus-visible:ring-[color:color-mix(in_srgb,var(--rb-orange),white_65%)] focus-visible:ring-offset-2 focus-visible:ring-offset-white","disabled:cursor-not-allowed disabled:bg-[var(--rb-surface-muted)] disabled:opacity-70",e),...r})}e.s(["Input",()=>s])},63571,e=>{"use strict";var t=e.i(48277),a=e.i(14575);function s({variant:e,className:s}){let r="h-4 w-4 shrink-0";return"success"===e?(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:(0,a.cn)(r,s),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M20 6L9 17l-5-5"})}):"warning"===e?(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,a.cn)(r,s),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M12 9v4"}),(0,t.jsx)("path",{d:"M12 17h.01"}),(0,t.jsx)("path",{d:"M10.3 3.6l-8.3 14.3A2 2 0 0 0 3.7 21h16.6a2 2 0 0 0 1.7-3.1L13.7 3.6a2 2 0 0 0-3.4 0z"})]}):"danger"===e?(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,a.cn)(r,s),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M18 6L6 18"}),(0,t.jsx)("path",{d:"M6 6l12 12"})]}):(0,t.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,a.cn)(r,s),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,t.jsx)("path",{d:"M12 16v-4"}),(0,t.jsx)("path",{d:"M12 8h.01"}),(0,t.jsx)("path",{d:"M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10z"})]})}function r({className:e,variant:r="info",title:i,children:n,...l}){let o={info:{wrapper:"border-[color:color-mix(in_srgb,var(--rb-blue),white_75%)] bg-[color:color-mix(in_srgb,var(--rb-blue),white_92%)] text-[var(--rb-text)]",icon:"text-[var(--rb-blue)]",title:"text-[var(--rb-blue)]"},success:{wrapper:"border-[color:color-mix(in_srgb,#16a34a,white_75%)] bg-[color:color-mix(in_srgb,#16a34a,white_92%)] text-[var(--rb-text)]",icon:"text-[#166534]",title:"text-[#166534]"},warning:{wrapper:"border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)] bg-[color:color-mix(in_srgb,var(--rb-orange),white_92%)] text-[var(--rb-text)]",icon:"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]",title:"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]"},danger:{wrapper:"border-[color:color-mix(in_srgb,#dc2626,white_75%)] bg-[color:color-mix(in_srgb,#dc2626,white_92%)] text-[var(--rb-text)]",icon:"text-[#991b1b]",title:"text-[#991b1b]"}}[r];return(0,t.jsx)("div",{role:"alert",className:(0,a.cn)("rounded-[var(--rb-radius-md)] border px-4 py-3",o.wrapper,e),...l,children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(s,{variant:r,className:(0,a.cn)("mt-0.5",o.icon)}),(0,t.jsxs)("div",{className:"min-w-0",children:[i?(0,t.jsx)("div",{className:(0,a.cn)("text-sm font-semibold",o.title),children:i}):null,n?(0,t.jsx)("div",{className:(0,a.cn)("text-sm text-zinc-700",i?"mt-1":""),children:n}):null]})]})})}e.s(["Alert",()=>r])},19463,e=>{"use strict";var t=e.i(48277),a=e.i(14575);function s({title:e,description:s,actions:r,className:i}){return(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",i),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-[var(--rb-text)]",children:e}),s?(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-600",children:s}):null]}),r?(0,t.jsx)("div",{className:"flex items-center gap-2",children:r}):null]})}e.s(["PageHeader",()=>s])},57373,e=>{"use strict";var t=e.i(48277),a=e.i(30668),s=e.i(14575);let r=(0,a.createContext)(null);function i(){let e=(0,a.useContext)(r);if(!e)throw Error("Tabs components must be used within <Tabs />");return e}function n({value:e,defaultValue:i,onValueChange:n,className:l,children:o}){let c=(0,a.useId)(),[d,m]=(0,a.useState)(i??""),u="string"==typeof e?e:d,p=(0,a.useCallback)(t=>{t&&(n&&n(t),"string"!=typeof e&&m(t))},[n,e]),x=(0,a.useMemo)(()=>({value:u,setValue:p,baseId:c}),[c,u,p]);return(0,t.jsx)(r.Provider,{value:x,children:(0,t.jsx)("div",{className:(0,s.cn)("space-y-4",l),children:o})})}function l({className:e,...a}){return(0,t.jsx)("div",{className:(0,s.cn)("inline-flex items-center gap-1 rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-white p-1 shadow-[var(--rb-shadow)]",e),role:"tablist",...a})}function o({value:e,className:a,...r}){let n=i(),l=n.value===e,{onClick:o,...c}=r;return(0,t.jsx)("button",{type:"button",role:"tab","aria-selected":l,"aria-controls":`${n.baseId}-panel-${e}`,id:`${n.baseId}-tab-${e}`,onClick:t=>{n.setValue(e),o?.(t)},className:(0,s.cn)("h-9 rounded-[var(--rb-radius-sm)] px-3 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--rb-orange)] focus-visible:ring-offset-2 focus-visible:ring-offset-white",l?"bg-[var(--rb-surface-muted)] text-[var(--rb-text)]":"text-zinc-600 hover:bg-[var(--rb-surface-muted)]",a),...c})}function c({value:e,className:a,children:r,...n}){let l=i();return l.value!==e?null:(0,t.jsx)("div",{role:"tabpanel",id:`${l.baseId}-panel-${e}`,"aria-labelledby":`${l.baseId}-tab-${e}`,className:(0,s.cn)(a),...n,children:r})}e.s(["Tabs",()=>n,"TabsContent",()=>c,"TabsList",()=>l,"TabsTrigger",()=>o])},33044,e=>{"use strict";var t=e.i(1831);async function a(e){return(0,t.apiFetch)(`/api/${e}/app/setup`)}async function s(e,a){if((Object.prototype.hasOwnProperty.call(a,"logo")?a.logo:void 0)instanceof File){let s=new FormData;for(let[e,t]of Object.entries(a)){if("logo"===e){s.append("logo",t);continue}if(void 0!==t){if(null===t){s.append(e,"");continue}"object"==typeof t?s.append(e,JSON.stringify(t)):s.append(e,String(t))}}return(0,t.apiFetch)(`/api/${e}/app/setup`,{method:"PATCH",body:s})}return(0,t.apiFetch)(`/api/${e}/app/setup`,{method:"PATCH",body:a})}async function r(e,a){return(0,t.apiFetch)(`/api/${e}/app/setup/complete`,{method:"POST",body:a})}e.s(["completeSetup",()=>r,"getSetup",()=>a,"updateSetup",()=>s])},38882,e=>{"use strict";var t=e.i(48277),a=e.i(30668),s=e.i(96086),r=e.i(1831),i=e.i(1314),n=e.i(77252),l=e.i(63571),o=e.i(9693),c=e.i(72015),d=e.i(26550),m=e.i(19463),u=e.i(57373),p=e.i(33044);let x=["UTC","Europe/London","Europe/Berlin","Europe/Paris","Africa/Cairo","Asia/Dubai","Asia/Riyadh","Asia/Kolkata","Asia/Singapore","Asia/Tokyo","Australia/Sydney","America/New_York","America/Chicago","America/Denver","America/Los_Angeles"];function g(){let e=(0,i.useAuth)(),g=(0,s.useRouter)(),h=(0,s.useParams)(),b=h.business??h.tenant;(0,a.useEffect)(()=>{"string"==typeof b&&b.length>0&&g.replace(`/app/${b}/business-settings?section=company-profile`)},[g,b]);let[v,f]=(0,a.useState)(!0),[j,y]=(0,a.useState)(!1),[_,C]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[S,T]=(0,a.useState)(null),[k,I]=(0,a.useState)("company"),[A,B]=(0,a.useState)(null),[U,F]=(0,a.useState)(""),[z,D]=(0,a.useState)(""),[E,L]=(0,a.useState)(""),[P,M]=(0,a.useState)(""),[O,$]=(0,a.useState)(""),[R,H]=(0,a.useState)(""),[V,W]=(0,a.useState)("USD"),[q,Y]=(0,a.useState)(""),[J,K]=(0,a.useState)(""),[G,Z]=(0,a.useState)(""),[Q,X]=(0,a.useState)(""),[ee,et]=(0,a.useState)(""),[ea,es]=(0,a.useState)(""),[er,ei]=(0,a.useState)(""),[en,el]=(0,a.useState)("#2563eb"),[eo,ec]=(0,a.useState)(""),[ed,em]=(0,a.useState)(""),[eu,ep]=(0,a.useState)(""),[ex,eg]=(0,a.useState)(""),[eh,eb]=(0,a.useState)("UTC"),[ev,ef]=(0,a.useState)("Mon–Fri 09:00–17:00"),[ej,ey]=(0,a.useState)(""),[e_,eC]=(0,a.useState)(""),[eN,ew]=(0,a.useState)(!0),[eS,eT]=(0,a.useState)(!1),[ek,eI]=(0,a.useState)(!1),[eA,eB]=(0,a.useState)("RB"),[eU,eF]=(0,a.useState)(""),[ez,eD]=(0,a.useState)("member"),eE=(0,a.useMemo)(()=>{try{let e=Intl,t="function"==typeof e.supportedValuesOf?e.supportedValuesOf("timeZone"):null;return Array.isArray(t)&&t.length>0?t:x}catch{return x}},[]);(0,a.useEffect)(()=>{let e=!0;async function t(){try{w(null),T(null),f(!0);let t=await (0,p.getSetup)(String(b));if(!e)return;B(t);let a=t.tenant;F(a.name??""),$(a.contact_email??""),H(a.contact_phone??""),W((a.currency??"USD").toUpperCase()),Y((a.billing_country??"").toUpperCase()),K(a.billing_vat_number??""),el(a.brand_color??"#2563eb"),eb(a.timezone??"UTC");let s=a.billing_address_json??{};Z("string"==typeof s.line1?s.line1:""),X("string"==typeof s.line2?s.line2:""),et("string"==typeof s.city?s.city:""),es("string"==typeof s.state?s.state:""),ei("string"==typeof s.postal_code?s.postal_code:"");let r=t.setup?.state??{},i=r.identity??{},n=r.branding??{},l=r.operations??{},o=r.tax??{},c=r.team??{};D("string"==typeof i.display_name?i.display_name:""),L("string"==typeof i.primary_contact_name?i.primary_contact_name:""),M("string"==typeof i.registration_number?i.registration_number:""),ec("string"==typeof n.support_email?n.support_email:""),em("string"==typeof n.support_phone?n.support_phone:""),ep("string"==typeof n.website?n.website:""),eg("string"==typeof n.document_footer?n.document_footer:""),ef("string"==typeof l.working_hours?l.working_hours:"Mon–Fri 09:00–17:00"),ey("string"==typeof l.default_labor_rate?l.default_labor_rate:""),eC("string"==typeof l.warranty_terms?l.warranty_terms:""),ew("boolean"!=typeof l.notify_status_change||l.notify_status_change),eT("boolean"==typeof l.notify_invoice_created&&l.notify_invoice_created),eI("boolean"==typeof o.tax_registered&&o.tax_registered),eB("string"==typeof o.invoice_prefix?o.invoice_prefix:"RB"),eF("string"==typeof c.invites?c.invites:""),eD("string"==typeof c.default_role?c.default_role:"member")}catch(t){if(!e)return;w(t instanceof Error?t.message:"Failed to load settings."),B(null)}finally{if(!e)return;f(!1)}}return"string"==typeof b&&b.length>0?t():(f(!1),w("Business is missing.")),()=>{e=!1}},[b]);let eL=(0,a.useMemo)(()=>{let e={};return G.trim()&&(e.line1=G.trim()),Q.trim()&&(e.line2=Q.trim()),ee.trim()&&(e.city=ee.trim()),ea.trim()&&(e.state=ea.trim()),er.trim()&&(e.postal_code=er.trim()),Object.keys(e).length>0?e:null},[ee,G,Q,er,ea]),eP=A?.tenant,eM=(0,a.useMemo)(()=>A?.setup?.state??null,[A?.setup?.state]),eO=(0,a.useMemo)(()=>{if(!eP)return!1;let e=eP.billing_address_json??{},t=JSON.stringify({line1:"string"==typeof e.line1?e.line1:"",line2:"string"==typeof e.line2?e.line2:"",city:"string"==typeof e.city?e.city:"",state:"string"==typeof e.state?e.state:"",postal_code:"string"==typeof e.postal_code?e.postal_code:""})!==JSON.stringify({line1:G,line2:Q,city:ee,state:ea,postal_code:er}),a=eM??{},s=a.identity??{},r=a.branding??{},i=a.operations??{},n=a.tax??{},l=a.team??{};return U.trim()!==(eP.name??"").trim()||(z.trim()||"")!==("string"==typeof s.display_name?s.display_name.trim():"")||(E.trim()||"")!==("string"==typeof s.primary_contact_name?s.primary_contact_name.trim():"")||(P.trim()||"")!==("string"==typeof s.registration_number?s.registration_number.trim():"")||(O.trim()||"")!==((eP.contact_email??"").trim()||"")||(R.trim()||"")!==((eP.contact_phone??"").trim()||"")||V.trim().toUpperCase()!==(eP.currency??"USD").toUpperCase()||q.trim().toUpperCase()!==(eP.billing_country??"").toUpperCase()||(J.trim()||"")!==((eP.billing_vat_number??"").trim()||"")||(en.trim()||"")!==((eP.brand_color??"").trim()||"")||(eh.trim()||"")!==((eP.timezone??"").trim()||"")||(eo.trim()||"")!==("string"==typeof r.support_email?r.support_email.trim():"")||(ed.trim()||"")!==("string"==typeof r.support_phone?r.support_phone.trim():"")||(eu.trim()||"")!==("string"==typeof r.website?r.website.trim():"")||(ex.trim()||"")!==("string"==typeof r.document_footer?r.document_footer.trim():"")||(ev.trim()||"")!==("string"==typeof i.working_hours?i.working_hours.trim():"")||(ej.trim()||"")!==("string"==typeof i.default_labor_rate?i.default_labor_rate.trim():"")||(e_.trim()||"")!==("string"==typeof i.warranty_terms?i.warranty_terms.trim():"")||eN!==("boolean"!=typeof i.notify_status_change||i.notify_status_change)||eS!==("boolean"==typeof i.notify_invoice_created&&i.notify_invoice_created)||ek!==("boolean"==typeof n.tax_registered&&n.tax_registered)||(eA.trim()||"")!==("string"==typeof n.invoice_prefix?n.invoice_prefix.trim():"")||(eU.trim()||"")!==("string"==typeof l.invites?l.invites.trim():"")||(ez.trim()||"")!==("string"==typeof l.default_role?l.default_role.trim():"")||t},[ee,G,Q,er,ea,q,J,O,R,V,en,ej,z,ex,eP,eM,eA,U,eS,eN,E,P,eo,ed,ek,ez,eU,eh,e_,eu,ev]),e$=a.default.useCallback(async e=>{if("string"==typeof b&&0!==b.length){C(!0),w(null);try{let t=await (0,p.updateSetup)(String(b),{logo:e});B(e=>e?{...e,tenant:t.tenant}:e)}catch(e){w(e instanceof Error?e.message:"Failed to upload logo.")}finally{C(!1)}}},[b]);async function eR(t){if(t.preventDefault(),w(null),T(null),!U.trim())return void w("Company name is required.");let a=V.trim().toUpperCase();if(3!==a.length)return void w("Currency must be a 3-letter code (e.g. USD).");let s=q.trim().toUpperCase();if(s&&2!==s.length)return void w("Billing country must be a 2-letter code (e.g. US).");if(!eh.trim())return void w("Timezone is required.");y(!0);try{let t={...A?.setup?.state??{},identity:{display_name:z.trim()||null,primary_contact_name:E.trim()||null,registration_number:P.trim()||null},branding:{support_email:eo.trim()||null,support_phone:ed.trim()||null,website:eu.trim()||null,document_footer:ex.trim()||null},operations:{working_hours:ev.trim()||null,default_labor_rate:ej.trim()||null,warranty_terms:e_.trim()||null,notify_status_change:!!eN,notify_invoice_created:!!eS},tax:{tax_registered:!!ek,invoice_prefix:eA.trim()||null},team:{invites:eU.trim()||null,default_role:ez.trim()||null}},r=await (0,p.updateSetup)(String(b),{name:U.trim()||void 0,contact_email:O.trim()||null,contact_phone:R.trim()||null,billing_country:s||null,billing_vat_number:J.trim()||null,billing_address_json:eL,currency:a,timezone:eh.trim()||null,language:"en",brand_color:en.trim()||null,setup_state:t});B(e=>e?{...e,tenant:r.tenant,setup:{...e.setup,state:t}}:e),await e.refresh(),T("Settings saved.")}catch(e){e instanceof r.ApiError?w(e.message):w("Failed to save settings.")}finally{y(!1)}}return(0,t.jsx)(n.RequireAuth,{requiredPermission:"settings.manage",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(m.PageHeader,{title:"Settings",description:"Company and billing settings for this business.",actions:(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>void e.refresh(),disabled:e.loading,children:"Refresh session"})}),e.isImpersonating?(0,t.jsx)(l.Alert,{variant:"warning",title:"Impersonation active",children:"Any changes you make here will be audited."}):null,N?(0,t.jsx)(l.Alert,{variant:"danger",title:"Could not load or save settings",children:N}):null,S?(0,t.jsx)(l.Alert,{variant:"success",title:"Success",children:S}):null,v?(0,t.jsx)("div",{className:"text-sm text-zinc-500",children:"Loading settings..."}):null,!v&&A?(0,t.jsxs)("form",{className:"space-y-6",onSubmit:eR,children:[(0,t.jsxs)(u.Tabs,{value:k,onValueChange:I,defaultValue:"company",children:[(0,t.jsxs)(u.TabsList,{children:[(0,t.jsx)(u.TabsTrigger,{value:"company",children:"Company"}),(0,t.jsx)(u.TabsTrigger,{value:"billing",children:"Billing"}),(0,t.jsx)(u.TabsTrigger,{value:"branding",children:"Branding"}),(0,t.jsx)(u.TabsTrigger,{value:"operations",children:"Operations"}),(0,t.jsx)(u.TabsTrigger,{value:"tax",children:"Tax"}),(0,t.jsx)(u.TabsTrigger,{value:"team",children:"Team"})]}),(0,t.jsx)(u.TabsContent,{value:"company",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Company"}),(0,t.jsx)(c.CardDescription,{children:"Basic business identity and contact information."})]}),(0,t.jsx)(c.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_name",children:"Company name"}),(0,t.jsx)(d.Input,{id:"tenant_name",value:U,onChange:e=>F(e.target.value),disabled:j,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_display_name",children:"Display name"}),(0,t.jsx)(d.Input,{id:"tenant_display_name",value:z,onChange:e=>D(e.target.value),disabled:j,placeholder:"Defaults to business name"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_primary_contact",children:"Primary contact person name"}),(0,t.jsx)(d.Input,{id:"tenant_primary_contact",value:E,onChange:e=>L(e.target.value),disabled:j,placeholder:"e.g. Alex Johnson"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_registration_number",children:"Business registration number"}),(0,t.jsx)(d.Input,{id:"tenant_registration_number",value:P,onChange:e=>M(e.target.value),disabled:j,placeholder:"Optional"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_contact_email",children:"Contact email"}),(0,t.jsx)(d.Input,{id:"tenant_contact_email",value:O,onChange:e=>$(e.target.value),disabled:j,type:"email",placeholder:"billing@company.com"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_contact_phone",children:"Contact phone"}),(0,t.jsx)(d.Input,{id:"tenant_contact_phone",value:R,onChange:e=>H(e.target.value),disabled:j,placeholder:"+1 555 123 4567"})]})]})})]})}),(0,t.jsx)(u.TabsContent,{value:"billing",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Billing"}),(0,t.jsx)(c.CardDescription,{children:"Used for invoices and tax calculation."})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_currency",children:"Currency"}),(0,t.jsx)(d.Input,{id:"tenant_currency",value:V,onChange:e=>W(e.target.value.toUpperCase().slice(0,3)),disabled:j,placeholder:"USD"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_billing_country",children:"Billing country"}),(0,t.jsx)(d.Input,{id:"tenant_billing_country",value:q,onChange:e=>Y(e.target.value.toUpperCase().slice(0,2)),disabled:j,placeholder:"US"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"tenant_billing_vat",children:"VAT number"}),(0,t.jsx)(d.Input,{id:"tenant_billing_vat",value:J,onChange:e=>K(e.target.value),disabled:j,placeholder:"Optional"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"addr1",children:"Address line 1"}),(0,t.jsx)(d.Input,{id:"addr1",value:G,onChange:e=>Z(e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"addr2",children:"Address line 2"}),(0,t.jsx)(d.Input,{id:"addr2",value:Q,onChange:e=>X(e.target.value),disabled:j})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"city",children:"City"}),(0,t.jsx)(d.Input,{id:"city",value:ee,onChange:e=>et(e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"state",children:"State/Region"}),(0,t.jsx)(d.Input,{id:"state",value:ea,onChange:e=>es(e.target.value),disabled:j})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium",htmlFor:"postal",children:"Postal code"}),(0,t.jsx)(d.Input,{id:"postal",value:er,onChange:e=>ei(e.target.value),disabled:j})]})]})]})]})}),(0,t.jsx)(u.TabsContent,{value:"branding",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Branding"}),(0,t.jsx)(c.CardDescription,{children:"Customer-facing visuals and contact information."})]}),(0,t.jsx)(c.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"Brand color"}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,t.jsx)("input",{type:"color",value:en,onChange:e=>el(e.target.value),className:"h-10 w-14 rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white shadow-sm","aria-label":"Brand color",disabled:j}),(0,t.jsx)(d.Input,{value:en,onChange:e=>el(e.target.value),placeholder:"#2563eb",disabled:j})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"Logo"}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[A?.tenant?.logo_url?(0,t.jsx)("img",{src:A.tenant.logo_url,alt:"Logo",className:"h-10 w-10 rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white object-contain"}):(0,t.jsx)("div",{className:"h-10 w-10 rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"file",accept:"image/png,image/jpeg,image/webp",disabled:_,onChange:e=>{let t=e.target.files&&e.target.files[0]?e.target.files[0]:null;t&&e$(t)},className:"block w-full text-sm text-zinc-700 file:mr-3 file:rounded-[var(--rb-radius-sm)] file:border-0 file:bg-[var(--rb-surface-muted)] file:px-3 file:py-2 file:text-sm file:font-medium file:text-[var(--rb-text)] hover:file:bg-[color:color-mix(in_srgb,var(--rb-surface-muted),black_4%)]"})})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:_?"Uploading...":"PNG/JPG/WEBP up to 5MB"})]}),(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Customer-facing contact (optional)"}),(0,t.jsxs)("div",{className:"mt-2 grid gap-3 sm:grid-cols-2",children:[(0,t.jsx)(d.Input,{value:eo,onChange:e=>ec(e.target.value),placeholder:"Public support email",disabled:j}),(0,t.jsx)(d.Input,{value:ed,onChange:e=>em(e.target.value),placeholder:"Public support phone",disabled:j}),(0,t.jsx)("div",{className:"sm:col-span-2",children:(0,t.jsx)(d.Input,{value:eu,onChange:e=>ep(e.target.value),placeholder:"Website (optional)",disabled:j})}),(0,t.jsx)("div",{className:"sm:col-span-2",children:(0,t.jsx)(d.Input,{value:ex,onChange:e=>eg(e.target.value),placeholder:"Document footer text (optional)",disabled:j})})]})]})]})})]})}),(0,t.jsx)(u.TabsContent,{value:"operations",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Operations"}),(0,t.jsx)(c.CardDescription,{children:"Defaults and notifications."})]}),(0,t.jsx)(c.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"Timezone"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)(d.Input,{value:eh,onChange:e=>eb(e.target.value),placeholder:"UTC",list:"rb-timezones",disabled:j}),(0,t.jsx)("datalist",{id:"rb-timezones",children:eE.map(e=>(0,t.jsx)("option",{value:e},e))})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:"Example: UTC, Europe/Berlin, America/New_York"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"Language"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(d.Input,{value:"English (en)",disabled:!0})}),(0,t.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:"Currently supported language: English"})]}),(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Operations defaults (optional)"}),(0,t.jsxs)("div",{className:"mt-2 grid gap-3 sm:grid-cols-2",children:[(0,t.jsx)("div",{className:"sm:col-span-2",children:(0,t.jsx)(d.Input,{value:ev,onChange:e=>ef(e.target.value),placeholder:"Working hours (e.g. Mon–Fri 09:00–17:00)",disabled:j})}),(0,t.jsx)(d.Input,{value:ej,onChange:e=>ey(e.target.value),placeholder:"Default labor rate (optional)",disabled:j}),(0,t.jsx)(d.Input,{value:e_,onChange:e=>eC(e.target.value),placeholder:"Default warranty terms (optional)",disabled:j}),(0,t.jsxs)("label",{className:"sm:col-span-2 flex items-center gap-2 text-sm text-[var(--rb-text)]",children:[(0,t.jsx)("input",{type:"checkbox",checked:eN,onChange:e=>ew(e.target.checked),disabled:j}),"Email on status change"]}),(0,t.jsxs)("label",{className:"sm:col-span-2 flex items-center gap-2 text-sm text-[var(--rb-text)]",children:[(0,t.jsx)("input",{type:"checkbox",checked:eS,onChange:e=>eT(e.target.checked),disabled:j}),"Email on invoice created"]})]})]})]})})]})}),(0,t.jsx)(u.TabsContent,{value:"tax",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Tax"}),(0,t.jsx)(c.CardDescription,{children:"VAT and invoice numbering preferences."})]}),(0,t.jsx)(c.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-[var(--rb-text)]",children:[(0,t.jsx)("input",{type:"checkbox",checked:ek,onChange:e=>eI(e.target.checked),disabled:j}),"Tax/VAT registered?"]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:"If enabled, VAT number may be required for certain billing flows."})]}),(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"VAT number"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(d.Input,{value:J,onChange:e=>K(e.target.value),placeholder:"EU123456789",disabled:j})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"Invoice prefix (optional)"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(d.Input,{value:eA,onChange:e=>eB(e.target.value),placeholder:"RB",disabled:j})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"Invoice format preview"}),(0,t.jsx)("div",{className:"mt-2 rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm text-zinc-700",children:(eA.trim()||"RB")+"-"+String(b||"TENANT")+"-YYYY-000001"})]})]})})]})}),(0,t.jsx)(u.TabsContent,{value:"team",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Team"}),(0,t.jsx)(c.CardDescription,{children:"Invite defaults (email sending not implemented yet)."})]}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"Invite team members (optional)"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(d.Input,{value:eU,onChange:e=>eF(e.target.value),placeholder:"Emails separated by commas",disabled:j})}),(0,t.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:"Invites are stored for later processing."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-[var(--rb-text)]",children:"Default role for invites (optional)"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(d.Input,{value:ez,onChange:e=>eD(e.target.value),placeholder:"member",disabled:j})}),(0,t.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:"Example values: owner, member, technician, front_desk."})]})]})]})})]}),(0,t.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,t.jsx)(o.Button,{type:"submit",disabled:j||!eO,children:j?"Saving...":"Save changes"})})]}):null]})})}e.s(["default",()=>g])}]);