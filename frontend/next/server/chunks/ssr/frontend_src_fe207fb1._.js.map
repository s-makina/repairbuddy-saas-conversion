{"version":3,"sources":["../../../../../frontend/src/components/ui/Badge.tsx","../../../../../frontend/src/components/ui/PageHeader.tsx","../../../../../frontend/src/components/ui/Select.tsx","../../../../../frontend/src/app/app/get-up-and-glo/calendar/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport type BadgeVariant = \"default\" | \"info\" | \"success\" | \"warning\" | \"danger\";\r\n\r\nexport function Badge({\r\n  className,\r\n  variant = \"default\",\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement> & { variant?: BadgeVariant }) {\r\n  const variants: Record<BadgeVariant, string> = {\r\n    default: \"bg-[var(--rb-surface-muted)] text-[var(--rb-text)] border-[var(--rb-border)]\",\r\n    info: \"bg-[color:color-mix(in_srgb,var(--rb-blue),white_85%)] text-[var(--rb-blue)] border-[color:color-mix(in_srgb,var(--rb-blue),white_70%)]\",\r\n    success: \"bg-[color:color-mix(in_srgb,#16a34a,white_85%)] text-[#166534] border-[color:color-mix(in_srgb,#16a34a,white_70%)]\",\r\n    warning: \"bg-[color:color-mix(in_srgb,var(--rb-orange),white_85%)] text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)] border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)]\",\r\n    danger: \"bg-[color:color-mix(in_srgb,#dc2626,white_85%)] text-[#991b1b] border-[color:color-mix(in_srgb,#dc2626,white_70%)]\",\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium\",\r\n        variants[variant],\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport function PageHeader({\r\n  title,\r\n  description,\r\n  actions,\r\n  className,\r\n}: {\r\n  title: string;\r\n  description?: string;\r\n  actions?: React.ReactNode;\r\n  className?: string;\r\n}) {\r\n  return (\r\n    <div className={cn(\"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between\", className)}>\r\n      <div>\r\n        <h1 className=\"text-xl font-semibold text-[var(--rb-text)]\">{title}</h1>\r\n        {description ? <p className=\"mt-1 text-sm text-zinc-600\">{description}</p> : null}\r\n      </div>\r\n      {actions ? <div className=\"flex items-center gap-2\">{actions}</div> : null}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport function Select({ className, children, ...props }: React.SelectHTMLAttributes<HTMLSelectElement>) {\r\n  return (\r\n    <select\r\n      className={cn(\r\n        \"w-full appearance-none rounded-[var(--rb-radius-sm)] border border-zinc-300 bg-white px-3 py-2 text-sm text-[var(--rb-text)] outline-none transition\",\r\n        \"focus-visible:ring-2 focus-visible:ring-[color:color-mix(in_srgb,var(--rb-orange),white_65%)] focus-visible:ring-offset-2 focus-visible:ring-offset-white\",\r\n        \"disabled:cursor-not-allowed disabled:bg-[var(--rb-surface-muted)] disabled:opacity-70\",\r\n        \"bg-[right_0.75rem_center] bg-no-repeat pr-10\",\r\n        \"[background-image:url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"%236b7280\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><path d=\\\"m6 9 6 6 6-6\\\"/></svg>')]\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </select>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport listPlugin from \"@fullcalendar/list\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\nimport type { EventContentArg, EventInput, EventMountArg, EventSourceFuncArg } from \"@fullcalendar/core\";\r\nimport { PageHeader } from \"@/components/ui/PageHeader\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { Card, CardContent } from \"@/components/ui/Card\";\r\nimport { Badge } from \"@/components/ui/Badge\";\r\nimport { Select } from \"@/components/ui/Select\";\r\nimport { apiFetch, ApiError } from \"@/lib/api\";\r\nimport { useAuth } from \"@/lib/auth\";\r\n\r\ntype DateField = \"pickup_date\" | \"delivery_date\" | \"next_service_date\" | \"post_date\";\r\n\r\ntype CalendarFilter = \"all\" | \"jobs\" | \"estimates\" | \"my_assignments\";\r\n\r\ntype ApiJob = {\r\n  id: number;\r\n  case_number: string;\r\n  title: string;\r\n  status: string;\r\n  customer?: { id: number; name: string } | null;\r\n  assigned_technicians?: Array<{ id: number; name: string; email: string }>;\r\n  pickup_date?: string | null;\r\n  delivery_date?: string | null;\r\n  next_service_date?: string | null;\r\n  created_at?: string;\r\n};\r\n\r\ntype ApiEstimate = {\r\n  id: number;\r\n  case_number: string;\r\n  title: string;\r\n  status: string;\r\n  customer?: { id: number; name: string } | null;\r\n  pickup_date?: string | null;\r\n  delivery_date?: string | null;\r\n  assigned_technician_id?: number | null;\r\n  created_at?: string;\r\n};\r\n\r\ntype CalendarItem = {\r\n  id: string;\r\n  type: \"job\" | \"estimate\";\r\n  numericId: number;\r\n  caseNumber: string;\r\n  customerName: string;\r\n  status: string;\r\n  assignedToMe: boolean;\r\n  pickup_date: string | null;\r\n  delivery_date: string | null;\r\n  next_service_date: string | null;\r\n  post_date: string | null;\r\n};\r\n\r\ntype CalendarExtendedProps = {\r\n  type?: string;\r\n  status?: string;\r\n  tooltip?: string;\r\n  href?: string;\r\n};\r\n\r\nfunction DateFieldButton({\r\n  field,\r\n  label,\r\n  active,\r\n  onSelect,\r\n}: {\r\n  field: DateField;\r\n  label: string;\r\n  active: boolean;\r\n  onSelect: (field: DateField) => void;\r\n}) {\r\n  return (\r\n    <Button\r\n      size=\"sm\"\r\n      variant={active ? \"primary\" : \"outline\"}\r\n      className=\"rounded-none border-0\"\r\n      onClick={() => onSelect(field)}\r\n      type=\"button\"\r\n    >\r\n      {label}\r\n    </Button>\r\n  );\r\n}\r\n\r\nfunction normalizeStatusClass(status: string) {\r\n  return `status-${status.toLowerCase().replace(/\\s+/g, \"\").replace(/\\//g, \"\")}`;\r\n}\r\n\r\nfunction normalizeIsoDate(value: unknown): string | null {\r\n  if (typeof value !== \"string\") return null;\r\n  const trimmed = value.trim();\r\n  if (trimmed === \"\") return null;\r\n  const d = new Date(trimmed);\r\n  if (Number.isNaN(d.getTime())) return null;\r\n  return d.toISOString().slice(0, 10);\r\n}\r\n\r\nfunction withinRange(date: string, start: string, end: string): boolean {\r\n  return date >= start && date < end;\r\n}\r\n\r\nexport default function GetUpAndGloCalendarPage() {\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n  const tenantSlug = \"get-up-and-glo\";\r\n\r\n  const enableNextServiceDate = true;\r\n  const showMyAssignments = auth.isAdmin;\r\n\r\n  const [dateField, setDateField] = React.useState<DateField>(\"pickup_date\");\r\n  const [filter, setFilter] = React.useState<CalendarFilter>(\"all\");\r\n\r\n  const [itemsLoading, setItemsLoading] = React.useState(true);\r\n  const [itemsError, setItemsError] = React.useState<string | null>(null);\r\n  const [items, setItems] = React.useState<CalendarItem[]>([]);\r\n  const [activeRange, setActiveRange] = React.useState<{ start: string; end: string } | null>(null);\r\n\r\n  const [busyRefresh, setBusyRefresh] = React.useState(false);\r\n  const [calendarLoading, setCalendarLoading] = React.useState(false);\r\n  const calendarRef = React.useRef<FullCalendar | null>(null);\r\n  const lastLoadedAtRef = React.useRef<number>(0);\r\n\r\n  React.useEffect(() => {\r\n    if (filter === \"my_assignments\" && !showMyAssignments) {\r\n      setFilter(\"all\");\r\n    }\r\n  }, [filter, showMyAssignments]);\r\n\r\n  const userId = auth.user?.id ?? null;\r\n\r\n  const loadAllItems = React.useCallback(async () => {\r\n    setItemsLoading(true);\r\n    setItemsError(null);\r\n\r\n    try {\r\n      const qsJobs = new URLSearchParams();\r\n      qsJobs.set(\"page\", \"1\");\r\n      qsJobs.set(\"per_page\", \"100\");\r\n\r\n      const [jobsRes, estimatesRes] = await Promise.all([\r\n        apiFetch<{ jobs: ApiJob[]; meta?: unknown }>(`/api/${tenantSlug}/app/repairbuddy/jobs?${qsJobs.toString()}`),\r\n        apiFetch<{ estimates: ApiEstimate[] }>(`/api/${tenantSlug}/app/repairbuddy/estimates?limit=200`),\r\n      ]);\r\n\r\n      const jobsRaw = Array.isArray(jobsRes?.jobs) ? jobsRes.jobs : [];\r\n      const estimatesRaw = Array.isArray(estimatesRes?.estimates) ? estimatesRes.estimates : [];\r\n\r\n      const nextItems: CalendarItem[] = [];\r\n\r\n      for (const j of jobsRaw) {\r\n        const numericId = typeof j?.id === \"number\" ? j.id : NaN;\r\n        if (!Number.isFinite(numericId)) continue;\r\n\r\n        const assigned = Array.isArray(j?.assigned_technicians) ? j.assigned_technicians : [];\r\n        const assignedToMe = typeof userId === \"number\" ? assigned.some((t) => t?.id === userId) : false;\r\n        const customerName = typeof j?.customer?.name === \"string\" ? j.customer.name : \"Unknown\";\r\n\r\n        nextItems.push({\r\n          id: `job-${numericId}`,\r\n          type: \"job\",\r\n          numericId,\r\n          caseNumber: typeof j?.case_number === \"string\" && j.case_number.trim() !== \"\" ? j.case_number : String(numericId),\r\n          customerName,\r\n          status: typeof j?.status === \"string\" && j.status.trim() !== \"\" ? j.status : \"Job\",\r\n          assignedToMe,\r\n          pickup_date: normalizeIsoDate(j?.pickup_date),\r\n          delivery_date: normalizeIsoDate(j?.delivery_date),\r\n          next_service_date: normalizeIsoDate(j?.next_service_date),\r\n          post_date: normalizeIsoDate(j?.created_at),\r\n        });\r\n      }\r\n\r\n      for (const e of estimatesRaw) {\r\n        const numericId = typeof e?.id === \"number\" ? e.id : NaN;\r\n        if (!Number.isFinite(numericId)) continue;\r\n\r\n        const assignedToMe =\r\n          typeof userId === \"number\" && typeof e?.assigned_technician_id === \"number\" ? e.assigned_technician_id === userId : false;\r\n        const customerName = typeof e?.customer?.name === \"string\" ? e.customer.name : \"Unknown\";\r\n\r\n        nextItems.push({\r\n          id: `estimate-${numericId}`,\r\n          type: \"estimate\",\r\n          numericId,\r\n          caseNumber: typeof e?.case_number === \"string\" && e.case_number.trim() !== \"\" ? e.case_number : String(numericId),\r\n          customerName,\r\n          status: typeof e?.status === \"string\" && e.status.trim() !== \"\" ? e.status : \"Estimate\",\r\n          assignedToMe,\r\n          pickup_date: normalizeIsoDate(e?.pickup_date),\r\n          delivery_date: normalizeIsoDate(e?.delivery_date),\r\n          next_service_date: null,\r\n          post_date: normalizeIsoDate(e?.created_at),\r\n        });\r\n      }\r\n\r\n      setItems(nextItems);\r\n      lastLoadedAtRef.current = Date.now();\r\n    } catch (e) {\r\n      if (e instanceof ApiError && e.status === 428) {\r\n        const next = `/app/${tenantSlug}/calendar`;\r\n        router.replace(`/app/${tenantSlug}/branches/select?next=${encodeURIComponent(next)}`);\r\n        return;\r\n      }\r\n\r\n      setItemsError(e instanceof Error ? e.message : \"Failed to load calendar data.\");\r\n      setItems([]);\r\n    } finally {\r\n      setItemsLoading(false);\r\n    }\r\n  }, [router, tenantSlug, userId]);\r\n\r\n  React.useEffect(() => {\r\n    void loadAllItems();\r\n  }, [loadAllItems]);\r\n\r\n  const visibleItems = React.useMemo(() => {\r\n    if (filter === \"jobs\") return items.filter((x) => x.type === \"job\");\r\n    if (filter === \"estimates\") return items.filter((x) => x.type === \"estimate\");\r\n    if (filter === \"my_assignments\") return items.filter((x) => x.assignedToMe);\r\n    return items;\r\n  }, [filter, items]);\r\n\r\n  const resolveItemDate = React.useCallback(\r\n    (item: CalendarItem) => {\r\n      if (dateField === \"pickup_date\") return item.pickup_date;\r\n      if (dateField === \"delivery_date\") return item.delivery_date;\r\n      if (dateField === \"next_service_date\") return item.next_service_date;\r\n      return item.post_date;\r\n    },\r\n    [dateField],\r\n  );\r\n\r\n  const visibleItemsInRange = React.useMemo(() => {\r\n    if (!activeRange) return visibleItems;\r\n    const start = activeRange.start;\r\n    const end = activeRange.end;\r\n\r\n    return visibleItems.filter((item) => {\r\n      const date = resolveItemDate(item);\r\n      if (!date) return false;\r\n      return withinRange(date, start, end);\r\n    });\r\n  }, [activeRange, resolveItemDate, visibleItems]);\r\n\r\n  const totals = React.useMemo(() => {\r\n    return {\r\n      jobs: visibleItemsInRange.filter((e) => e.type === \"job\").length,\r\n      estimates: visibleItemsInRange.filter((e) => e.type === \"estimate\").length,\r\n    };\r\n  }, [visibleItemsInRange]);\r\n\r\n  const loadEvents = React.useCallback(\r\n    (info: EventSourceFuncArg, successCallback: (events: EventInput[]) => void, failureCallback: (error: Error) => void) => {\r\n      const start = info.startStr.split(\"T\")[0] ?? info.startStr;\r\n      const end = info.endStr.split(\"T\")[0] ?? info.endStr;\r\n\r\n      try {\r\n        const events: EventInput[] = [];\r\n\r\n        for (const item of visibleItems) {\r\n          const date = resolveItemDate(item);\r\n          if (!date) continue;\r\n          if (!withinRange(date, start, end)) continue;\r\n\r\n          const titlePrefix = item.type === \"estimate\" ? \"Estimate\" : \"Job\";\r\n          const href = item.type === \"estimate\" ? `/app/${tenantSlug}/estimates/${item.numericId}` : `/app/${tenantSlug}/jobs/${item.numericId}`;\r\n\r\n          events.push({\r\n            id: item.id,\r\n            title: `${titlePrefix} ${item.caseNumber}`,\r\n            start: date,\r\n            allDay: true,\r\n            classNames: [item.type === \"estimate\" ? \"estimate-event\" : \"job-event\", normalizeStatusClass(item.status)],\r\n            extendedProps: {\r\n              type: item.type,\r\n              status: item.status,\r\n              tooltip: `Case: ${item.caseNumber} | Customer: ${item.customerName} | Status: ${item.status}`,\r\n              customerName: item.customerName,\r\n              caseNumber: item.caseNumber,\r\n              href,\r\n            } as CalendarExtendedProps,\r\n          });\r\n        }\r\n\r\n        successCallback(events);\r\n      } catch (err) {\r\n        failureCallback(err instanceof Error ? err : new Error(\"Failed to build calendar events.\"));\r\n      }\r\n    },\r\n    [resolveItemDate, tenantSlug, visibleItems],\r\n  );\r\n\r\n  async function refreshAll() {\r\n    if (busyRefresh) return;\r\n    setBusyRefresh(true);\r\n\r\n    try {\r\n      await loadAllItems();\r\n      calendarRef.current?.getApi().refetchEvents();\r\n    } finally {\r\n      setBusyRefresh(false);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    calendarRef.current?.getApi().refetchEvents();\r\n  }, [dateField, filter]);\r\n\r\n  const onSelectDateField = React.useCallback((field: DateField) => setDateField(field), []);\r\n\r\n  const emptyHint =\r\n    visibleItems.length === 0\r\n      ? itemsLoading\r\n        ? \"Loadingâ€¦\"\r\n        : itemsError\r\n          ? \"Calendar data could not be loaded.\"\r\n          : \"No items match the current filter.\"\r\n      : null;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <PageHeader\r\n        title=\"Service Calendar\"\r\n        description=\"View and manage all your service appointments and estimates\"\r\n        actions={\r\n          <div className=\"flex flex-wrap items-center gap-2\">\r\n            <div className=\"inline-flex overflow-hidden rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white\">\r\n              <DateFieldButton field=\"pickup_date\" label=\"Pickup Date\" active={dateField === \"pickup_date\"} onSelect={onSelectDateField} />\r\n              <div className=\"h-8 w-px bg-[var(--rb-border)]\" />\r\n              <DateFieldButton field=\"delivery_date\" label=\"Delivery Date\" active={dateField === \"delivery_date\"} onSelect={onSelectDateField} />\r\n              {enableNextServiceDate ? (\r\n                <>\r\n                  <div className=\"h-8 w-px bg-[var(--rb-border)]\" />\r\n                  <DateFieldButton field=\"next_service_date\" label=\"Next Service\" active={dateField === \"next_service_date\"} onSelect={onSelectDateField} />\r\n                </>\r\n              ) : null}\r\n              <div className=\"h-8 w-px bg-[var(--rb-border)]\" />\r\n              <DateFieldButton field=\"post_date\" label=\"Creation\" active={dateField === \"post_date\"} onSelect={onSelectDateField} />\r\n            </div>\r\n          </div>\r\n        }\r\n      />\r\n\r\n      <Card className=\"shadow-none\">\r\n        <CardContent className=\"pt-5\">\r\n          <div className=\"rounded-[var(--rb-radius-md)] bg-[var(--rb-surface-muted)] p-4\">\r\n            <div className=\"flex flex-col gap-3 md:flex-row md:items-center md:justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"text-sm font-semibold text-[var(--rb-text)]\">Filter:</div>\r\n                <Select\r\n                  value={filter}\r\n                  onChange={(e) => setFilter(e.target.value as CalendarFilter)}\r\n                  className=\"w-auto min-w-[180px]\"\r\n                  disabled={itemsLoading || busyRefresh || calendarLoading}\r\n                >\r\n                  <option value=\"all\">All Items</option>\r\n                  <option value=\"jobs\">Jobs Only</option>\r\n                  <option value=\"estimates\">Estimates Only</option>\r\n                  {showMyAssignments ? <option value=\"my_assignments\">My Assignments</option> : null}\r\n                </Select>\r\n                <input type=\"hidden\" value={dateField} readOnly />\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <Button size=\"sm\" variant=\"outline\" onClick={() => void loadAllItems()} disabled={itemsLoading || busyRefresh}>\r\n                  Reload data\r\n                </Button>\r\n                <Button size=\"sm\" variant=\"primary\" onClick={() => void refreshAll()} disabled={itemsLoading || busyRefresh}>\r\n                  {busyRefresh ? \"Loading...\" : \"Refresh\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {itemsError ? (\r\n              <div className=\"mt-3 rounded-[var(--rb-radius-sm)] border border-red-200 bg-red-50 p-3 text-sm text-red-800\">\r\n                {itemsError}\r\n              </div>\r\n            ) : null}\r\n\r\n            {!itemsError && typeof lastLoadedAtRef.current === \"number\" && lastLoadedAtRef.current > 0 ? (\r\n              <div className=\"mt-3 text-xs text-zinc-500\">Last updated: {new Date(lastLoadedAtRef.current).toLocaleString()}</div>\r\n            ) : null}\r\n          </div>\r\n\r\n          <div className=\"relative mt-4\">\r\n            <div className=\"rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white\" style={{ minHeight: 500 }}>\r\n              <FullCalendar\r\n                ref={calendarRef}\r\n                plugins={[dayGridPlugin, timeGridPlugin, listPlugin, interactionPlugin]}\r\n                initialView=\"dayGridMonth\"\r\n                headerToolbar={{\r\n                  left: \"prevYear,prev,next,nextYear today\",\r\n                  center: \"title\",\r\n                  right: \"dayGridMonth,timeGridWeek,timeGridDay,listMonth\",\r\n                }}\r\n                buttonText={{\r\n                  today: \"Today\",\r\n                  month: \"Month\",\r\n                  week: \"Week\",\r\n                  day: \"Day\",\r\n                  list: \"List\",\r\n                }}\r\n                height=\"auto\"\r\n                expandRows\r\n                navLinks\r\n                nowIndicator\r\n                editable={false}\r\n                selectable\r\n                dayMaxEvents={10}\r\n                events={loadEvents}\r\n                datesSet={(arg) => {\r\n                  const start = arg.start;\r\n                  const end = arg.end;\r\n                  const startIso = start instanceof Date && !Number.isNaN(start.getTime()) ? start.toISOString().slice(0, 10) : null;\r\n                  const endIso = end instanceof Date && !Number.isNaN(end.getTime()) ? end.toISOString().slice(0, 10) : null;\r\n                  if (startIso && endIso) {\r\n                    setActiveRange({ start: startIso, end: endIso });\r\n                  }\r\n                }}\r\n                eventDidMount={(info: EventMountArg) => {\r\n                  const tip = (info.event.extendedProps as CalendarExtendedProps | undefined)?.tooltip;\r\n                  if (typeof tip === \"string\" && tip.length > 0) {\r\n                    info.el.setAttribute(\"title\", tip);\r\n                  }\r\n                }}\r\n                eventClick={(info) => {\r\n                  const href = (info.event.extendedProps as CalendarExtendedProps | undefined)?.href;\r\n                  if (typeof href === \"string\" && href.trim() !== \"\") {\r\n                    info.jsEvent.preventDefault();\r\n                    router.push(href);\r\n                  }\r\n                }}\r\n                eventContent={(arg: EventContentArg) => {\r\n                  const props = arg.event.extendedProps as (CalendarExtendedProps & { customerName?: string; caseNumber?: string }) | undefined;\r\n                  const status = props?.status;\r\n                  const customerName = typeof props?.customerName === \"string\" ? props.customerName : \"\";\r\n                  return (\r\n                    <div className=\"flex min-w-0 flex-col\">\r\n                      <div className=\"truncate text-[0.8125rem] font-semibold leading-[1.1]\">{arg.event.title}</div>\r\n                      {customerName ? <div className=\"truncate text-[0.8125rem] leading-[1.1]\">{customerName}</div> : null}\r\n                      {status ? <div className=\"truncate text-[0.8125rem] opacity-80\">{status}</div> : null}\r\n                    </div>\r\n                  );\r\n                }}\r\n                loading={(isLoading: boolean) => {\r\n                  setCalendarLoading(isLoading);\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            {calendarLoading || itemsLoading ? (\r\n              <div className=\"absolute left-1/2 top-1/2 z-10 w-[280px] -translate-x-1/2 -translate-y-1/2 rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white p-4 shadow\">\r\n                <div className=\"flex flex-col items-center gap-2\">\r\n                  <div className=\"h-7 w-7 animate-spin rounded-full border-2 border-[var(--rb-border)] border-t-[var(--rb-blue)]\" />\r\n                  <div className=\"text-sm text-zinc-600\">Loading calendar events...</div>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n\r\n            {!itemsLoading && !itemsError && emptyHint ? (\r\n              <div className=\"mt-3 rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-[var(--rb-surface-muted)] p-4 text-sm text-zinc-600\">\r\n                {emptyHint}\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n\r\n          <div className=\"mt-5 border-t border-[var(--rb-border)] pt-4\">\r\n            <div className=\"flex flex-wrap items-center gap-2\">\r\n              <span className=\"text-sm text-zinc-500\">Legend:</span>\r\n              <Badge className=\"!bg-[var(--rb-blue)] !text-white !border-transparent shadow-sm\">Job</Badge>\r\n              <Badge className=\"!bg-[var(--rb-orange)] !text-white !border-transparent shadow-sm\">Estimate</Badge>\r\n              <Badge className=\"!bg-[#16a34a] !text-white !border-transparent shadow-sm\">New/Quote</Badge>\r\n              <Badge className=\"!bg-[#0ea5e9] !text-white !border-transparent shadow-sm\">In Process</Badge>\r\n              <Badge className=\"!bg-[#dc2626] !text-white !border-transparent shadow-sm\">Cancelled</Badge>\r\n              <Badge className=\"!bg-[#fd7e14] !text-white !border-transparent shadow-sm\">Ready</Badge>\r\n              <Badge className=\"!bg-[#6f42c1] !text-white !border-transparent shadow-sm\">Completed</Badge>\r\n              <Badge className=\"!bg-[#e83e8c] !text-white !border-transparent shadow-sm\">Delivered</Badge>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <div className=\"grid gap-4 md:grid-cols-2\">\r\n        <Card className=\"relative overflow-hidden border-0 bg-gradient-to-br from-[var(--rb-blue)] via-[#1d4ed8] to-[#0ea5e9] text-white shadow-sm\">\r\n          <div className=\"pointer-events-none absolute -right-12 -top-12 h-40 w-40 rounded-full bg-white/10\" />\r\n          <div className=\"pointer-events-none absolute -bottom-16 -left-16 h-56 w-56 rounded-full bg-black/10\" />\r\n          <CardContent className=\"relative pt-5\">\r\n            <div className=\"text-sm font-semibold opacity-90\">Total Jobs</div>\r\n            <div className=\"mt-2 text-4xl font-bold\">{totals.jobs}</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"relative overflow-hidden border-0 bg-gradient-to-br from-[#16a34a] via-[#22c55e] to-[#10b981] text-white shadow-sm\">\r\n          <div className=\"pointer-events-none absolute -right-12 -top-12 h-40 w-40 rounded-full bg-white/10\" />\r\n          <div className=\"pointer-events-none absolute -bottom-16 -left-16 h-56 w-56 rounded-full bg-black/10\" />\r\n          <CardContent className=\"relative pt-5\">\r\n            <div className=\"text-sm font-semibold opacity-90\">Total Estimates</div>\r\n            <div className=\"mt-2 text-4xl font-bold\">{totals.estimates}</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}