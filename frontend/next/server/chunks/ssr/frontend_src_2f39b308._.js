module.exports=[75385,a=>{"use strict";var b=a.i(57850),c=a.i(7160);function d({variant:a,className:d}){let e="h-4 w-4 shrink-0";return"success"===a?(0,b.jsx)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M20 6L9 17l-5-5"})}):"warning"===a?(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M12 9v4"}),(0,b.jsx)("path",{d:"M12 17h.01"}),(0,b.jsx)("path",{d:"M10.3 3.6l-8.3 14.3A2 2 0 0 0 3.7 21h16.6a2 2 0 0 0 1.7-3.1L13.7 3.6a2 2 0 0 0-3.4 0z"})]}):"danger"===a?(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M18 6L6 18"}),(0,b.jsx)("path",{d:"M6 6l12 12"})]}):(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M12 16v-4"}),(0,b.jsx)("path",{d:"M12 8h.01"}),(0,b.jsx)("path",{d:"M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10z"})]})}function e({className:a,variant:e="info",title:f,children:g,...h}){let i={info:{wrapper:"border-[color:color-mix(in_srgb,var(--rb-blue),white_75%)] bg-[color:color-mix(in_srgb,var(--rb-blue),white_92%)] text-[var(--rb-text)]",icon:"text-[var(--rb-blue)]",title:"text-[var(--rb-blue)]"},success:{wrapper:"border-[color:color-mix(in_srgb,#16a34a,white_75%)] bg-[color:color-mix(in_srgb,#16a34a,white_92%)] text-[var(--rb-text)]",icon:"text-[#166534]",title:"text-[#166534]"},warning:{wrapper:"border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)] bg-[color:color-mix(in_srgb,var(--rb-orange),white_92%)] text-[var(--rb-text)]",icon:"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]",title:"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]"},danger:{wrapper:"border-[color:color-mix(in_srgb,#dc2626,white_75%)] bg-[color:color-mix(in_srgb,#dc2626,white_92%)] text-[var(--rb-text)]",icon:"text-[#991b1b]",title:"text-[#991b1b]"}}[e];return(0,b.jsx)("div",{role:"alert",className:(0,c.cn)("rounded-[var(--rb-radius-md)] border px-4 py-3",i.wrapper,a),...h,children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d,{variant:e,className:(0,c.cn)("mt-0.5",i.icon)}),(0,b.jsxs)("div",{className:"min-w-0",children:[f?(0,b.jsx)("div",{className:(0,c.cn)("text-sm font-semibold",i.title),children:f}):null,g?(0,b.jsx)("div",{className:(0,c.cn)("text-sm text-zinc-700",f?"mt-1":""),children:g}):null]})]})})}a.s(["Alert",()=>e])},17933,a=>{"use strict";var b=a.i(57850),c=a.i(7160);function d({className:a,variant:d="default",...e}){return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium",{default:"bg-[var(--rb-surface-muted)] text-[var(--rb-text)] border-[var(--rb-border)]",info:"bg-[color:color-mix(in_srgb,var(--rb-blue),white_85%)] text-[var(--rb-blue)] border-[color:color-mix(in_srgb,var(--rb-blue),white_70%)]",success:"bg-[color:color-mix(in_srgb,#16a34a,white_85%)] text-[#166534] border-[color:color-mix(in_srgb,#16a34a,white_70%)]",warning:"bg-[color:color-mix(in_srgb,var(--rb-orange),white_85%)] text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)] border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)]",danger:"bg-[color:color-mix(in_srgb,#dc2626,white_85%)] text-[#991b1b] border-[color:color-mix(in_srgb,#dc2626,white_70%)]"}[d],a),...e})}a.s(["Badge",()=>d])},26606,a=>{"use strict";var b=a.i(57850),c=a.i(7160),d=a.i(4600);function e({className:a,"aria-hidden":d=!0,...e}){return(0,b.jsx)("div",{"aria-hidden":d,className:(0,c.cn)("rb-skeleton",a),...e})}function f({lines:a=3,className:f}){let g=Math.max(1,Math.min(a,12));return(0,b.jsx)(d.Card,{className:(0,c.cn)("overflow-hidden",f),children:(0,b.jsxs)(d.CardContent,{className:"space-y-3 pt-5",children:[(0,b.jsx)(e,{className:"h-4 w-32 rounded-[var(--rb-radius-sm)]"}),Array.from({length:g}).map((a,d)=>(0,b.jsx)(e,{className:(0,c.cn)("h-3 rounded-[var(--rb-radius-sm)]",d===g-1?"w-3/5":"w-full")},d))]})})}function g({rows:a=6,columns:d=5,className:f}){let g=Math.max(1,Math.min(a,20)),h=Math.max(1,Math.min(d,10));return(0,b.jsxs)("div",{className:(0,c.cn)("overflow-hidden rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-white shadow-[var(--rb-shadow)]",f),children:[(0,b.jsx)("div",{className:"border-b border-[var(--rb-border)] px-5 py-4",children:(0,b.jsx)("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${h}, minmax(0, 1fr))`},children:Array.from({length:h}).map((a,c)=>(0,b.jsx)(e,{className:"h-3 w-full rounded-[var(--rb-radius-sm)]"},c))})}),(0,b.jsx)("div",{className:"px-5 pb-5 pt-4",children:(0,b.jsx)("div",{className:"space-y-3",children:Array.from({length:g}).map((a,d)=>(0,b.jsx)("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${h}, minmax(0, 1fr))`},children:Array.from({length:h}).map((a,d)=>(0,b.jsx)(e,{className:(0,c.cn)("h-3 rounded-[var(--rb-radius-sm)]",0===d?"w-3/4":"w-full")},d))},d))})})]})}a.s(["CardSkeleton",()=>f,"Skeleton",()=>e,"TableSkeleton",()=>g])},54177,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(7160),e=a.i(97867),f=a.i(46036),g=a.i(26606),h=a.i(34075);function i({title:a,data:i,columns:j,getRowId:k,loading:l=!1,emptyMessage:m="No data.",search:n,filters:o=[],pageSizeOptions:p=[10,25,50],initialPageSize:q=10,server:r,exportConfig:s,columnVisibilityKey:t,onRowClick:u,className:v}){let[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(0),[A,B]=(0,c.useState)(q),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(0),I=(0,c.useId)(),J=!!r,K=J?r.query:w,L=J?r.onQueryChange:x,M=J?r.pageIndex:y,N=J?r.onPageIndexChange:z,O=J?r.pageSize:A,P=J?r.onPageSizeChange:B,Q=J?r.sort??null:null,R=J?r.onSortChange:void 0,S=(0,c.useMemo)(()=>{let a=Array.isArray(j)?j:[];{let b=a.filter(a=>!a.hiddenByDefault);return b.length>0?b:a.slice(0,1)}},[t,j,G]),T=(0,c.useMemo)(()=>{if(J)return Array.isArray(i)?i:[];let a=K.trim().toLowerCase();return(Array.isArray(i)?i:[]).filter(b=>{if(n&&n.getSearchText&&a.length>0&&!n.getSearchText(b).toLowerCase().includes(a))return!1;for(let a of o)if(a.predicate&&!a.predicate(b,a.value))return!1;return!0})},[i,o,J,K,n]),U=J?r.totalRows:T.length,V=Math.max(1,Math.ceil(U/O)),W=Math.min(M,V-1),X=Math.max(1,Math.min(8,O||10)),Y=(0,c.useMemo)(()=>{if(J)return T;let a=W*O,b=a+O;return T.slice(a,b)},[W,T,J,O]),Z=W>0,$=W<V-1,_=!!n||o.length>0||!!s||!!t;function aa(a,b){}async function ab(a){if(s&&!C){F(null),D(a);try{let b=new URLSearchParams;for(let a of(K.trim().length>0&&b.set("q",K.trim()),o)){let c=a.value;null!=c&&0!==String(c).length&&b.set(a.id,String(c))}if(J&&Q?.id&&Q?.dir&&(b.set("sort",Q.id),b.set("dir",Q.dir)),b.set("format",a),s.extraQuery)for(let[a,c]of Object.entries(s.extraQuery))null!=c&&b.set(a,String(c));let c=`${s.url}${s.url.includes("?")?"&":"?"}${b.toString()}`,d=s.filename?.({format:a});await (0,h.apiDownload)(c,{filename:d})}catch(a){F(a instanceof Error?a.message:"Export failed.")}finally{D(null)}}}return(0,b.jsxs)("div",{className:(0,d.cn)("space-y-3",v),children:[a?(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:a}):null,_?(0,b.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:[n?(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium",htmlFor:`${I}_datatable_search`,children:"Search"}),(0,b.jsx)("input",{id:`${I}_datatable_search`,className:"w-full min-w-[220px] rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:K,onChange:a=>{L(a.target.value),N(0)},placeholder:n.placeholder??"Search..."})]}):null,o.map(a=>(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium",htmlFor:`${I}_datatable_filter_${a.id}`,children:a.label}),(0,b.jsx)("select",{id:`${I}_datatable_filter_${a.id}`,className:"w-full min-w-[180px] rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:String(a.value),onChange:b=>{let c=a.options.find(a=>String(a.value)===b.target.value),d=c?c.value:b.target.value;a.onChange(d),N(0)},children:a.options.map(a=>(0,b.jsx)("option",{value:String(a.value),children:a.label},String(a.value)))})]},a.id))]}),(0,b.jsxs)("div",{className:"flex flex-col items-start gap-2 md:items-end",children:[(0,b.jsxs)("div",{className:"text-sm text-zinc-600",children:[U," result(s)"]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[s?(0,b.jsx)(f.DropdownMenu,{align:"right",trigger:({toggle:a})=>(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:a,disabled:!!C,children:C?"Exporting...":"Export"}),children:({close:a})=>{let c=s.formats??["csv","xlsx","pdf"];return(0,b.jsx)(b.Fragment,{children:c.map(c=>(0,b.jsxs)(f.DropdownMenuItem,{onSelect:()=>{a(),ab(c)},disabled:!!C,children:["Export ",c.toUpperCase()]},c))})}}):null,t?(0,b.jsx)(f.DropdownMenu,{align:"right",trigger:({toggle:a})=>(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:a,children:"Columns"}),children:({close:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.DropdownMenuItem,{onSelect:()=>{for(let b of(a(),j))aa(b.id,!0)},children:"Show all"}),(0,b.jsx)(f.DropdownMenuItem,{onSelect:()=>{for(let b of(a(),j))aa(b.id,!b.hiddenByDefault)},children:"Reset defaults"}),(0,b.jsx)(f.DropdownMenuSeparator,{}),j.map(a=>{let c=S.some(b=>b.id===a.id);return(0,b.jsxs)(f.DropdownMenuItem,{onSelect:()=>{aa(a.id,!c)},children:[(0,b.jsx)("span",{className:"mr-2 inline-block w-4",children:c?"✓":""}),"string"==typeof a.header?a.header:a.id]},a.id)})]})}):null]})]})]}):null,E?(0,b.jsx)("div",{className:"text-sm text-red-600",children:E}):null,(0,b.jsx)("div",{className:"overflow-x-auto rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white",children:(0,b.jsxs)("table",{className:"min-w-full border-collapse text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-[var(--rb-surface-muted)]",children:(0,b.jsx)("tr",{children:S.map(a=>(0,b.jsx)("th",{className:(0,d.cn)("whitespace-nowrap border-b border-[var(--rb-border)] px-3 py-2 text-xs font-semibold uppercase tracking-wide text-zinc-600",a.headerClassName),children:J&&a.sortId&&R?(0,b.jsxs)("button",{type:"button",onClick:()=>(function(a){if(J&&a.sortId&&R){if(!Q||Q.id!==a.sortId){R({id:a.sortId,dir:"asc"}),N(0);return}if("asc"===Q.dir){R({id:a.sortId,dir:"desc"}),N(0);return}R(null),N(0)}})(a),className:"inline-flex items-center gap-1 hover:text-zinc-900",children:[(0,b.jsx)("span",{children:a.header}),J&&a.sortId?Q&&Q.id===a.sortId?"asc"===Q.dir?(0,b.jsx)("span",{className:"ml-1 text-zinc-700",children:"↑"}):(0,b.jsx)("span",{className:"ml-1 text-zinc-700",children:"↓"}):(0,b.jsx)("span",{className:"ml-1 text-zinc-400",children:"↕"}):null]}):a.header},a.id))})}),(0,b.jsx)("tbody",{children:l?Array.from({length:X}).map((a,c)=>(0,b.jsx)("tr",{className:"border-t border-[var(--rb-border)]",children:S.map((a,c)=>(0,b.jsx)("td",{className:(0,d.cn)("px-3 py-2 align-middle",a.className),children:(0,b.jsx)(g.Skeleton,{className:(0,d.cn)("h-3 rounded-[var(--rb-radius-sm)]",0===c?"w-3/4":c===S.length-1?"w-16":"w-full")})},a.id))},`loading_${c}`)):0===Y.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"px-3 py-3 text-sm text-zinc-600",colSpan:Math.max(1,S.length),children:m})}):Y.map(a=>(0,b.jsx)("tr",{className:(0,d.cn)("border-t border-[var(--rb-border)]",u?"cursor-pointer hover:bg-[var(--rb-surface-muted)]":null),tabIndex:u?0:void 0,role:u?"button":void 0,onClick:u?()=>{u(a)}:void 0,onKeyDown:u?b=>{("Enter"===b.key||" "===b.key)&&(b.preventDefault(),u(a))}:void 0,children:S.map(c=>(0,b.jsx)("td",{className:(0,d.cn)("px-3 py-2 align-middle",c.className),children:c.cell(a)},c.id))},String(k(a))))})]})}),(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:function(){N(Math.max(0,W-1))},disabled:!Z,children:"Prev"}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:function(){N(Math.min(V-1,W+1))},disabled:!$,children:"Next"}),(0,b.jsxs)("div",{className:"text-sm text-zinc-600",children:["Page ",W+1," / ",V]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"text-sm text-zinc-600",children:"Rows per page"}),(0,b.jsx)("select",{className:"rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:String(O),onChange:a=>{P(Number(a.target.value)),N(0)},children:p.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]})]})]})}a.s(["DataTable",()=>i])},4148,a=>{"use strict";function b(a){let b=a.amountCents,c=a.currency?.toUpperCase()??null;if("number"!=typeof b||!Number.isFinite(b))return a.fallback??"—";let d=b/100;if(!c||3!==c.length)return`${d.toFixed(2)}`;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:c,minimumFractionDigits:2,maximumFractionDigits:2}).format(d)}catch{return`${c} ${d.toFixed(2)}`}}a.s(["formatMoney",()=>b])},46664,a=>{"use strict";let b={locale:"en-GB",dateStyle:"medium",timeStyle:"short",hour12:!1};function c(a){if(!a)return null;if(a instanceof Date)return Number.isFinite(a.getTime())?a:null;let b=new Date(a);return Number.isFinite(b.getTime())?b:null}function d(a,d){let e=c(a);if(!e)return"—";let f={...b,...d??{}};return new Intl.DateTimeFormat(f.locale,{dateStyle:f.dateStyle}).format(e)}function e(a,d){let e=c(a);if(!e)return"—";let f={...b,...d??{}};return new Intl.DateTimeFormat(f.locale,{dateStyle:f.dateStyle,timeStyle:f.timeStyle,hour12:f.hour12}).format(e)}a.s(["formatDate",()=>d,"formatDateTime",()=>e])},41009,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(59843),e=a.i(91601),f=a.i(25533),g=a.i(75385),h=a.i(17933),i=a.i(97867),j=a.i(4600),k=a.i(54177),l=a.i(34075),m=a.i(46664),n=a.i(4148);function o(){let a=(0,f.useDashboardHeader)(),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)("all"),[y,z]=(0,c.useState)(0),[A,B]=(0,c.useState)(10),[C,D]=(0,c.useState)(0),[E,F]=(0,c.useState)({id:"id",dir:"desc"}),[G,H]=(0,c.useState)(0);(0,c.useEffect)(()=>(a.setHeader({breadcrumb:"Admin / Billing",title:"Business billing",subtitle:"Manage subscriptions and invoices per business",actions:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:"/admin/billing/plans",children:(0,b.jsx)(i.Button,{variant:"outline",size:"sm",children:"Catalog"})}),(0,b.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>H(a=>a+1),disabled:o,children:"Refresh"})]})}),()=>a.setHeader(null)),[a,o]),(0,c.useEffect)(()=>{let a=!0;return async function(){try{p(!0),r(null);let b=new URLSearchParams;u.trim().length>0&&b.set("q",u.trim()),w&&"all"!==w&&b.set("status",w),E?.id&&E?.dir&&(b.set("sort",E.id),b.set("dir",E.dir)),b.set("page",String(y+1)),b.set("per_page",String(A));let c=await (0,l.apiFetch)(`/api/admin/businesses?${b.toString()}`);if(!a)return;t(Array.isArray(c.tenants)?c.tenants:[]),D("number"==typeof c.meta?.total?c.meta.total:0),B("number"==typeof c.meta?.per_page?c.meta.per_page:A)}catch(b){if(!a)return;r(b instanceof Error?b.message:"Failed to load businesses."),t([]),D(0)}finally{if(!a)return;p(!1)}}(),()=>{a=!1}},[u,w,y,A,E?.id,E?.dir,G]);let I=(0,c.useMemo)(()=>s,[s]);return(0,b.jsx)(e.RequireAuth,{requiredPermission:"admin.billing.read",children:(0,b.jsx)(e.RequireAuth,{requiredPermission:"admin.tenants.read",children:(0,b.jsxs)("div",{className:"space-y-6",children:[q?(0,b.jsx)(g.Alert,{variant:"danger",title:"Could not load businesses",children:q}):null,(0,b.jsx)(j.Card,{children:(0,b.jsx)(j.CardContent,{className:"pt-5",children:(0,b.jsx)(k.DataTable,{title:"Businesses",data:I,loading:o,emptyMessage:"No businesses found.",getRowId:a=>a.id,server:{query:u,onQueryChange:a=>{v(a),z(0)},pageIndex:y,onPageIndexChange:z,pageSize:A,onPageSizeChange:B,totalRows:C,sort:E,onSortChange:F},filters:[{id:"status",label:"Status",value:w,options:[{label:"All statuses",value:"all"},{label:"Trial",value:"trial"},{label:"Active",value:"active"},{label:"Past due",value:"past_due"},{label:"Suspended",value:"suspended"},{label:"Closed",value:"closed"}],onChange:a=>{x(String(a)),z(0)}}],columns:[{id:"tenant",header:"Business",sortId:"name",cell:a=>(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"truncate text-sm font-medium text-zinc-800",children:a.name}),(0,b.jsx)("div",{className:"truncate text-xs text-zinc-500",children:a.slug})]}),className:"min-w-[240px]"},{id:"status",header:"Status",sortId:"status",cell:a=>{var c;return(0,b.jsx)(h.Badge,{variant:"active"===(c=a.status)?"success":"trial"===c?"info":"past_due"===c?"warning":"suspended"===c?"danger":"default",children:a.status})},className:"whitespace-nowrap"},{id:"country",header:"Billing country",sortId:"id",cell:a=>(0,b.jsx)("div",{className:"text-sm text-zinc-700",children:a.billing_country??"—"}),className:"whitespace-nowrap"},{id:"currency",header:"Currency",sortId:"id",cell:a=>(0,b.jsx)("div",{className:"text-sm text-zinc-700",children:a.currency??"—"}),className:"whitespace-nowrap"},{id:"subscription",header:"Subscription",sortId:"id",cell:a=>{let c=a.billing_snapshot??null,d=c?.plan_name??null,e=c?.subscription_status??null,f=c?.price_interval?String(c.price_interval).toLowerCase():null,g="number"==typeof c?.price_amount_cents?c?.price_amount_cents:null,h=c?.subscription_currency??a.currency??null,i="number"==typeof g?`${(0,n.formatMoney)({amountCents:g,currency:h})}${f?`/${"month"===f?"mo":"year"===f?"yr":f}`:""}`:"—";return(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"truncate text-sm text-zinc-800",children:d??"—"}),(0,b.jsx)("div",{className:"truncate text-xs text-zinc-500",children:e?`${e} • ${i}`:i})]})},className:"min-w-[240px]"},{id:"mrr",header:"MRR",sortId:"id",cell:a=>{let c=a.billing_snapshot??null,d=c?.subscription_currency??a.currency??null;return(0,b.jsx)("div",{className:"text-sm text-zinc-700",children:(0,n.formatMoney)({amountCents:c?.mrr_cents??null,currency:d})})},className:"whitespace-nowrap"},{id:"outstanding",header:"Outstanding",sortId:"id",cell:a=>{let c=a.billing_snapshot??null,d=a.currency??c?.subscription_currency??null,e="number"==typeof c?.outstanding_invoices_count?c.outstanding_invoices_count:0,f="number"==typeof c?.outstanding_balance_cents?c.outstanding_balance_cents:null;return(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"text-sm text-zinc-800",children:(0,n.formatMoney)({amountCents:f,currency:d})}),(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:e>0?`${e} invoice${1===e?"":"s"}`:"—"})]})},className:"min-w-[160px]"},{id:"last_invoice",header:"Last invoice",sortId:"id",cell:a=>{let c=a.billing_snapshot?.last_invoice??null;return c?(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"truncate text-sm text-zinc-800",children:c.invoice_number??`#${c.id}`}),(0,b.jsx)("div",{className:"truncate text-xs text-zinc-500",children:(c.status??"—")+" • "+(0,n.formatMoney)({amountCents:c.total_cents??null,currency:c.currency??a.currency??null})}),(0,b.jsx)("div",{className:"truncate text-xs text-zinc-500",children:(0,m.formatDateTime)(c.issued_at??null)})]}):(0,b.jsx)("div",{className:"text-sm text-zinc-700",children:"—"})},className:"min-w-[220px]"},{id:"actions",header:"",cell:a=>(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)(d.default,{href:`/admin/businesses/${a.id}/billing`,children:(0,b.jsx)(i.Button,{variant:"outline",size:"sm",children:"Billing"})}),(0,b.jsx)(d.default,{href:`/admin/businesses/${a.id}/billing/invoices`,children:(0,b.jsx)(i.Button,{variant:"outline",size:"sm",children:"Invoices"})})]}),className:"whitespace-nowrap"}]})})})]})})})}a.s(["default",()=>o])}];

//# sourceMappingURL=frontend_src_2f39b308._.js.map