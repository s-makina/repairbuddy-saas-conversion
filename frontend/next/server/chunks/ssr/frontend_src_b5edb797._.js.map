{"version":3,"sources":["../../../../../frontend/src/components/ui/Input.tsx","../../../../../frontend/src/components/ui/Alert.tsx","../../../../../frontend/src/components/ui/Badge.tsx","../../../../../frontend/src/components/ui/Skeleton.tsx","../../../../../frontend/src/components/ui/Modal.tsx","../../../../../frontend/src/lib/billing.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport function Input({ className, type, ...props }: React.InputHTMLAttributes<HTMLInputElement>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      className={cn(\r\n        \"w-full rounded-[var(--rb-radius-sm)] border border-zinc-300 bg-white px-3 py-2 text-sm text-[var(--rb-text)] outline-none transition\",\r\n        \"placeholder:text-zinc-400\",\r\n        \"focus-visible:ring-2 focus-visible:ring-[color:color-mix(in_srgb,var(--rb-orange),white_65%)] focus-visible:ring-offset-2 focus-visible:ring-offset-white\",\r\n        \"disabled:cursor-not-allowed disabled:bg-[var(--rb-surface-muted)] disabled:opacity-70\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport type AlertVariant = \"info\" | \"success\" | \"warning\" | \"danger\";\r\n\r\nfunction AlertIcon({ variant, className }: { variant: AlertVariant; className?: string }) {\r\n  const common = \"h-4 w-4 shrink-0\";\r\n\r\n  if (variant === \"success\") {\r\n    return (\r\n      <svg viewBox=\"0 0 24 24\" className={cn(common, className)} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n        <path d=\"M20 6L9 17l-5-5\" />\r\n      </svg>\r\n    );\r\n  }\r\n\r\n  if (variant === \"warning\") {\r\n    return (\r\n      <svg viewBox=\"0 0 24 24\" className={cn(common, className)} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n        <path d=\"M12 9v4\" />\r\n        <path d=\"M12 17h.01\" />\r\n        <path d=\"M10.3 3.6l-8.3 14.3A2 2 0 0 0 3.7 21h16.6a2 2 0 0 0 1.7-3.1L13.7 3.6a2 2 0 0 0-3.4 0z\" />\r\n      </svg>\r\n    );\r\n  }\r\n\r\n  if (variant === \"danger\") {\r\n    return (\r\n      <svg viewBox=\"0 0 24 24\" className={cn(common, className)} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n        <path d=\"M18 6L6 18\" />\r\n        <path d=\"M6 6l12 12\" />\r\n      </svg>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 24 24\" className={cn(common, className)} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n      <path d=\"M12 16v-4\" />\r\n      <path d=\"M12 8h.01\" />\r\n      <path d=\"M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function Alert({\r\n  className,\r\n  variant = \"info\",\r\n  title,\r\n  children,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement> & {\r\n  variant?: AlertVariant;\r\n  title?: string;\r\n}) {\r\n  const variants: Record<AlertVariant, { wrapper: string; icon: string; title: string }> = {\r\n    info: {\r\n      wrapper:\r\n        \"border-[color:color-mix(in_srgb,var(--rb-blue),white_75%)] bg-[color:color-mix(in_srgb,var(--rb-blue),white_92%)] text-[var(--rb-text)]\",\r\n      icon: \"text-[var(--rb-blue)]\",\r\n      title: \"text-[var(--rb-blue)]\",\r\n    },\r\n    success: {\r\n      wrapper: \"border-[color:color-mix(in_srgb,#16a34a,white_75%)] bg-[color:color-mix(in_srgb,#16a34a,white_92%)] text-[var(--rb-text)]\",\r\n      icon: \"text-[#166534]\",\r\n      title: \"text-[#166534]\",\r\n    },\r\n    warning: {\r\n      wrapper:\r\n        \"border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)] bg-[color:color-mix(in_srgb,var(--rb-orange),white_92%)] text-[var(--rb-text)]\",\r\n      icon: \"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]\",\r\n      title: \"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]\",\r\n    },\r\n    danger: {\r\n      wrapper: \"border-[color:color-mix(in_srgb,#dc2626,white_75%)] bg-[color:color-mix(in_srgb,#dc2626,white_92%)] text-[var(--rb-text)]\",\r\n      icon: \"text-[#991b1b]\",\r\n      title: \"text-[#991b1b]\",\r\n    },\r\n  };\r\n\r\n  const v = variants[variant];\r\n\r\n  return (\r\n    <div\r\n      role=\"alert\"\r\n      className={cn(\"rounded-[var(--rb-radius-md)] border px-4 py-3\", v.wrapper, className)}\r\n      {...props}\r\n    >\r\n      <div className=\"flex gap-3\">\r\n        <AlertIcon variant={variant} className={cn(\"mt-0.5\", v.icon)} />\r\n        <div className=\"min-w-0\">\r\n          {title ? <div className={cn(\"text-sm font-semibold\", v.title)}>{title}</div> : null}\r\n          {children ? <div className={cn(\"text-sm text-zinc-700\", title ? \"mt-1\" : \"\")}>\r\n            {children}\r\n          </div> : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport type BadgeVariant = \"default\" | \"info\" | \"success\" | \"warning\" | \"danger\";\r\n\r\nexport function Badge({\r\n  className,\r\n  variant = \"default\",\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement> & { variant?: BadgeVariant }) {\r\n  const variants: Record<BadgeVariant, string> = {\r\n    default: \"bg-[var(--rb-surface-muted)] text-[var(--rb-text)] border-[var(--rb-border)]\",\r\n    info: \"bg-[color:color-mix(in_srgb,var(--rb-blue),white_85%)] text-[var(--rb-blue)] border-[color:color-mix(in_srgb,var(--rb-blue),white_70%)]\",\r\n    success: \"bg-[color:color-mix(in_srgb,#16a34a,white_85%)] text-[#166534] border-[color:color-mix(in_srgb,#16a34a,white_70%)]\",\r\n    warning: \"bg-[color:color-mix(in_srgb,var(--rb-orange),white_85%)] text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)] border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)]\",\r\n    danger: \"bg-[color:color-mix(in_srgb,#dc2626,white_85%)] text-[#991b1b] border-[color:color-mix(in_srgb,#dc2626,white_70%)]\",\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium\",\r\n        variants[variant],\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\nimport { Card, CardContent } from \"@/components/ui/Card\";\r\n\r\ntype SkeletonProps = React.HTMLAttributes<HTMLDivElement> & {\r\n  \"aria-hidden\"?: boolean;\r\n};\r\n\r\nexport function Skeleton({ className, \"aria-hidden\": ariaHidden = true, ...props }: SkeletonProps) {\r\n  return <div aria-hidden={ariaHidden} className={cn(\"rb-skeleton\", className)} {...props} />;\r\n}\r\n\r\nexport function CardSkeleton({\r\n  lines = 3,\r\n  className,\r\n}: {\r\n  lines?: number;\r\n  className?: string;\r\n}) {\r\n  const safeLines = Math.max(1, Math.min(lines, 12));\r\n\r\n  return (\r\n    <Card className={cn(\"overflow-hidden\", className)}>\r\n      <CardContent className=\"space-y-3 pt-5\">\r\n        <Skeleton className=\"h-4 w-32 rounded-[var(--rb-radius-sm)]\" />\r\n        {Array.from({ length: safeLines }).map((_, idx) => (\r\n          <Skeleton\r\n            key={idx}\r\n            className={cn(\r\n              \"h-3 rounded-[var(--rb-radius-sm)]\",\r\n              idx === safeLines - 1 ? \"w-3/5\" : \"w-full\",\r\n            )}\r\n          />\r\n        ))}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport function TableSkeleton({\r\n  rows = 6,\r\n  columns = 5,\r\n  className,\r\n}: {\r\n  rows?: number;\r\n  columns?: number;\r\n  className?: string;\r\n}) {\r\n  const safeRows = Math.max(1, Math.min(rows, 20));\r\n  const safeCols = Math.max(1, Math.min(columns, 10));\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"overflow-hidden rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-white shadow-[var(--rb-shadow)]\",\r\n        className,\r\n      )}\r\n    >\r\n      <div className=\"border-b border-[var(--rb-border)] px-5 py-4\">\r\n        <div className=\"grid gap-3\" style={{ gridTemplateColumns: `repeat(${safeCols}, minmax(0, 1fr))` }}>\r\n          {Array.from({ length: safeCols }).map((_, idx) => (\r\n            <Skeleton key={idx} className=\"h-3 w-full rounded-[var(--rb-radius-sm)]\" />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"px-5 pb-5 pt-4\">\r\n        <div className=\"space-y-3\">\r\n          {Array.from({ length: safeRows }).map((_, rowIdx) => (\r\n            <div\r\n              key={rowIdx}\r\n              className=\"grid gap-3\"\r\n              style={{ gridTemplateColumns: `repeat(${safeCols}, minmax(0, 1fr))` }}\r\n            >\r\n              {Array.from({ length: safeCols }).map((_, colIdx) => (\r\n                <Skeleton\r\n                  key={colIdx}\r\n                  className={cn(\r\n                    \"h-3 rounded-[var(--rb-radius-sm)]\",\r\n                    colIdx === 0 ? \"w-3/4\" : \"w-full\",\r\n                  )}\r\n                />\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React, { useEffect } from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport function Modal({\r\n  open,\r\n  onClose,\r\n  title,\r\n  children,\r\n  footer,\r\n  position = \"center\",\r\n  variant = \"glass\",\r\n  className,\r\n}: {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  title?: React.ReactNode;\r\n  children: React.ReactNode;\r\n  footer?: React.ReactNode;\r\n  position?: \"center\" | \"top-center\";\r\n  variant?: \"glass\" | \"solid\";\r\n  className?: string;\r\n}) {\r\n  useEffect(() => {\r\n    function onKeyDown(e: KeyboardEvent) {\r\n      if (!open) return;\r\n      if (e.key === \"Escape\") onClose();\r\n    }\r\n\r\n    document.addEventListener(\"keydown\", onKeyDown);\r\n    return () => document.removeEventListener(\"keydown\", onKeyDown);\r\n  }, [onClose, open]);\r\n\r\n  if (!open) return null;\r\n\r\n  const containerClassName =\r\n    position === \"top-center\"\r\n      ? \"fixed inset-0 z-50 flex items-start justify-center px-4 pt-8\"\r\n      : \"fixed inset-0 z-50 flex items-center justify-center px-4\";\r\n\r\n  const panelClassName =\r\n    variant === \"solid\"\r\n      ? cn(\r\n          \"relative w-full max-w-lg overflow-hidden rounded-[var(--rb-radius-lg)]\",\r\n          \"border border-[var(--rb-border)]\",\r\n          \"bg-white\",\r\n          \"shadow-[var(--rb-shadow)]\",\r\n        )\r\n      : cn(\r\n          \"relative w-full max-w-lg overflow-hidden rounded-[var(--rb-radius-lg)]\",\r\n          \"border border-[color:color-mix(in_srgb,var(--rb-border),white_55%)]\",\r\n          \"bg-white/75 backdrop-blur-xl\",\r\n          \"shadow-[0_18px_55px_-18px_rgba(0,0,0,0.55)]\",\r\n          \"ring-1 ring-white/25\",\r\n        );\r\n\r\n  const showInnerGlow = variant === \"glass\";\r\n\r\n  return (\r\n    <div className={containerClassName}>\r\n      <button\r\n        type=\"button\"\r\n        className={cn(\r\n          \"absolute inset-0\",\r\n          \"bg-black/35 backdrop-blur-md\",\r\n          \"bg-[radial-gradient(900px_600px_at_20%_20%,color-mix(in_srgb,#16a34a,transparent_82%)_0%,transparent_60%),radial-gradient(900px_600px_at_80%_30%,color-mix(in_srgb,var(--rb-blue),transparent_82%)_0%,transparent_60%),radial-gradient(900px_600px_at_50%_85%,color-mix(in_srgb,var(--rb-orange),transparent_85%)_0%,transparent_65%)]\",\r\n        )}\r\n        aria-label=\"Close\"\r\n        onClick={onClose}\r\n      />\r\n      <div\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        className={cn(\r\n          panelClassName,\r\n          className,\r\n        )}\r\n      >\r\n        {showInnerGlow ? (\r\n          <div className=\"pointer-events-none absolute inset-0 bg-[radial-gradient(650px_420px_at_20%_15%,color-mix(in_srgb,#16a34a,transparent_88%)_0%,transparent_60%),radial-gradient(650px_420px_at_80%_5%,color-mix(in_srgb,var(--rb-blue),transparent_90%)_0%,transparent_60%)]\" />\r\n        ) : null}\r\n        {title ? (\r\n          <div\r\n            className={cn(\r\n              \"relative px-5 py-4\",\r\n              variant === \"solid\"\r\n                ? \"border-b border-[var(--rb-border)]\"\r\n                : \"border-b border-[color:color-mix(in_srgb,var(--rb-border),white_60%)]\",\r\n            )}\r\n          >\r\n            <div className=\"text-sm font-semibold text-[var(--rb-text)]\">{title}</div>\r\n          </div>\r\n        ) : null}\r\n\r\n        <div className=\"relative px-5 py-4\">{children}</div>\r\n\r\n        {footer ? (\r\n          <div\r\n            className={cn(\r\n              \"relative px-5 py-4\",\r\n              variant === \"solid\"\r\n                ? \"border-t border-[var(--rb-border)]\"\r\n                : \"border-t border-[color:color-mix(in_srgb,var(--rb-border),white_60%)]\",\r\n            )}\r\n          >\r\n            {footer}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { ApiError, apiDownload, apiFetch } from \"@/lib/api\";\r\nimport type {\r\n  BillingPlan,\r\n  BillingPlanVersion,\r\n  BillingPrice,\r\n  BillingInterval,\r\n  EntitlementDefinition,\r\n  Invoice,\r\n  Tenant,\r\n  TenantSubscription,\r\n  PlanEntitlement,\r\n} from \"@/lib/types\";\r\n\r\nexport type BillingCatalogPayload = {\r\n  billing_plans: BillingPlan[];\r\n  entitlement_definitions: EntitlementDefinition[];\r\n  billing_intervals?: BillingInterval[];\r\n};\r\n\r\nexport async function getBillingCatalog(args?: {\r\n  includeInactive?: boolean;\r\n}): Promise<BillingCatalogPayload> {\r\n  const qs = new URLSearchParams();\r\n  if (typeof args?.includeInactive === \"boolean\") {\r\n    qs.set(\"include_inactive\", args.includeInactive ? \"1\" : \"0\");\r\n  }\r\n\r\n  return apiFetch<BillingCatalogPayload>(`/api/admin/billing/catalog${qs.toString() ? `?${qs.toString()}` : \"\"}`);\r\n}\r\n\r\nexport async function listBillingIntervals(args?: { includeInactive?: boolean }): Promise<{ billing_intervals: BillingInterval[] }> {\r\n  const qs = new URLSearchParams();\r\n  if (typeof args?.includeInactive === \"boolean\") {\r\n    qs.set(\"include_inactive\", args.includeInactive ? \"1\" : \"0\");\r\n  }\r\n\r\n  return apiFetch<{ billing_intervals: BillingInterval[] }>(`/api/admin/billing/intervals${qs.toString() ? `?${qs.toString()}` : \"\"}`);\r\n}\r\n\r\nexport async function createBillingInterval(args: {\r\n  code?: string;\r\n  name: string;\r\n  months: number;\r\n  isActive?: boolean;\r\n}): Promise<{ interval: BillingInterval }> {\r\n  return apiFetch<{ interval: BillingInterval }>(\"/api/admin/billing/intervals\", {\r\n    method: \"POST\",\r\n    body: {\r\n      code: args.code?.trim() || undefined,\r\n      name: args.name,\r\n      months: args.months,\r\n      is_active: typeof args.isActive === \"boolean\" ? args.isActive : undefined,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function updateBillingInterval(args: {\r\n  intervalId: number;\r\n  code: string;\r\n  name: string;\r\n  months: number;\r\n  isActive?: boolean;\r\n  reason?: string;\r\n}): Promise<{ interval: BillingInterval }> {\r\n  return apiFetch<{ interval: BillingInterval }>(`/api/admin/billing/intervals/${args.intervalId}`, {\r\n    method: \"PUT\",\r\n    body: {\r\n      code: args.code,\r\n      name: args.name,\r\n      months: args.months,\r\n      is_active: typeof args.isActive === \"boolean\" ? args.isActive : undefined,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function setBillingIntervalActive(args: {\r\n  intervalId: number;\r\n  isActive: boolean;\r\n  reason?: string;\r\n}): Promise<{ interval: BillingInterval }> {\r\n  return apiFetch<{ interval: BillingInterval }>(`/api/admin/billing/intervals/${args.intervalId}/active`, {\r\n    method: \"PATCH\",\r\n    body: {\r\n      is_active: args.isActive,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function createBillingPlan(args: {\r\n  name: string;\r\n  code?: string;\r\n  description?: string;\r\n  isActive?: boolean;\r\n}): Promise<{ plan: BillingPlan }> {\r\n  return apiFetch<{ plan: BillingPlan }>(\"/api/admin/billing/plans\", {\r\n    method: \"POST\",\r\n    body: {\r\n      name: args.name,\r\n      code: args.code?.trim() || undefined,\r\n      description: args.description?.trim() || undefined,\r\n      is_active: typeof args.isActive === \"boolean\" ? args.isActive : undefined,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function updateBillingPlan(args: {\r\n  planId: number;\r\n  name: string;\r\n  code: string;\r\n  description?: string;\r\n  isActive?: boolean;\r\n  reason?: string;\r\n}): Promise<{ plan: BillingPlan }> {\r\n  return apiFetch<{ plan: BillingPlan }>(`/api/admin/billing/plans/${args.planId}`, {\r\n    method: \"PUT\",\r\n    body: {\r\n      name: args.name,\r\n      code: args.code,\r\n      description: args.description?.trim() || undefined,\r\n      is_active: typeof args.isActive === \"boolean\" ? args.isActive : undefined,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function createDraftBillingPlanVersionFromActive(args: {\r\n  planId: number;\r\n  reason?: string;\r\n}): Promise<{ version: BillingPlanVersion }> {\r\n  return apiFetch<{ version: BillingPlanVersion }>(`/api/admin/billing/plans/${args.planId}/versions/draft-from-active`, {\r\n    method: \"POST\",\r\n    body: {\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function validateBillingPlanVersionDraft(args: {\r\n  versionId: number;\r\n  reason?: string;\r\n}): Promise<{ status: \"ok\" } | { message: string; errors?: string[] }> {\r\n  try {\r\n    return await apiFetch<{ status: \"ok\" } | { message: string; errors?: string[] }>(\r\n      `/api/admin/billing/versions/${args.versionId}/validate`,\r\n      {\r\n        method: \"POST\",\r\n        body: {\r\n          reason: args.reason,\r\n        },\r\n      },\r\n    );\r\n  } catch (e) {\r\n    if (e instanceof ApiError) {\r\n      const data: unknown = e.data;\r\n      if (data && typeof data === \"object\") {\r\n        const maybe = data as { status?: unknown; message?: unknown; errors?: unknown };\r\n        if (maybe.status === \"ok\") {\r\n          return { status: \"ok\" };\r\n        }\r\n        if (typeof maybe.message === \"string\") {\r\n          return {\r\n            message: maybe.message,\r\n            errors: Array.isArray(maybe.errors) ? maybe.errors.map(String) : undefined,\r\n          };\r\n        }\r\n      }\r\n    }\r\n    throw e;\r\n  }\r\n}\r\n\r\nexport async function syncBillingPlanVersionEntitlements(args: {\r\n  versionId: number;\r\n  entitlements: Array<Pick<PlanEntitlement, \"entitlement_definition_id\" | \"value_json\">>;\r\n  reason?: string;\r\n}): Promise<{ version: BillingPlanVersion }> {\r\n  return apiFetch<{ version: BillingPlanVersion }>(`/api/admin/billing/versions/${args.versionId}/entitlements/sync`, {\r\n    method: \"POST\",\r\n    body: {\r\n      entitlements: args.entitlements,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function createBillingPrice(args: {\r\n  versionId: number;\r\n  currency: string;\r\n  interval?: string;\r\n  billingIntervalId?: number | null;\r\n  amountCents: number;\r\n  trialDays?: number | null;\r\n  isDefault?: boolean;\r\n  reason?: string;\r\n}): Promise<{ price: BillingPrice; version: BillingPlanVersion }> {\r\n  return apiFetch<{ price: BillingPrice; version: BillingPlanVersion }>(`/api/admin/billing/versions/${args.versionId}/prices`, {\r\n    method: \"POST\",\r\n    body: {\r\n      currency: args.currency,\r\n      billing_interval_id: typeof args.billingIntervalId === \"number\" ? args.billingIntervalId : undefined,\r\n      interval: args.interval,\r\n      amount_cents: args.amountCents,\r\n      trial_days: typeof args.trialDays === \"number\" ? args.trialDays : undefined,\r\n      is_default: typeof args.isDefault === \"boolean\" ? args.isDefault : undefined,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function updateBillingPrice(args: {\r\n  priceId: number;\r\n  amountCents: number;\r\n  trialDays?: number | null;\r\n  isDefault?: boolean;\r\n  reason?: string;\r\n}): Promise<{ price: BillingPrice; version: BillingPlanVersion }> {\r\n  return apiFetch<{ price: BillingPrice; version: BillingPlanVersion }>(`/api/admin/billing/prices/${args.priceId}`, {\r\n    method: \"PATCH\",\r\n    body: {\r\n      amount_cents: args.amountCents,\r\n      trial_days: typeof args.trialDays === \"number\" ? args.trialDays : undefined,\r\n      is_default: typeof args.isDefault === \"boolean\" ? args.isDefault : undefined,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function deleteBillingPrice(args: {\r\n  priceId: number;\r\n  reason?: string;\r\n}): Promise<{ status: \"ok\"; version: BillingPlanVersion }> {\r\n  return apiFetch<{ status: \"ok\"; version: BillingPlanVersion }>(`/api/admin/billing/prices/${args.priceId}`, {\r\n    method: \"DELETE\",\r\n    body: {\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function activateBillingPlanVersion(args: {\r\n  versionId: number;\r\n  confirm: string;\r\n  reason?: string;\r\n}): Promise<{ version: BillingPlanVersion }> {\r\n  return apiFetch<{ version: BillingPlanVersion }>(`/api/admin/billing/versions/${args.versionId}/activate`, {\r\n    method: \"POST\",\r\n    body: {\r\n      confirm: args.confirm,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function retireBillingPlanVersion(args: {\r\n  versionId: number;\r\n  reason?: string;\r\n}): Promise<{ version: BillingPlanVersion }> {\r\n  return apiFetch<{ version: BillingPlanVersion }>(`/api/admin/billing/versions/${args.versionId}/retire`, {\r\n    method: \"POST\",\r\n    body: {\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function createEntitlementDefinition(args: {\r\n  code?: string;\r\n  name: string;\r\n  valueType: string;\r\n  description?: string;\r\n  isPremium?: boolean;\r\n}): Promise<{ definition: EntitlementDefinition }> {\r\n  return apiFetch<{ definition: EntitlementDefinition }>(\"/api/admin/billing/entitlement-definitions\", {\r\n    method: \"POST\",\r\n    body: {\r\n      code: args.code?.trim() || undefined,\r\n      name: args.name,\r\n      value_type: args.valueType,\r\n      description: args.description?.trim() || undefined,\r\n      is_premium: typeof args.isPremium === \"boolean\" ? args.isPremium : undefined,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function updateEntitlementDefinition(args: {\r\n  id: number;\r\n  code: string;\r\n  name: string;\r\n  valueType: string;\r\n  description?: string;\r\n  isPremium?: boolean;\r\n  reason?: string;\r\n}): Promise<{ definition: EntitlementDefinition }> {\r\n  return apiFetch<{ definition: EntitlementDefinition }>(`/api/admin/billing/entitlement-definitions/${args.id}`, {\r\n    method: \"PUT\",\r\n    body: {\r\n      code: args.code,\r\n      name: args.name,\r\n      value_type: args.valueType,\r\n      description: args.description?.trim() || undefined,\r\n      is_premium: typeof args.isPremium === \"boolean\" ? args.isPremium : undefined,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function deleteEntitlementDefinition(args: {\r\n  id: number;\r\n  reason?: string;\r\n}): Promise<{ status: \"ok\" }> {\r\n  return apiFetch<{ status: \"ok\" }>(`/api/admin/billing/entitlement-definitions/${args.id}`, {\r\n    method: \"DELETE\",\r\n    body: {\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport type TenantSubscriptionsPayload = {\r\n  tenant: Tenant;\r\n  subscriptions: TenantSubscription[];\r\n};\r\n\r\nexport async function getTenantSubscriptions(tenantId: number): Promise<TenantSubscriptionsPayload> {\r\n  return apiFetch<TenantSubscriptionsPayload>(`/api/admin/businesses/${tenantId}/subscriptions`);\r\n}\r\n\r\nexport async function assignTenantSubscription(args: {\r\n  tenantId: number;\r\n  billingPlanVersionId: number;\r\n  billingPriceId: number;\r\n  reason?: string;\r\n}): Promise<{ subscription: TenantSubscription }> {\r\n  return apiFetch<{ subscription: TenantSubscription }>(`/api/admin/businesses/${args.tenantId}/subscriptions`, {\r\n    method: \"POST\",\r\n    body: {\r\n      billing_plan_version_id: args.billingPlanVersionId,\r\n      billing_price_id: args.billingPriceId,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function cancelTenantSubscription(args: {\r\n  tenantId: number;\r\n  subscriptionId: number;\r\n  atPeriodEnd?: boolean;\r\n  reason?: string;\r\n}): Promise<{ subscription: TenantSubscription }> {\r\n  return apiFetch<{ subscription: TenantSubscription }>(\r\n    `/api/admin/businesses/${args.tenantId}/subscriptions/${args.subscriptionId}/cancel`,\r\n    {\r\n      method: \"POST\",\r\n      body: {\r\n        at_period_end: typeof args.atPeriodEnd === \"boolean\" ? args.atPeriodEnd : undefined,\r\n        reason: args.reason,\r\n      },\r\n    },\r\n  );\r\n}\r\n\r\nexport type TenantInvoicesPayload = {\r\n  tenant: Tenant;\r\n  invoices: Invoice[];\r\n};\r\n\r\nexport async function getTenantInvoices(args: {\r\n  tenantId: number;\r\n  status?: string;\r\n  limit?: number;\r\n}): Promise<TenantInvoicesPayload> {\r\n  const qs = new URLSearchParams();\r\n  if (args.status && args.status.trim().length > 0) qs.set(\"status\", args.status.trim());\r\n  if (typeof args.limit === \"number\" && Number.isFinite(args.limit)) qs.set(\"limit\", String(args.limit));\r\n\r\n  return apiFetch<TenantInvoicesPayload>(`/api/admin/businesses/${args.tenantId}/invoices${qs.toString() ? `?${qs.toString()}` : \"\"}`);\r\n}\r\n\r\nexport async function getTenantInvoice(args: {\r\n  tenantId: number;\r\n  invoiceId: number;\r\n}): Promise<{ tenant: Tenant; invoice: Invoice }> {\r\n  return apiFetch<{ tenant: Tenant; invoice: Invoice }>(`/api/admin/businesses/${args.tenantId}/invoices/${args.invoiceId}`);\r\n}\r\n\r\nexport async function createInvoiceFromSubscription(args: {\r\n  tenantId: number;\r\n  tenantSubscriptionId: number;\r\n  reason?: string;\r\n}): Promise<{ invoice: Invoice }> {\r\n  return apiFetch<{ invoice: Invoice }>(`/api/admin/businesses/${args.tenantId}/invoices`, {\r\n    method: \"POST\",\r\n    body: {\r\n      tenant_subscription_id: args.tenantSubscriptionId,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function issueInvoice(args: {\r\n  tenantId: number;\r\n  invoiceId: number;\r\n  reason?: string;\r\n}): Promise<{ invoice: Invoice }> {\r\n  return apiFetch<{ invoice: Invoice }>(`/api/admin/businesses/${args.tenantId}/invoices/${args.invoiceId}/issue`, {\r\n    method: \"POST\",\r\n    body: {\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function markInvoicePaid(args: {\r\n  tenantId: number;\r\n  invoiceId: number;\r\n  paidAt?: string;\r\n  paidMethod?: string;\r\n  paidNote?: string;\r\n  reason?: string;\r\n}): Promise<{ invoice: Invoice }> {\r\n  return apiFetch<{ invoice: Invoice }>(`/api/admin/businesses/${args.tenantId}/invoices/${args.invoiceId}/paid`, {\r\n    method: \"POST\",\r\n    body: {\r\n      paid_at: args.paidAt,\r\n      paid_method: args.paidMethod,\r\n      paid_note: args.paidNote,\r\n      reason: args.reason,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function downloadInvoicePdf(args: {\r\n  tenantId: number;\r\n  invoiceId: number;\r\n  invoiceNumber?: string | null;\r\n}): Promise<void> {\r\n  const filename = args.invoiceNumber ? `invoice_${args.invoiceNumber}.pdf` : \"invoice.pdf\";\r\n\r\n  await apiDownload(`/api/admin/businesses/${args.tenantId}/invoices/${args.invoiceId}/pdf`, {\r\n    filename,\r\n  });\r\n}\r\n"],"names":[],"mappings":"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"}