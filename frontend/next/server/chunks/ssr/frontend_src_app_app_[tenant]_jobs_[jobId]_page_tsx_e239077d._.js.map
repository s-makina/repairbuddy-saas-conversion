{"version":3,"sources":["../../../../../frontend/src/app/app/%5Btenant%5D/jobs/%5BjobId%5D/page.tsx","../../../../../frontend/node_modules/lucide-react/src/icons/list-checks.ts","../../../../../frontend/node_modules/lucide-react/src/icons/calendar-clock.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { CalendarClock, Laptop, ListChecks, MessageSquare, RefreshCw, User } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { Badge } from \"@/components/ui/Badge\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/Card\";\r\nimport { Alert } from \"@/components/ui/Alert\";\r\nimport { DetailPageShell } from \"@/components/shells/DetailPageShell\";\r\nimport { useDetailTab } from \"@/components/repairbuddy/detail/detailTabs\";\r\nimport { AttachedDevicesManager } from \"@/components/repairbuddy/detail/AttachedDevicesManager\";\r\nimport { apiFetch, ApiError } from \"@/lib/api\";\r\nimport { formatMoney } from \"@/lib/money\";\r\n\r\ntype JobStatusKey = string;\r\n\r\ntype ApiJob = {\r\n  id: number;\r\n  case_number: string;\r\n  title: string;\r\n  status: JobStatusKey;\r\n  updated_at: string;\r\n  customer_id: number | null;\r\n  payment_status?: string | null;\r\n  priority?: string | null;\r\n  pickup_date?: string | null;\r\n  delivery_date?: string | null;\r\n  next_service_date?: string | null;\r\n  totals?: { currency: string; subtotal_cents: number; tax_cents: number; total_cents: number } | null;\r\n  customer?: { id: number; name: string; email: string | null; phone: string | null; company: string | null } | null;\r\n  assigned_technicians?: Array<{ id: number; name: string; email: string }>;\r\n  timeline: Array<{ id: string; title: string; type: string; message?: string | null; created_at: string }>;\r\n  messages: Array<{ id: string; author: string; body: string; created_at: string }>;\r\n};\r\n\r\ntype ApiJobDeviceExtraField = {\r\n  key: string;\r\n  label: string;\r\n  type: string;\r\n  value_text: string;\r\n};\r\n\r\ntype ApiJobDevice = {\r\n  id: number;\r\n  job_id: number;\r\n  customer_device_id: number;\r\n  label: string;\r\n  serial: string | null;\r\n  notes: string | null;\r\n  extra_fields?: ApiJobDeviceExtraField[] | null;\r\n  created_at: string;\r\n};\r\n\r\ntype ApiCustomerDevice = {\r\n  id: number;\r\n  customer_id: number;\r\n  device_id: number | null;\r\n  label: string;\r\n  serial: string | null;\r\n  notes: string | null;\r\n};\r\n\r\nfunction statusBadgeVariant(status: JobStatusKey): \"default\" | \"info\" | \"success\" | \"warning\" | \"danger\" {\r\n  if (status === \"delivered\" || status === \"completed\") return \"success\";\r\n  if (status === \"ready\") return \"warning\";\r\n  if (status === \"cancelled\") return \"danger\";\r\n  if (status === \"in_process\") return \"info\";\r\n  return \"default\";\r\n}\r\n\r\nfunction paymentBadgeVariant(status: string | null | undefined): \"default\" | \"info\" | \"success\" | \"warning\" | \"danger\" {\r\n  if (!status) return \"default\";\r\n  if (status === \"paid\") return \"success\";\r\n  if (status === \"partial\") return \"warning\";\r\n  if (status === \"unpaid\" || status === \"due\") return \"danger\";\r\n  return \"default\";\r\n}\r\n\r\nfunction priorityBadgeVariant(priority: string | null | undefined): \"default\" | \"info\" | \"success\" | \"warning\" | \"danger\" {\r\n  const p = (priority ?? \"\").toLowerCase();\r\n  if (p.includes(\"urgent\") || p.includes(\"critical\")) return \"danger\";\r\n  if (p.includes(\"high\")) return \"warning\";\r\n  if (p.includes(\"low\")) return \"info\";\r\n  return \"default\";\r\n}\r\n\r\nfunction formatSlugLabel(value: string | null | undefined): string {\r\n  const v = (value ?? \"\").trim();\r\n  if (!v) return \"—\";\r\n  return v.replace(/_/g, \" \");\r\n}\r\n\r\nfunction formatDateTime(value: string | null | undefined): string {\r\n  if (!value) return \"—\";\r\n  const d = new Date(value);\r\n  if (Number.isNaN(d.getTime())) return \"—\";\r\n  return d.toLocaleString();\r\n}\r\n\r\nfunction formatShortDate(value: string | null | undefined): string {\r\n  if (!value) return \"—\";\r\n  const d = new Date(value);\r\n  if (Number.isNaN(d.getTime())) return \"—\";\r\n  return d.toLocaleDateString();\r\n}\r\n\r\nexport default function TenantJobDetailPage() {\r\n  const router = useRouter();\r\n  const params = useParams() as { tenant?: string; business?: string; jobId?: string };\r\n  const tenantSlug = params.business ?? params.tenant;\r\n  const jobId = params.jobId;\r\n\r\n  const defaultTab = useDetailTab(\"overview\");\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n  const [job, setJob] = React.useState<ApiJob | null>(null);\r\n\r\n  const [messageBody, setMessageBody] = React.useState<string>(\"\");\r\n  const [messageBusy, setMessageBusy] = React.useState(false);\r\n  const [messageError, setMessageError] = React.useState<string | null>(null);\r\n\r\n  const [noteBody, setNoteBody] = React.useState<string>(\"\");\r\n  const [noteBusy, setNoteBusy] = React.useState(false);\r\n  const [noteError, setNoteError] = React.useState<string | null>(null);\r\n\r\n  const [refreshKey, setRefreshKey] = React.useState(0);\r\n\r\n  const [devicesLoading, setDevicesLoading] = React.useState(false);\r\n  const [devicesError, setDevicesError] = React.useState<string | null>(null);\r\n  const [jobDevices, setJobDevices] = React.useState<ApiJobDevice[]>([]);\r\n  const [customerDevices, setCustomerDevices] = React.useState<ApiCustomerDevice[]>([]);\r\n\r\n  const [attachId, setAttachId] = React.useState<string>(\"\");\r\n  const [attachBusy, setAttachBusy] = React.useState(false);\r\n  const [attachError, setAttachError] = React.useState<string | null>(null);\r\n\r\n  React.useEffect(() => {\r\n    let alive = true;\r\n\r\n    async function load() {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        if (!jobId) {\r\n          setError(\"Job ID is missing.\");\r\n          setJob(null);\r\n          return;\r\n        }\r\n\r\n        if (typeof tenantSlug !== \"string\" || tenantSlug.length === 0) {\r\n          throw new Error(\"Business is missing.\");\r\n        }\r\n\r\n        const res = await apiFetch<{ job: ApiJob }>(`/api/${tenantSlug}/app/repairbuddy/jobs/${jobId}`);\r\n        if (!alive) return;\r\n\r\n        setJob(res.job ?? null);\r\n      } catch (e) {\r\n        if (!alive) return;\r\n        if (e instanceof ApiError && e.status === 428 && typeof tenantSlug === \"string\" && tenantSlug.length > 0) {\r\n          const next = `/app/${tenantSlug}/jobs/${jobId}`;\r\n          router.replace(`/app/${tenantSlug}/branches/select?next=${encodeURIComponent(next)}`);\r\n          return;\r\n        }\r\n\r\n        setError(e instanceof Error ? e.message : \"Failed to load job.\");\r\n        setJob(null);\r\n      } finally {\r\n        if (!alive) return;\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    void load();\r\n\r\n    return () => {\r\n      alive = false;\r\n    };\r\n  }, [jobId, refreshKey, router, tenantSlug]);\r\n\r\n  React.useEffect(() => {\r\n    let alive = true;\r\n\r\n    async function loadDevices() {\r\n      try {\r\n        setDevicesLoading(true);\r\n        setDevicesError(null);\r\n\r\n        if (!jobId) {\r\n          setJobDevices([]);\r\n          setCustomerDevices([]);\r\n          return;\r\n        }\r\n\r\n        if (typeof tenantSlug !== \"string\" || tenantSlug.length === 0) {\r\n          setJobDevices([]);\r\n          setCustomerDevices([]);\r\n          return;\r\n        }\r\n\r\n        if (!job) {\r\n          setJobDevices([]);\r\n          setCustomerDevices([]);\r\n          return;\r\n        }\r\n\r\n        const jobDevicesRes = await apiFetch<{ job_devices: ApiJobDevice[] }>(`/api/${tenantSlug}/app/repairbuddy/jobs/${jobId}/devices`);\r\n        if (!alive) return;\r\n        setJobDevices(Array.isArray(jobDevicesRes?.job_devices) ? jobDevicesRes.job_devices : []);\r\n\r\n        if (typeof job.customer_id !== \"number\") {\r\n          setCustomerDevices([]);\r\n          return;\r\n        }\r\n\r\n        const customerDevicesRes = await apiFetch<{ customer_devices: ApiCustomerDevice[] }>(\r\n          `/api/${tenantSlug}/app/repairbuddy/customer-devices?customer_id=${encodeURIComponent(String(job.customer_id))}`,\r\n        );\r\n        if (!alive) return;\r\n        setCustomerDevices(Array.isArray(customerDevicesRes?.customer_devices) ? customerDevicesRes.customer_devices : []);\r\n      } catch (e) {\r\n        if (!alive) return;\r\n\r\n        if (e instanceof ApiError && e.status === 428 && typeof tenantSlug === \"string\" && tenantSlug.length > 0) {\r\n          const next = `/app/${tenantSlug}/jobs/${jobId}`;\r\n          router.replace(`/app/${tenantSlug}/branches/select?next=${encodeURIComponent(next)}`);\r\n          return;\r\n        }\r\n\r\n        setDevicesError(e instanceof Error ? e.message : \"Failed to load devices.\");\r\n        setJobDevices([]);\r\n        setCustomerDevices([]);\r\n      } finally {\r\n        if (!alive) return;\r\n        setDevicesLoading(false);\r\n      }\r\n    }\r\n\r\n    void loadDevices();\r\n\r\n    return () => {\r\n      alive = false;\r\n    };\r\n  }, [job, jobId, refreshKey, router, tenantSlug]);\r\n\r\n  async function postMessage() {\r\n    setMessageError(\"Messaging will be enabled in EPIC 3.\");\r\n  }\r\n\r\n  async function attachDevice() {\r\n    setAttachError(null);\r\n\r\n    if (!attachId || attachId.trim().length === 0) {\r\n      setAttachError(\"Select a customer device.\");\r\n      return;\r\n    }\r\n\r\n    if (typeof tenantSlug !== \"string\" || tenantSlug.length === 0) {\r\n      setAttachError(\"Business is missing.\");\r\n      return;\r\n    }\r\n\r\n    if (!jobId) {\r\n      setAttachError(\"Job ID is missing.\");\r\n      return;\r\n    }\r\n\r\n    setAttachBusy(true);\r\n    try {\r\n      await apiFetch<{ job_device: unknown }>(`/api/${tenantSlug}/app/repairbuddy/jobs/${jobId}/devices`, {\r\n        method: \"POST\",\r\n        body: { customer_device_id: Number(attachId) },\r\n      });\r\n      setAttachId(\"\");\r\n      setRefreshKey((x) => x + 1);\r\n    } catch (e) {\r\n      if (e instanceof ApiError) {\r\n        setAttachError(e.message);\r\n      } else {\r\n        setAttachError(e instanceof Error ? e.message : \"Failed to attach device.\");\r\n      }\r\n    } finally {\r\n      setAttachBusy(false);\r\n    }\r\n  }\r\n\r\n  async function detachDevice(jobDeviceId: number) {\r\n    setAttachError(null);\r\n\r\n    if (typeof tenantSlug !== \"string\" || tenantSlug.length === 0) {\r\n      setAttachError(\"Business is missing.\");\r\n      return;\r\n    }\r\n\r\n    if (!jobId) {\r\n      setAttachError(\"Job ID is missing.\");\r\n      return;\r\n    }\r\n\r\n    setAttachBusy(true);\r\n    try {\r\n      await apiFetch<{ message: string }>(`/api/${tenantSlug}/app/repairbuddy/jobs/${jobId}/devices/${jobDeviceId}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      setRefreshKey((x) => x + 1);\r\n    } catch (e) {\r\n      if (e instanceof ApiError) {\r\n        setAttachError(e.message);\r\n      } else {\r\n        setAttachError(e instanceof Error ? e.message : \"Failed to detach device.\");\r\n      }\r\n    } finally {\r\n      setAttachBusy(false);\r\n    }\r\n  }\r\n\r\n  async function postInternalNote() {\r\n    setNoteError(null);\r\n\r\n    if (!noteBody.trim()) {\r\n      setNoteError(\"Note is required.\");\r\n      return;\r\n    }\r\n\r\n    if (typeof tenantSlug !== \"string\" || tenantSlug.length === 0) {\r\n      setNoteError(\"Business is missing.\");\r\n      return;\r\n    }\r\n\r\n    if (!jobId) {\r\n      setNoteError(\"Job ID is missing.\");\r\n      return;\r\n    }\r\n\r\n    setNoteBusy(true);\r\n    try {\r\n      await apiFetch<{ event: unknown }>(`/api/${tenantSlug}/app/repairbuddy/jobs/${jobId}/events`, {\r\n        method: \"POST\",\r\n        body: { message: noteBody.trim() },\r\n      });\r\n\r\n      setNoteBody(\"\");\r\n      setRefreshKey((x) => x + 1);\r\n    } catch (e) {\r\n      if (e instanceof ApiError) {\r\n        setNoteError(e.message);\r\n      } else {\r\n        setNoteError(\"Failed to post note.\");\r\n      }\r\n    } finally {\r\n      setNoteBusy(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {error ? (\r\n        <Alert variant=\"danger\" title=\"Could not load job\">\r\n          {error}\r\n        </Alert>\r\n      ) : null}\r\n\r\n      {loading ? <div className=\"text-sm text-zinc-500\">Loading job...</div> : null}\r\n\r\n      {job ? (\r\n        <DetailPageShell\r\n          key={`${job.id}:${defaultTab}`}\r\n          // breadcrumb={\r\n          //   <span>\r\n          //     <Link href={typeof tenantSlug === \"string\" ? `/app/${tenantSlug}/jobs` : \"/app\"} className=\"hover:text-[var(--rb-text)]\">\r\n          //       Jobs\r\n          //     </Link>\r\n          //     <span className=\"px-2\">/</span>\r\n          //     <span>{job.case_number}</span>\r\n          //   </span>\r\n          // }\r\n          // backHref={typeof tenantSlug === \"string\" ? `/app/${tenantSlug}/jobs` : \"/app\"}\r\n          title={job.case_number}\r\n          description={job.title}\r\n          actions={\r\n            <div className=\"flex items-center gap-2\">\r\n              <Badge variant={statusBadgeVariant(job.status)}>{formatSlugLabel(job.status)}</Badge>\r\n              {job.payment_status ? <Badge variant={paymentBadgeVariant(job.payment_status)}>{formatSlugLabel(job.payment_status)}</Badge> : null}\r\n              {job.priority ? <Badge variant={priorityBadgeVariant(job.priority)}>{formatSlugLabel(job.priority)}</Badge> : null}\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  setRefreshKey((x) => x + 1);\r\n                }}\r\n              >\r\n                <RefreshCw className=\"mr-2 h-4 w-4\" />\r\n                Refresh\r\n              </Button>\r\n              <Button disabled variant=\"outline\" size=\"sm\">\r\n                Change status\r\n              </Button>\r\n            </div>\r\n          }\r\n          defaultTab={defaultTab}\r\n          tabs={{\r\n            overview: (\r\n              <JobOverview\r\n                tenantSlug={typeof tenantSlug === \"string\" ? tenantSlug : null}\r\n                job={job}\r\n                jobDevices={jobDevices}\r\n                devicesLoading={devicesLoading}\r\n              />\r\n            ),\r\n            devices: (\r\n              <AttachedDevicesManager\r\n                devicesError={devicesError}\r\n                attachError={attachError}\r\n                devicesLoading={devicesLoading}\r\n                customerDevices={customerDevices}\r\n                attachedDevices={jobDevices}\r\n                attachId={attachId}\r\n                setAttachId={setAttachId}\r\n                attachBusy={attachBusy}\r\n                onAttach={() => void attachDevice()}\r\n                onDetach={(id) => void detachDevice(id)}\r\n              />\r\n            ),\r\n            timeline: (\r\n              <div className=\"space-y-4\">\r\n                {noteError ? (\r\n                  <Alert variant=\"danger\" title=\"Could not post note\">\r\n                    {noteError}\r\n                  </Alert>\r\n                ) : null}\r\n\r\n                <Card className=\"shadow-none\">\r\n                  <CardContent className=\"pt-5\">\r\n                    <div className=\"text-sm font-semibold text-[var(--rb-text)]\">Add internal note</div>\r\n                    <textarea\r\n                      value={noteBody}\r\n                      onChange={(e) => setNoteBody(e.target.value)}\r\n                      placeholder=\"Write a note for internal staff...\"\r\n                      className=\"mt-3 w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm\"\r\n                      rows={3}\r\n                      disabled={noteBusy}\r\n                    />\r\n                    <div className=\"mt-3 flex items-center justify-end\">\r\n                      <Button onClick={() => void postInternalNote()} disabled={noteBusy || noteBody.trim().length === 0}>\r\n                        {noteBusy ? \"Posting...\" : \"Add note\"}\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card className=\"shadow-none\">\r\n                  <CardContent className=\"pt-5\">\r\n                    <div className=\"space-y-3\">\r\n                      {job.timeline.length === 0 ? <div className=\"text-sm text-zinc-600\">No timeline events.</div> : null}\r\n                      {job.timeline\r\n                        .slice()\r\n                        .sort((a, b) => (a.created_at < b.created_at ? 1 : -1))\r\n                        .map((ev) => (\r\n                          <div key={ev.id} className=\"rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white p-3\">\r\n                            <div className=\"flex items-start justify-between gap-3\">\r\n                              <div className=\"min-w-0\">\r\n                                <div className=\"truncate text-sm font-semibold text-[var(--rb-text)]\">{ev.title}</div>\r\n                                {ev.message ? <div className=\"mt-2 whitespace-pre-wrap text-sm text-zinc-700\">{ev.message}</div> : null}\r\n                                <div className=\"mt-2 text-xs text-zinc-500\">{new Date(ev.created_at).toLocaleString()}</div>\r\n                              </div>\r\n                              <Badge variant=\"default\">{ev.type}</Badge>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n            ),\r\n            messages: (\r\n              <div className=\"space-y-4\">\r\n                {messageError ? (\r\n                  <Alert variant=\"danger\" title=\"Could not post message\">\r\n                    {messageError}\r\n                  </Alert>\r\n                ) : null}\r\n\r\n                <Card className=\"shadow-none\">\r\n                  <CardContent className=\"pt-5\">\r\n                    <div className=\"text-sm font-semibold text-[var(--rb-text)]\">Post a message</div>\r\n                    <textarea\r\n                      value={messageBody}\r\n                      onChange={(e) => setMessageBody(e.target.value)}\r\n                      placeholder=\"Write an update for the customer...\"\r\n                      className=\"mt-3 w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm\"\r\n                      rows={4}\r\n                      disabled={messageBusy}\r\n                    />\r\n                    <div className=\"mt-3 flex items-center justify-end\">\r\n                      <Button onClick={() => void postMessage()} disabled={messageBusy || messageBody.trim().length === 0}>\r\n                        {messageBusy ? \"Posting...\" : \"Post\"}\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                <Card className=\"shadow-none\">\r\n                  <CardContent className=\"pt-5\">\r\n                    <div className=\"text-sm font-semibold text-[var(--rb-text)]\">Conversation</div>\r\n                    <div className=\"mt-4 space-y-3\">\r\n                      {job.messages.length === 0 ? <div className=\"text-sm text-zinc-600\">No messages yet.</div> : null}\r\n                      {job.messages\r\n                        .slice()\r\n                        .sort((a, b) => (a.created_at < b.created_at ? 1 : -1))\r\n                        .map((m) => (\r\n                          <div key={m.id} className=\"rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white p-3\">\r\n                            <div className=\"flex items-start justify-between gap-3\">\r\n                              <div className=\"min-w-0\">\r\n                                <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">{m.author}</div>\r\n                                <div className=\"mt-1 text-sm text-zinc-700 whitespace-pre-wrap\">{m.body}</div>\r\n                                <div className=\"mt-2 text-xs text-zinc-500\">{new Date(m.created_at).toLocaleString()}</div>\r\n                              </div>\r\n                              <Badge variant={m.author === \"staff\" ? \"info\" : \"default\"}>{m.author}</Badge>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n            ),\r\n            financial: (\r\n              <Card className=\"shadow-none\">\r\n                <CardContent className=\"pt-5\">\r\n                  <div className=\"text-sm text-zinc-600\">Financials will be enabled in EPIC 7–9.</div>\r\n                </CardContent>\r\n              </Card>\r\n            ),\r\n            print: (\r\n              <Card className=\"shadow-none\">\r\n                <CardContent className=\"pt-5\">\r\n                  <div className=\"text-sm font-semibold text-[var(--rb-text)]\">Print</div>\r\n                  <div className=\"mt-2 text-sm text-zinc-600\">Print-friendly views are implemented in later phases.</div>\r\n                </CardContent>\r\n              </Card>\r\n            ),\r\n          }}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction JobOverview({\r\n  tenantSlug,\r\n  job,\r\n  jobDevices,\r\n  devicesLoading,\r\n}: {\r\n  tenantSlug: string | null;\r\n  job: ApiJob;\r\n  jobDevices: ApiJobDevice[];\r\n  devicesLoading: boolean;\r\n}) {\r\n  const timeline = Array.isArray(job.timeline) ? job.timeline : [];\r\n  const messages = Array.isArray(job.messages) ? job.messages : [];\r\n\r\n  const customerId = typeof job.customer?.id === \"number\" ? job.customer.id : job.customer_id;\r\n  const customerHref = tenantSlug && typeof customerId === \"number\" ? `/app/${tenantSlug}/clients/${customerId}` : null;\r\n  const devicesHref = tenantSlug ? `/app/${tenantSlug}/jobs/${job.id}?tab=devices` : null;\r\n  const timelineHref = tenantSlug ? `/app/${tenantSlug}/jobs/${job.id}?tab=timeline` : null;\r\n  const messagesHref = tenantSlug ? `/app/${tenantSlug}/jobs/${job.id}?tab=messages` : null;\r\n\r\n  const latestTimeline = React.useMemo(() => {\r\n    return timeline\r\n      .slice()\r\n      .sort((a, b) => (a.created_at < b.created_at ? 1 : -1))\r\n      .at(0);\r\n  }, [timeline]);\r\n\r\n  const latestMessage = React.useMemo(() => {\r\n    return messages\r\n      .slice()\r\n      .sort((a, b) => (a.created_at < b.created_at ? 1 : -1))\r\n      .at(0);\r\n  }, [messages]);\r\n\r\n  const assigned = React.useMemo(() => {\r\n    const list = Array.isArray(job.assigned_technicians) ? job.assigned_technicians : [];\r\n    if (list.length === 0) return \"—\";\r\n    return list.map((t) => t.name).filter(Boolean).join(\", \") || \"—\";\r\n  }, [job.assigned_technicians]);\r\n\r\n  const totalLabel = formatMoney({\r\n    amountCents: job.totals?.total_cents,\r\n    currency: job.totals?.currency,\r\n    fallback: \"—\",\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\r\n        <Card className=\"shadow-none\">\r\n          <CardContent className=\"pt-5\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"mt-0.5 flex h-9 w-9 items-center justify-center rounded-[var(--rb-radius-md)] bg-[var(--rb-surface-muted)] text-zinc-700\">\r\n                <User className=\"h-4 w-4\" />\r\n              </div>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Customer</div>\r\n                <div className=\"mt-1 truncate text-sm font-semibold text-[var(--rb-text)]\">\r\n                  {job.customer?.name ?? (typeof customerId === \"number\" ? `Customer #${customerId}` : \"—\")}\r\n                </div>\r\n                <div className=\"mt-1 truncate text-xs text-zinc-500\">{job.customer?.email ?? job.customer?.phone ?? \"\"}</div>\r\n              </div>\r\n              {customerHref ? (\r\n                <Button asChild variant=\"outline\" size=\"sm\">\r\n                  <Link href={customerHref}>View</Link>\r\n                </Button>\r\n              ) : null}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"shadow-none\">\r\n          <CardContent className=\"pt-5\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"mt-0.5 flex h-9 w-9 items-center justify-center rounded-[var(--rb-radius-md)] bg-[var(--rb-surface-muted)] text-zinc-700\">\r\n                <Laptop className=\"h-4 w-4\" />\r\n              </div>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Devices</div>\r\n                <div className=\"mt-1 text-sm font-semibold text-[var(--rb-text)]\">{devicesLoading ? \"Loading…\" : `${jobDevices.length} attached`}</div>\r\n                <div className=\"mt-1 truncate text-xs text-zinc-500\">{jobDevices[0]?.label ?? \"\"}</div>\r\n              </div>\r\n              {devicesHref ? (\r\n                <Button asChild variant=\"outline\" size=\"sm\">\r\n                  <Link href={devicesHref}>Manage</Link>\r\n                </Button>\r\n              ) : null}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"shadow-none\">\r\n          <CardContent className=\"pt-5\">\r\n            <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Payment</div>\r\n            <div className=\"mt-1 flex flex-wrap items-center gap-2\">\r\n              <div className=\"text-sm font-semibold text-[var(--rb-text)]\">{totalLabel}</div>\r\n              {job.payment_status ? <Badge variant={paymentBadgeVariant(job.payment_status)}>{formatSlugLabel(job.payment_status)}</Badge> : <Badge variant=\"default\">—</Badge>}\r\n            </div>\r\n            <div className=\"mt-2 text-xs text-zinc-500\">Subtotal {formatMoney({ amountCents: job.totals?.subtotal_cents, currency: job.totals?.currency, fallback: \"—\" })}</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"shadow-none\">\r\n          <CardContent className=\"pt-5\">\r\n            <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Last update</div>\r\n            <div className=\"mt-1 text-sm font-semibold text-[var(--rb-text)]\">{formatDateTime(job.updated_at)}</div>\r\n            <div className=\"mt-2 text-xs text-zinc-500\">Job ID {job.id}</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <div className=\"grid gap-4 lg:grid-cols-3\">\r\n        <div className=\"space-y-4 lg:col-span-2\">\r\n          <Card className=\"shadow-none\">\r\n            <CardHeader>\r\n              <CardTitle>Job summary</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Case</div>\r\n                  <div className=\"mt-1 truncate text-sm font-semibold text-[var(--rb-text)]\">{job.case_number}</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Status</div>\r\n                  <div className=\"mt-1 flex flex-wrap items-center gap-2\">\r\n                    <Badge variant={statusBadgeVariant(job.status)}>{formatSlugLabel(job.status)}</Badge>\r\n                    {job.priority ? <Badge variant={priorityBadgeVariant(job.priority)}>{formatSlugLabel(job.priority)}</Badge> : null}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"sm:col-span-2\">\r\n                  <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Issue / title</div>\r\n                  <div className=\"mt-1 text-sm text-zinc-700\">{job.title || \"—\"}</div>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card className=\"shadow-none\">\r\n            <CardHeader>\r\n              <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n                <CardTitle>Recent activity</CardTitle>\r\n                <div className=\"flex items-center gap-2\">\r\n                  {timelineHref ? (\r\n                    <Button asChild variant=\"outline\" size=\"sm\">\r\n                      <Link href={timelineHref}>Timeline</Link>\r\n                    </Button>\r\n                  ) : null}\r\n                  {messagesHref ? (\r\n                    <Button asChild variant=\"outline\" size=\"sm\">\r\n                      <Link href={messagesHref}>Messages</Link>\r\n                    </Button>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"mt-0.5 flex h-9 w-9 items-center justify-center rounded-[var(--rb-radius-md)] bg-[var(--rb-surface-muted)] text-zinc-700\">\r\n                  <ListChecks className=\"h-4 w-4\" />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Latest timeline event</div>\r\n                  <div className=\"mt-1 truncate text-sm font-semibold text-[var(--rb-text)]\">{latestTimeline?.title ?? \"—\"}</div>\r\n                  <div className=\"mt-1 text-xs text-zinc-500\">{latestTimeline?.created_at ? formatDateTime(latestTimeline.created_at) : \"\"}</div>\r\n                </div>\r\n                {latestTimeline?.type ? <Badge variant=\"default\">{latestTimeline.type}</Badge> : null}\r\n              </div>\r\n\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"mt-0.5 flex h-9 w-9 items-center justify-center rounded-[var(--rb-radius-md)] bg-[var(--rb-surface-muted)] text-zinc-700\">\r\n                  <MessageSquare className=\"h-4 w-4\" />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Latest message</div>\r\n                  <div className=\"mt-1 truncate text-sm font-semibold text-[var(--rb-text)]\">\r\n                    {latestMessage ? `${latestMessage.author}` : \"—\"}\r\n                  </div>\r\n                  <div className=\"mt-1 truncate text-xs text-zinc-500\">{latestMessage?.body ?? \"\"}</div>\r\n                </div>\r\n                {latestMessage?.created_at ? <div className=\"text-xs text-zinc-500\">{formatShortDate(latestMessage.created_at)}</div> : null}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          <Card className=\"shadow-none\">\r\n            <CardHeader>\r\n              <CardTitle>Dates</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"mt-0.5 flex h-9 w-9 items-center justify-center rounded-[var(--rb-radius-md)] bg-[var(--rb-surface-muted)] text-zinc-700\">\r\n                  <CalendarClock className=\"h-4 w-4\" />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Pickup</div>\r\n                  <div className=\"mt-1 text-sm text-zinc-700\">{formatShortDate(job.pickup_date)}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"mt-0.5 flex h-9 w-9 items-center justify-center rounded-[var(--rb-radius-md)] bg-[var(--rb-surface-muted)] text-zinc-700\">\r\n                  <CalendarClock className=\"h-4 w-4\" />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Delivery</div>\r\n                  <div className=\"mt-1 text-sm text-zinc-700\">{formatShortDate(job.delivery_date)}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"mt-0.5 flex h-9 w-9 items-center justify-center rounded-[var(--rb-radius-md)] bg-[var(--rb-surface-muted)] text-zinc-700\">\r\n                  <CalendarClock className=\"h-4 w-4\" />\r\n                </div>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Next service</div>\r\n                  <div className=\"mt-1 text-sm text-zinc-700\">{formatShortDate(job.next_service_date)}</div>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card className=\"shadow-none\">\r\n            <CardHeader>\r\n              <CardTitle>Assigned</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Technicians</div>\r\n              <div className=\"mt-1 text-sm text-zinc-700\">{assigned}</div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M13 5h8', key: 'a7qcls' }],\n  ['path', { d: 'M13 12h8', key: 'h98zly' }],\n  ['path', { d: 'M13 19h8', key: 'c3s6r1' }],\n  ['path', { d: 'm3 17 2 2 4-4', key: '1jhpwq' }],\n  ['path', { d: 'm3 7 2 2 4-4', key: '1obspn' }],\n];\n\n/**\n * @component @name ListChecks\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMgNWg4IiAvPgogIDxwYXRoIGQ9Ik0xMyAxMmg4IiAvPgogIDxwYXRoIGQ9Ik0xMyAxOWg4IiAvPgogIDxwYXRoIGQ9Im0zIDE3IDIgMiA0LTQiIC8+CiAgPHBhdGggZD0ibTMgNyAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/list-checks\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ListChecks = createLucideIcon('list-checks', __iconNode);\n\nexport default ListChecks;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 14v2.2l1.6 1', key: 'fo4ql5' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['path', { d: 'M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5', key: '1osxxc' }],\n  ['path', { d: 'M3 10h5', key: 'r794hk' }],\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['circle', { cx: '16', cy: '16', r: '6', key: 'qoo3c4' }],\n];\n\n/**\n * @component @name CalendarClock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMTR2Mi4ybDEuNiAxIiAvPgogIDxwYXRoIGQ9Ik0xNiAydjQiIC8+CiAgPHBhdGggZD0iTTIxIDcuNVY2YTIgMiAwIDAgMC0yLTJINWEyIDIgMCAwIDAtMiAydjE0YTIgMiAwIDAgMCAyIDJoMy41IiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDUiIC8+CiAgPHBhdGggZD0iTTggMnY0IiAvPgogIDxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/calendar-clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CalendarClock = createLucideIcon('calendar-clock', __iconNode);\n\nexport default CalendarClock;\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,oBEmBA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAgB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAhB,AAAgB,CAAA,AAAhB,AAAgB,CAAA,AAAhB,CAAgB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAkB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,mBAnB/B,CDAJ,ACAI,CAAA,ADAJ,CCAI,ADAJ,CCAI,QAAK,CAAU,CAAA,6CAExC,CAAA,ADAA,iECAqE,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,oCACrD,CDAJ,CAAA,kCCEpC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAU,CAAE,CAAA,CAAA,CAAI,AAAJ,IAAI,CAAA,AAAM,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAA,CAAA,AAAG,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,GFJ1D,IAAA,EAAA,EAAA,CAAA,CAAA,OCiBA,IAAM,EAAA,CAAA,EAAa,CAAA,CAAA,CAAA,CAAA,CAAb,AAAa,CAAb,AAAa,CAAb,AAAa,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAA,AAAjB,CAAiB,AAAjB,CAAiB,AAAjB,CAAA,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAnBA,CAmBe,AAlBjD,CAAC,AAkBgD,CClBhD,ADAA,AAkBgD,CClBhD,ADAA,AAkBgD,CClBhD,ADAA,AAkBgD,CClBhD,ADAA,AAkBgD,CAlBhD,ACAA,ADkBgD,CClBhD,ADAA,AAkBgD,CAlBhD,ACAA,ADAQ,AAkBwC,CAlBxC,ACAA,ADAE,AAkBsC,CAAU,CAAA,AAlBhD,UAAc,CCAX,ADAW,CCAX,ADAW,CCAX,ADAW,CCAX,ADAW,AAAK,CCAhB,ADAgB,CAAA,ACAhB,CDAgB,ACAhB,ODA0B,CACxC,ACDuC,CDCtC,ACDsC,CDCtC,ACAA,AADsC,CDCtC,ACAA,AADsC,CACtC,ADAA,ACDsC,CDCtC,ACAA,CAAA,ADAA,CAAA,ACAA,CAAA,ADAA,AAAQ,CAAE,AAAF,ACAA,EDAE,eAAoB,CCAD,ADAC,CCAD,ADAC,CCAD,ADAC,CCAD,ADAC,CCAD,ADAC,CCAD,ADAC,CAAA,GAAU,EACxC,CCAA,ADAA,CCAA,ADAA,CAAA,ACAA,CAAA,ADAA,CAAA,ACAA,CDAA,ACAA,CAAA,ADAA,cAAyB,CCAZ,ADAY,CCAZ,ADAY,CAAA,ACAZ,CAAA,ADAiB,AAAL,CAAK,ACAjB,CAAA,ADAiB,CCAjB,ADAiB,CCAjB,ADAiB,CCAjB,ADAiB,CCAjB,ADAiB,CCAjB,ADAiB,CCAjB,GDCd,CAAC,CCAA,ADAA,CCAA,ADAA,CCAA,ADAA,CCAA,ADAA,CAAA,ACAA,CDAA,ACAA,CAAA,ADAA,AAAQ,CCAA,ADAA,EAAK,CCAA,ADAA,CAAA,ACAA,CAAA,ADAA,CCAA,ADAA,CCAA,ADAA,CCAA,ADAA,CAAA,ACAA,CAAA,ADAA,CCAA,ADAA,CCAA,ADAA,MAAiB,CAAA,ACAD,CAAA,ADAC,CAAA,ACAD,CDAC,ACAD,ADAM,CCAN,ADAM,CAAA,MAAA,CAAU,CAAA,2BAChB,CCAD,ADAC,CAAA,ACAD,CAAA,ADAC,CAAA,ACAD,QDAM,CAAU,CAAA,GDH/C,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAkDA,SAAS,EAAmB,CAAoB,QAC/B,AAAf,cAAI,GAAqC,aAAa,CAAxB,EAA+B,UAC9C,SAAS,CAApB,EAA2B,UAChB,aAAa,CAAxB,EAA+B,SACpB,cAAc,CAAzB,EAAgC,OAC7B,SACT,CAEA,SAAS,EAAoB,CAAiC,SAC5D,AAAK,EACU,EADX,IAAS,EACU,CAAnB,EAA0B,UACf,WAAW,CAAtB,EAA6B,UAClB,WAAX,GAAkC,OAAO,CAAlB,EAAyB,SAC7C,UAJa,SAKtB,CAEA,SAAS,EAAqB,CAAmC,EAC/D,IAAM,EAAI,CAAC,GAAY,EAAA,CAAE,CAAE,WAAW,UACtC,AAAI,EAAE,QAAQ,CAAC,WAAa,EAAE,QAAQ,CAAC,YAAoB,CAAP,QAChD,EAAE,QAAQ,CAAC,QAAgB,CAAP,SACpB,EAAE,QAAQ,CAAC,OAAe,CAAP,MAChB,SACT,CAEA,SAAS,EAAgB,CAAgC,EACvD,IAAM,EAAI,CAAC,GAAS,EAAA,CAAE,CAAE,IAAI,UAC5B,AAAK,EACE,CADC,CAAJ,AACK,OAAO,CAAC,KAAM,KADR,GAEjB,CAEA,SAAS,EAAe,CAAgC,EACtD,GAAI,CAAC,EAAO,MAAO,IACnB,IAAM,EAAI,IAAI,KAAK,UACnB,AAAI,OAAO,KAAK,CAAC,EAAE,OAAO,IAAY,CAAP,GACxB,EAAE,cAAc,EACzB,CAEA,SAAS,EAAgB,CAAgC,EACvD,GAAI,CAAC,EAAO,MAAO,IACnB,IAAM,EAAI,IAAI,KAAK,UACnB,AAAI,OAAO,KAAK,CAAC,EAAE,OAAO,IAAY,CAAP,GACxB,EAAE,kBAAkB,EAC7B,CAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAa,EAAO,QAAQ,EAAI,EAAO,MAAM,CAC7C,EAAQ,EAAO,KAAK,CAEpB,EAAa,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,YAE1B,CAAC,EAAS,EAAW,CAAG,EAAA,OAAK,CAAC,QAAQ,EAAC,GACvC,CAAC,EAAO,EAAS,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAgB,MAClD,CAAC,EAAK,EAAO,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAgB,MAE9C,CAAC,EAAa,EAAe,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAS,IACvD,CAAC,EAAa,EAAe,CAAG,EAAA,OAAK,CAAC,QAAQ,EAAC,GAC/C,CAAC,EAAc,EAAgB,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAgB,MAEhE,CAAC,EAAU,EAAY,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAS,IACjD,CAAC,EAAU,EAAY,CAAG,EAAA,OAAK,CAAC,QAAQ,EAAC,GACzC,CAAC,EAAW,EAAa,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAgB,MAE1D,CAAC,EAAY,EAAc,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,GAE7C,CAAC,EAAgB,EAAkB,CAAG,EAAA,OAAK,CAAC,QAAQ,EAAC,GACrD,CAAC,EAAc,EAAgB,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAgB,MAChE,CAAC,EAAY,EAAc,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAiB,EAAE,EAC/D,CAAC,EAAiB,EAAmB,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAsB,EAAE,EAE9E,CAAC,EAAU,EAAY,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAS,IACjD,CAAC,EAAY,EAAc,CAAG,EAAA,OAAK,CAAC,QAAQ,EAAC,GAC7C,CAAC,GAAa,GAAe,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAgB,MAgHpE,eAAe,KACb,EAAgB,uCAClB,CAEA,eAAe,KAGb,GAFA,GAAe,MAEX,CAAC,GAAuC,AAA3B,MAAS,IAAI,GAAG,MAAM,CAAQ,YAC7C,GAAe,6BAIjB,GAAI,AAAsB,iBAAf,GAAiD,IAAtB,EAAW,MAAM,CAAQ,YAC7D,GAAe,wBAIjB,GAAI,CAAC,EAAO,YACV,GAAe,sBAIjB,GAAc,GACd,GAAI,CACF,MAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA0B,CAAC,KAAK,EAAE,EAAW,sBAAsB,EAAE,EAAM,QAAQ,CAAC,CAAE,CAClG,OAAQ,OACR,KAAM,CAAE,mBAAoB,OAAO,EAAU,CAC/C,GACA,EAAY,IACZ,EAAc,AAAC,GAAM,EAAI,EAC3B,CAAE,MAAO,EAAG,CACN,aAAa,EAAA,QAAQ,CACvB,CADyB,EACV,EAAE,OAAO,EAExB,GAAe,aAAa,MAAQ,EAAE,OAAO,CAAG,2BAEpD,QAAU,CACR,GAAc,EAChB,CACF,CAEA,eAAe,GAAa,CAAmB,EAG7C,GAFA,GAAe,MAEW,UAAtB,OAAO,GAAiD,IAAtB,EAAW,MAAM,CAAQ,YAC7D,GAAe,wBAIjB,GAAI,CAAC,EAAO,YACV,GAAe,sBAIjB,GAAc,GACd,GAAI,CACF,MAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAsB,CAAC,KAAK,EAAE,EAAW,sBAAsB,EAAE,EAAM,SAAS,EAAE,EAAA,CAAa,CAAE,CAC7G,OAAQ,QACV,GACA,EAAc,AAAC,GAAM,EAAI,EAC3B,CAAE,MAAO,EAAG,CACN,aAAa,EAAA,QAAQ,CACvB,CADyB,EACV,EAAE,OAAO,EAExB,GAAe,aAAa,MAAQ,EAAE,OAAO,CAAG,2BAEpD,QAAU,CACR,GAAc,EAChB,CACF,CAEA,eAAe,KAGb,GAFA,EAAa,MAET,CAAC,EAAS,IAAI,GAAI,YACpB,EAAa,qBAIf,GAA0B,UAAtB,OAAO,GAAiD,IAAtB,EAAW,MAAM,CAAQ,YAC7D,EAAa,wBAIf,GAAI,CAAC,EAAO,YACV,EAAa,sBAIf,GAAY,GACZ,GAAI,CACF,MAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,CAAC,KAAK,EAAE,EAAW,sBAAsB,EAAE,EAAM,OAAO,CAAC,CAAE,CAC5F,OAAQ,OACR,KAAM,CAAE,QAAS,EAAS,IAAI,EAAG,CACnC,GAEA,EAAY,IACZ,EAAc,AAAC,GAAM,EAAI,EAC3B,CAAE,MAAO,EAAG,CACN,aAAa,EAAA,QAAQ,CACvB,CADyB,CACZ,EAAE,OAAO,EAEtB,EAAa,uBAEjB,QAAU,CACR,GAAY,EACd,CACF,CAEA,OA3NA,EAAA,OAAK,CAAC,SAAS,CAAC,KACd,IAAI,EAAQ,GAuCZ,OArCA,AAmCK,eAnCU,EACb,GAAI,CAIF,GAHA,GAAW,GACX,EAAS,MAEL,CAAC,EAAO,CACV,EAAS,sBACT,EAAO,MACP,MACF,CAEA,GAA0B,UAAtB,OAAO,GAAiD,GAAG,CAAzB,EAAW,MAAM,CACrD,MAAM,AAAI,MAAM,wBAGlB,IAAM,EAAM,MAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,CAAC,KAAK,EAAE,EAAW,sBAAsB,EAAE,EAAA,CAAO,EAC9F,GAAI,CAAC,EAAO,OAEZ,EAAO,EAAI,GAAG,EAAI,KACpB,CAAE,MAAO,EAAG,CACV,GAAI,CAAC,EAAO,OACZ,GAAI,aAAa,EAAA,QAAQ,EAAiB,MAAb,EAAE,MAAM,EAAY,AAAsB,iBAAf,GAA2B,EAAW,MAAM,CAAG,EAAG,CACxG,IAAM,EAAO,CAAC,KAAK,EAAE,EAAW,MAAM,EAAE,EAAA,CAAO,CAC/C,EAAO,OAAO,CAAC,CAAC,KAAK,EAAE,EAAW,sBAAsB,EAAE,mBAAmB,GAAA,CAAO,EACpF,MACF,CAEA,EAAS,aAAa,MAAQ,EAAE,OAAO,CAAG,uBAC1C,EAAO,KACT,QAAU,CACR,GAAI,CAAC,EAAO,OACZ,GAAW,EACb,CACF,IAIO,KACL,GAAQ,CACV,CACF,EAAG,CAAC,EAAO,EAAY,EAAQ,EAAW,EAE1C,EAAA,OAAK,CAAC,SAAS,CAAC,KACd,IAAI,GAAQ,EA2DZ,OAFK,AAvDL,eAAe,EACb,GAAI,CAIF,GAHA,GAAkB,GAClB,EAAgB,MAEZ,CAAC,GAMqB,UAAtB,OAAO,GAAiD,GAAG,CAAzB,EAAW,MAAM,EAMnD,CAAC,EAZO,CACV,EAAc,AAWN,EAXQ,EAChB,EAAmB,EAAE,EACrB,MACF,CAcA,IAAM,EAAgB,MAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkC,CAAC,KAAK,EAAE,EAAW,sBAAsB,EAAE,EAAM,QAAQ,CAAC,EAChI,GAAI,CAAC,EAAO,OAGZ,GAFA,EAAc,MAAM,OAAO,CAAC,GAAe,aAAe,EAAc,WAAW,CAAG,EAAE,EAEzD,UAA3B,OAAO,EAAI,WAAW,CAAe,YACvC,EAAmB,EAAE,EAIvB,IAAM,EAAqB,MAAM,CAAA,EAAA,EAAA,QAAQ,AAAR,EAC/B,CAAC,KAAK,EAAE,EAAW,8CAA8C,EAAE,mBAAmB,OAAO,EAAI,WAAW,GAAA,CAAI,EAElH,GAAI,CAAC,EAAO,OACZ,EAAmB,MAAM,OAAO,CAAC,GAAoB,kBAAoB,EAAmB,gBAAgB,CAAG,EAAE,CACnH,CAAE,MAAO,EAAG,CACV,GAAI,CAAC,EAAO,OAEZ,GAAI,aAAa,EAAA,QAAQ,EAAiB,MAAb,EAAE,MAAM,EAAkC,UAAtB,OAAO,GAA2B,EAAW,MAAM,CAAG,EAAG,CACxG,IAAM,EAAO,CAAC,KAAK,EAAE,EAAW,MAAM,EAAE,EAAA,CAAO,CAC/C,EAAO,OAAO,CAAC,CAAC,KAAK,EAAE,EAAW,sBAAsB,EAAE,mBAAmB,GAAA,CAAO,EACpF,MACF,CAEA,EAAgB,aAAa,MAAQ,EAAE,OAAO,CAAG,2BACjD,EAAc,EAAE,EAChB,EAAmB,EAAE,CACvB,QAAU,CACR,GAAI,CAAC,EAAO,OACZ,EAAkB,GACpB,CACF,IAIO,KACL,GAAQ,CACV,CACF,EAAG,CAAC,EAAK,EAAO,EAAY,EAAQ,EAAW,EAgH7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,SAAS,MAAM,8BAC3B,IAED,KAEH,EAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,mBAAuB,KAExE,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAYd,MAAO,EAAI,WAAW,CACtB,YAAa,EAAI,KAAK,CACtB,QACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAmB,EAAI,MAAM,WAAI,EAAgB,EAAI,MAAM,IAC1E,EAAI,cAAc,CAAG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAoB,EAAI,cAAc,WAAI,EAAgB,EAAI,cAAc,IAAa,KAC9H,EAAI,QAAQ,CAAG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAqB,EAAI,QAAQ,WAAI,EAAgB,EAAI,QAAQ,IAAa,KAC9G,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,QAAS,KACP,EAAe,AAAD,GAAO,EAAI,EAC3B,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,iBAAiB,aAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,CAAA,CAAA,EAAC,QAAQ,UAAU,KAAK,cAAK,qBAKjD,WAAY,EACZ,KAAM,CACJ,SACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,WAAY,AAAsB,iBAAf,EAA0B,EAAa,KAC1D,IAAK,EACL,WAAY,EACZ,eAAgB,IAGpB,QACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,sBAAsB,CAAA,CACrB,aAAc,EACd,YAAa,GACb,eAAgB,EAChB,gBAAiB,EACjB,gBAAiB,EACjB,SAAU,EACV,YAAa,EACb,WAAY,EACZ,SAAU,IAAM,KAAK,KACrB,SAAU,AAAC,GAAO,KAAK,GAAa,KAGxC,SACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,SAAS,MAAM,+BAC3B,IAED,KAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDAA8C,sBAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,YAAY,qCACZ,UAAU,wGACV,KAAM,EACN,SAAU,IAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,IAAM,KAAK,KAAoB,SAAU,GAAuC,IAA3B,EAAS,IAAI,GAAG,MAAM,UACzF,EAAW,aAAe,oBAMnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACY,AAAxB,MAAI,QAAQ,CAAC,MAAM,CAAS,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,wBAA4B,KAC/F,EAAI,QAAQ,CACV,KAAK,GACL,IAAI,CAAC,CAAC,EAAG,IAAO,EAAE,UAAU,CAAG,EAAE,UAAU,CAAG,EAAI,CAAC,GACnD,GAAG,CAAC,AAAC,GACJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAgB,UAAU,uFACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEAAwD,EAAG,KAAK,GAC9E,EAAG,OAAO,CAAG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DAAkD,EAAG,OAAO,GAAU,KACnG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,IAAI,KAAK,EAAG,UAAU,EAAE,cAAc,QAErF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAW,EAAG,IAAI,OAP3B,EAAG,EAAE,aAgB7B,SACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,SAAS,MAAM,kCAC3B,IAED,KAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDAA8C,mBAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,YAAY,sCACZ,UAAU,wGACV,KAAM,EACN,SAAU,IAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,IAAM,KAAK,KAAe,SAAU,GAA6C,IAA9B,EAAY,IAAI,GAAG,MAAM,UAC1F,EAAc,aAAe,gBAMtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDAA8C,iBAC7D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACY,IAAxB,EAAI,QAAQ,CAAC,MAAM,CAAS,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,qBAAyB,KAC5F,EAAI,QAAQ,CACV,KAAK,GACL,IAAI,CAAC,CAAC,EAAG,IAAO,EAAE,UAAU,CAAG,EAAE,UAAU,CAAG,EAAI,CAAC,GACnD,GAAG,CAAC,AAAC,GACJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAe,UAAU,uFACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAAgE,EAAE,MAAM,GACvF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DAAkD,EAAE,IAAI,GACvE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,IAAI,KAAK,EAAE,UAAU,EAAE,cAAc,QAEpF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,AAAa,YAAX,MAAM,CAAe,OAAS,mBAAY,EAAE,MAAM,OAP9D,EAAE,EAAE,cAgB5B,UACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,gDAI7C,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDAA8C,UAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,8DAIpD,GA/KK,CAAA,EAAG,EAAI,EAAE,CAAC,CAAC,EAAE,EAAA,CAAY,EAiL9B,OAGV,CAEA,SAAS,EAAY,YACnB,CAAU,KACV,CAAG,YACH,CAAU,gBACV,CAAc,CAMf,EACC,IAAM,EAAW,MAAM,OAAO,CAAC,EAAI,QAAQ,EAAI,EAAI,QAAQ,CAAG,EAAE,CAC1D,EAAW,MAAM,OAAO,CAAC,EAAI,QAAQ,EAAI,EAAI,QAAQ,CAAG,EAAE,CAE1D,EAAyC,UAA5B,OAAO,EAAI,QAAQ,EAAE,GAAkB,EAAI,QAAQ,CAAC,EAAE,CAAG,EAAI,WAAW,CACrF,EAAe,GAAoC,UAAtB,OAAO,EAA0B,CAAC,KAAK,EAAE,EAAW,SAAS,EAAE,EAAA,CAAY,CAAG,KAC3G,EAAc,EAAa,CAAC,KAAK,EAAE,EAAW,MAAM,EAAE,EAAI,EAAE,CAAC,YAAY,CAAC,CAAG,KAC7E,EAAe,EAAa,CAAC,KAAK,EAAE,EAAW,MAAM,EAAE,EAAI,EAAE,CAAC,aAAa,CAAC,CAAG,KAC/E,EAAe,EAAa,CAAC,KAAK,EAAE,EAAW,MAAM,EAAE,EAAI,EAAE,CAAC,aAAa,CAAC,CAAG,KAE/E,EAAiB,EAAA,OAAK,CAAC,OAAO,CAAC,IAC5B,EACJ,KAAK,GACL,IAAI,CAAC,CAAC,EAAG,IAAO,EAAE,UAAU,CAAG,EAAE,UAAU,CAAG,EAAI,CAAC,GACnD,EAAE,CAAC,GACL,CAAC,EAAS,EAEP,EAAgB,EAAA,OAAK,CAAC,OAAO,CAAC,IAC3B,EACJ,KAAK,GACL,IAAI,CAAC,CAAC,EAAG,IAAO,EAAE,UAAU,CAAG,EAAE,UAAU,CAAG,EAAI,CAAC,GACnD,EAAE,CAAC,GACL,CAAC,EAAS,EAEP,EAAW,EAAA,OAAK,CAAC,OAAO,CAAC,KAC7B,IAAM,EAAO,MAAM,OAAO,CAAC,EAAI,oBAAoB,EAAI,EAAI,oBAAoB,CAAG,EAAE,QACpF,AAAoB,GAAG,CAAnB,EAAK,MAAM,CAAe,IACvB,EAAK,GAAG,CAAC,AAAC,GAAM,EAAE,IAAI,EAAE,MAAM,CAAC,SAAS,IAAI,CAAC,OAAS,GAC/D,EAAG,CAAC,EAAI,oBAAoB,CAAC,EAEvB,EAAa,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,CAC7B,YAAa,EAAI,MAAM,EAAE,YACzB,SAAU,EAAI,MAAM,EAAE,SACtB,SAAU,GACZ,GAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,cAElB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,aAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACZ,EAAI,QAAQ,EAAE,OAA+B,CAAvB,SAAC,OAAO,EAA0B,CAAC,UAAU,EAAE,EAAA,CAAY,CAAG,GAAA,CAAG,GAE1F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CAAuC,EAAI,QAAQ,EAAE,OAAS,EAAI,QAAQ,EAAE,OAAS,QAErG,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,OAAO,CAAA,CAAA,EAAC,QAAQ,UAAU,KAAK,cACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,WAAc,WAE1B,YAKV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,cAEpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,YAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4DAAoD,EAAiB,WAAa,CAAA,EAAG,EAAW,MAAM,CAAC,SAAS,CAAC,GAChI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CAAuC,CAAU,CAAC,EAAE,EAAE,OAAS,QAE/E,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,OAAO,CAAA,CAAA,EAAC,QAAQ,UAAU,KAAK,cACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,WAAa,aAEzB,YAKV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,YAC9E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDAA+C,IAC7D,EAAI,cAAc,CAAG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAoB,EAAI,cAAc,WAAI,EAAgB,EAAI,cAAc,IAAa,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAU,SAE1J,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,YAAU,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAE,YAAa,EAAI,MAAM,EAAE,eAAgB,SAAU,EAAI,MAAM,EAAE,SAAU,SAAU,GAAI,WAI/J,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,gBAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4DAAoD,EAAe,EAAI,UAAU,IAChG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAA6B,UAAQ,EAAI,EAAE,YAKhE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,wBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,kBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,SAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAA6D,EAAI,WAAW,MAE7F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,WAC9E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAmB,EAAI,MAAM,WAAI,EAAgB,EAAI,MAAM,IAC1E,EAAI,QAAQ,CAAG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAqB,EAAI,QAAQ,WAAI,EAAgB,EAAI,QAAQ,IAAa,WAIlH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,kBAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,EAAI,KAAK,EAAI,iBAMlE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,wBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,oBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,OAAO,CAAA,CAAA,EAAC,QAAQ,UAAU,KAAK,cACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,WAAc,eAE1B,KACH,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,OAAO,CAAA,CAAA,EAAC,QAAQ,UAAU,KAAK,cACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,WAAc,eAE1B,aAIV,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,UAAU,cAExB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,0BAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEAA6D,GAAgB,OAAS,MACrG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,GAAgB,WAAa,EAAe,EAAe,UAAU,EAAI,QAEvH,GAAgB,KAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAW,EAAe,IAAI,GAAY,QAGnF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,cAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,mBAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACZ,EAAgB,CAAA,EAAG,EAAc,MAAM,CAAA,CAAE,CAAG,MAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CAAuC,GAAe,MAAQ,QAE9E,GAAe,WAAa,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAyB,EAAgB,EAAc,UAAU,IAAW,iBAMhI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,wBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,YAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,UAAU,cAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,WAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,EAAgB,EAAI,WAAW,UAGhF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,UAAU,cAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,aAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,EAAgB,EAAI,aAAa,UAGlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,UAAU,cAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,iBAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,EAAgB,EAAI,iBAAiB,gBAM1F,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,wBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,eAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,gBAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA8B,kBAO3D","ignoreList":[1,2]}