module.exports=[88228,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(59843),e=a.i(93609),f=a.i(91601),g=a.i(25533),h=a.i(75385),i=a.i(17933),j=a.i(97867),k=a.i(4600),l=a.i(29054),m=a.i(94703),n=a.i(26606),o=a.i(56264),p=a.i(75458);function q(a){let b=(a.currency||"usd").toUpperCase(),c=("number"==typeof a.amountCents?a.amountCents:0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:b,maximumFractionDigits:2}).format(c)}catch{return`${b} ${c.toFixed(2)}`}}function r(a){let b=String(a||"").toLowerCase();return b?"month"===b||"monthly"===b?"/mo":"year"===b||"yearly"===b||"annual"===b?"/yr":`/${b}`:""}function s(a){if(!a)return null;let b=Array.isArray(a.prices)?a.prices:[];return b.find(a=>a.is_default)??null??b[0]??null}function t(a){if(!a)return"—";let b=new Date(a);if(Number.isNaN(b.getTime()))return"—";try{return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit"}).format(b)}catch{return b.toISOString().slice(0,10)}}function u(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(k.Card,{className:"overflow-hidden",children:[(0,b.jsx)("div",{className:"h-1.5 w-full bg-[var(--rb-border)]"}),(0,b.jsx)(k.CardHeader,{className:"space-y-3",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)(n.Skeleton,{className:"h-3 w-24 rounded-[var(--rb-radius-sm)]"}),(0,b.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[(0,b.jsx)(n.Skeleton,{className:"h-7 w-56 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"h-5 w-20 rounded-full"})]}),(0,b.jsx)(n.Skeleton,{className:"mt-2 h-4 w-80 rounded-[var(--rb-radius-sm)]"})]}),(0,b.jsxs)("div",{className:"sm:text-right",children:[(0,b.jsx)(n.Skeleton,{className:"ml-auto h-3 w-20 rounded-[var(--rb-radius-sm)]"}),(0,b.jsxs)("div",{className:"mt-2 flex items-baseline gap-2 sm:justify-end",children:[(0,b.jsx)(n.Skeleton,{className:"h-8 w-28 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"h-4 w-12 rounded-[var(--rb-radius-sm)]"})]}),(0,b.jsx)(n.Skeleton,{className:"mt-2 ml-auto h-3 w-24 rounded-[var(--rb-radius-sm)]"})]})]})}),(0,b.jsx)(k.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Array.from({length:3}).map((a,c)=>(0,b.jsxs)("div",{className:"rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-[var(--rb-surface-muted)] p-4",children:[(0,b.jsx)(n.Skeleton,{className:"h-3 w-24 rounded-[var(--rb-radius-sm)]"}),(0,b.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Skeleton,{className:"h-3 w-16 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"mt-2 h-4 w-28 rounded-[var(--rb-radius-sm)]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Skeleton,{className:"h-3 w-20 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"mt-2 h-4 w-24 rounded-[var(--rb-radius-sm)]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Skeleton,{className:"h-3 w-24 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"mt-2 h-4 w-20 rounded-[var(--rb-radius-sm)]"})]})]})]},c))})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)(n.Skeleton,{className:"h-5 w-40 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"mt-2 h-4 w-72 rounded-[var(--rb-radius-sm)]"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end",children:[(0,b.jsx)(n.Skeleton,{className:"h-9 w-full rounded-[var(--rb-radius-sm)] sm:w-[260px]"}),(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(n.Skeleton,{className:"h-8 w-20 rounded-[var(--rb-radius-sm)]"},c))})]})]}),(0,b.jsx)("div",{className:"rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-white p-5",children:(0,b.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"relative flex w-5 flex-col items-center",children:[(0,b.jsx)("div",{className:"mt-1 h-3 w-3 rounded-full bg-[var(--rb-border)]"}),c<2?(0,b.jsx)("div",{className:"mt-2 w-px flex-1 bg-[var(--rb-border)]"}):null]}),(0,b.jsx)("div",{className:"min-w-0 flex-1 rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-[var(--rb-surface-muted)] px-4 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(n.Skeleton,{className:"h-5 w-12 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"h-5 w-16 rounded-full"}),(0,b.jsx)(n.Skeleton,{className:"h-3 w-14 rounded-[var(--rb-radius-sm)]"})]}),(0,b.jsx)(n.Skeleton,{className:"mt-2 h-3 w-40 rounded-[var(--rb-radius-sm)]"}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,b.jsx)(n.Skeleton,{className:"h-5 w-28 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"h-5 w-16 rounded-[var(--rb-radius-sm)]"}),(0,b.jsx)(n.Skeleton,{className:"h-5 w-24 rounded-[var(--rb-radius-sm)]"})]})]}),(0,b.jsx)(n.Skeleton,{className:"h-8 w-16 rounded-[var(--rb-radius-sm)]"})]})})]},c))})})]})]})}function v(){let a=(0,e.useParams)(),n=(0,g.useDashboardHeader)(),v=(0,e.useRouter)(),w=(0,p.useAuth)(),x=Number(a.planId),[y,z]=(0,c.useState)(!0),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(0),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)("all"),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(null),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(!0),aa=w.can("admin.billing.write");async function ab(){if(!G)return;let a=U.trim(),b=W.trim();if(!a)return void T("Name is required.");if(!b)return void T("Code is required.");R(!0),T(null);try{await (0,o.updateBillingPlan)({planId:G.id,name:a,code:b,description:Y,isActive:$}),P(!1),J(a=>a+1)}catch(a){T(a instanceof Error?a.message:"Failed to update plan.")}finally{R(!1)}}(0,c.useEffect)(()=>(n.setHeader({breadcrumb:"Admin / Billing / Plans",title:G?G.name:Number.isFinite(x)?`Plan ${x}`:"Plan",subtitle:G?G.code:void 0,actions:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:"/admin/billing/plans",children:(0,b.jsx)(j.Button,{variant:"outline",size:"sm",children:"Back"})}),aa?(0,b.jsx)(j.Button,{variant:"outline",size:"sm",disabled:y||Q||!G,onClick:()=>{G&&(T(null),V(G.name??""),X(G.code??""),Z(G.description??""),_(!!G.is_active),P(!0))},children:"Edit plan"}):null,aa?(0,b.jsx)(j.Button,{variant:"secondary",size:"sm",disabled:y||E||!Number.isFinite(x)||x<=0,onClick:async()=>{if(!E)try{F(!0),D(null);let a=await (0,o.createDraftBillingPlanVersionFromActive)({planId:x});v.push(`/admin/billing/plans/${x}/versions/${a.version.id}`)}catch(a){D(a instanceof Error?a.message:"Failed to create draft version.")}finally{F(!1)}},children:E?"Creating…":"Create draft"}):null,(0,b.jsx)(j.Button,{variant:"outline",size:"sm",onClick:()=>J(a=>a+1),disabled:y,children:"Refresh"})]})}),()=>n.setHeader(null)),[aa,n,E,y,G,x,v]),(0,c.useEffect)(()=>{let a=!0;return async function(){if(!Number.isFinite(x)||x<=0){B("Invalid plan id."),z(!1);return}try{z(!0),B(null);let b=await (0,o.getBillingCatalog)({includeInactive:!0});if(!a)return;let c=(Array.isArray(b.billing_plans)?b.billing_plans:[]).find(a=>a.id===x)??null;H(c),c||B("Plan not found.")}catch(b){if(!a)return;H(null),B(b instanceof Error?b.message:"Failed to load plan.")}finally{if(!a)return;z(!1)}}(),()=>{a=!1}},[x,I]);let ac=(0,c.useMemo)(()=>Array.isArray(G?.versions)?G?.versions:[],[G]),ad=(0,c.useMemo)(()=>{let a,b;return G?(b=(a=Array.isArray(G.versions)?G.versions:[]).find(a=>"active"===a.status)??null)||(a.slice().sort((a,b)=>(b.version??0)-(a.version??0))[0]??null):null},[G]),ae=(0,c.useMemo)(()=>s(ad),[ad]),af=(0,c.useMemo)(()=>Array.from(new Set(ac.flatMap(a=>Array.isArray(a.prices)?a.prices:[]).map(a=>a.currency).filter(Boolean))).map(a=>String(a).toUpperCase()).sort(),[ac]),ag=(0,c.useMemo)(()=>{let a={all:0,active:0,draft:0,retired:0,other:0};for(let b of ac){a.all+=1;let c=String(b.status||"").toLowerCase();"active"===c?a.active+=1:"draft"===c?a.draft+=1:"retired"===c?a.retired+=1:a.other+=1}return a},[ac]),ah=(0,c.useMemo)(()=>{let a=K.trim().toLowerCase();return ac.slice().sort((a,b)=>(b.version??0)-(a.version??0)).filter(b=>{let c=String(b.status||"").toLowerCase();if("active"===M&&"active"!==c||"draft"===M&&"draft"!==c||"retired"===M&&"retired"!==c||"other"===M&&("active"===c||"draft"===c||"retired"===c))return!1;if(!a)return!0;let d=(Array.isArray(b.prices)?b.prices:[]).map(a=>`${a.currency} ${a.interval} ${a.amount_cents}`).join(" ").toLowerCase();return`v${b.version} ${b.status} ${b.id}`.toLowerCase().includes(a)||d.includes(a)})},[M,K,ac]);return(0,b.jsx)(f.RequireAuth,{requiredPermission:"admin.billing.read",children:(0,b.jsxs)("div",{className:"space-y-6",children:[A?(0,b.jsx)(h.Alert,{variant:"danger",title:"Could not load plan",children:A}):null,C?(0,b.jsx)(h.Alert,{variant:"danger",title:"Action failed",children:C}):null,!y||G||A?null:(0,b.jsx)(u,{}),G?(0,b.jsxs)(k.Card,{className:"overflow-hidden",children:[(0,b.jsx)("div",{className:"h-1.5 w-full "+(G.is_active?"bg-[var(--rb-blue)]":"bg-[var(--rb-border)]")}),(0,b.jsx)(k.CardHeader,{className:"space-y-3",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide text-zinc-500",children:"Billing plan"}),(0,b.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[(0,b.jsx)("div",{className:"truncate text-xl font-semibold tracking-tight text-[var(--rb-text)]",children:G.name}),(0,b.jsx)(i.Badge,{variant:G.is_active?"success":"default",children:G.is_active?"active":"inactive"})]}),(0,b.jsx)("div",{className:"mt-1 text-sm text-zinc-600",children:G.description??"—"})]}),(0,b.jsxs)("div",{className:"sm:text-right",children:[(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:"Starting at"}),(0,b.jsxs)("div",{className:"mt-1 flex items-baseline gap-2 sm:justify-end",children:[(0,b.jsx)("div",{className:"text-2xl font-semibold tracking-tight text-[var(--rb-text)]",children:ae?q({currency:ae.currency,amountCents:ae.amount_cents}):"—"}),(0,b.jsx)("div",{className:"text-sm text-zinc-600",children:ae?r(ae.interval):""})]}),ae?.trial_days?(0,b.jsxs)("div",{className:"mt-1 text-xs text-zinc-500",children:[ae.trial_days," day trial"]}):null]})]})}),(0,b.jsx)(k.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-[var(--rb-surface-muted)] p-4",children:[(0,b.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide text-zinc-500",children:"Overview"}),(0,b.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:"Code"}),(0,b.jsx)("div",{className:"mt-1 text-sm font-medium text-zinc-800",children:G.code})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:"Plan ID"}),(0,b.jsx)("div",{className:"mt-1 text-sm font-medium text-zinc-800",children:G.id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:"Last updated"}),(0,b.jsx)("div",{className:"mt-1 text-sm font-medium text-zinc-800",children:t(G.updated_at)})]})]})]}),(0,b.jsxs)("div",{className:"rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-[var(--rb-surface-muted)] p-4",children:[(0,b.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide text-zinc-500",children:"Current version"}),(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,b.jsx)("div",{className:"text-sm text-zinc-700",children:ad?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{className:"font-medium text-zinc-900",children:["v",ad.version]}),(0,b.jsx)("span",{className:"ml-2",children:(0,b.jsx)(i.Badge,{variant:"active"===ad.status?"success":"draft"===ad.status?"info":"default",children:ad.status})})]}):"—"}),(0,b.jsxs)("div",{className:"text-xs text-zinc-500",children:["Total versions: ",ac.length]}),ad?(0,b.jsx)("div",{className:"pt-1",children:(0,b.jsx)(d.default,{href:`/admin/billing/plans/${x}/versions/${ad.id}`,children:(0,b.jsx)(j.Button,{variant:"outline",size:"sm",children:"View current version"})})}):null]})]}),(0,b.jsxs)("div",{className:"rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-[var(--rb-surface-muted)] p-4",children:[(0,b.jsx)("div",{className:"text-xs font-medium uppercase tracking-wide text-zinc-500",children:"Coverage"}),(0,b.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:"Currencies"}),(0,b.jsx)("div",{className:"mt-1 text-sm font-medium text-zinc-800",children:af.length>0?af.join(", "):"—"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:"Default currency"}),(0,b.jsx)("div",{className:"mt-1 text-sm font-medium text-zinc-800",children:ae?.currency?String(ae.currency).toUpperCase():"—"})]})]})]})]})})]}):null,(0,b.jsx)(m.Modal,{open:O,onClose:()=>{Q||P(!1)},title:"Edit billing plan",footer:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:()=>{Q||P(!1)},disabled:Q,children:"Cancel"}),(0,b.jsx)(j.Button,{variant:"primary",onClick:()=>void ab(),disabled:Q,children:Q?"Saving…":"Save"})]}),children:(0,b.jsxs)("div",{className:"space-y-4",children:[S?(0,b.jsx)(h.Alert,{variant:"danger",title:"Cannot save",children:S}):null,(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Name"}),(0,b.jsx)(l.Input,{value:U,onChange:a=>V(a.target.value),disabled:Q})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Code"}),(0,b.jsx)(l.Input,{value:W,onChange:a=>X(a.target.value),disabled:Q})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,b.jsx)("textarea",{className:"min-h-[90px] w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 py-2 text-sm",value:Y,onChange:a=>Z(a.target.value),disabled:Q})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("input",{type:"checkbox",checked:$,onChange:a=>_(a.target.checked),disabled:Q}),"Active"]})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Version history"}),(0,b.jsx)("div",{className:"mt-1 text-sm text-zinc-600",children:"Track changes over time and inspect each version."})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end",children:[(0,b.jsx)("div",{className:"w-full sm:w-[260px]",children:(0,b.jsx)(l.Input,{value:K,onChange:a=>L(a.target.value),placeholder:"Search versions…"})}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)(j.Button,{variant:"all"===M?"secondary":"outline",size:"sm",onClick:()=>N("all"),children:["All (",ag.all,")"]}),(0,b.jsxs)(j.Button,{variant:"active"===M?"secondary":"outline",size:"sm",onClick:()=>N("active"),children:["Active (",ag.active,")"]}),(0,b.jsxs)(j.Button,{variant:"draft"===M?"secondary":"outline",size:"sm",onClick:()=>N("draft"),children:["Draft (",ag.draft,")"]}),(0,b.jsxs)(j.Button,{variant:"retired"===M?"secondary":"outline",size:"sm",onClick:()=>N("retired"),children:["Retired (",ag.retired,")"]}),"all"!==M||K.trim().length>0?(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{N("all"),L("")},children:"Clear"}):null]})]})]}),null,y||0!==ah.length?null:(0,b.jsx)("div",{className:"text-sm text-zinc-500",children:"No versions found."}),!y&&ah.length>0?(0,b.jsxs)("div",{className:"rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-white p-5",children:[(0,b.jsx)("div",{className:"mb-4 flex items-center justify-between gap-3",children:(0,b.jsxs)("div",{className:"text-sm text-zinc-600",children:["Showing ",(0,b.jsx)("span",{className:"font-medium text-zinc-900",children:ah.length})," of ",ac.length]})}),(0,b.jsx)("div",{className:"space-y-0",children:ah.map((a,c)=>{let e=Array.isArray(a.prices)?a.prices:[],f=Array.isArray(a.entitlements)?a.entitlements:[],g=s(a),h=c===ah.length-1,k=String(a.status||"").toLowerCase();return(0,b.jsxs)("div",{className:"relative flex gap-4 "+(h?"":"pb-6"),children:[(0,b.jsxs)("div",{className:"relative flex w-5 flex-col items-center",children:[(0,b.jsx)("div",{className:"mt-1 h-3 w-3 rounded-full ring-4 "+("active"===k?"bg-[var(--rb-blue)]":"draft"===k?"bg-[var(--rb-orange)]":"bg-zinc-400")+" "+("active"===k?"ring-[color:color-mix(in_srgb,var(--rb-blue),white_70%)]":"draft"===k?"ring-[color:color-mix(in_srgb,var(--rb-orange),white_70%)]":"ring-[color:color-mix(in_srgb,var(--rb-border),white_70%)]")}),h?null:(0,b.jsx)("div",{className:"mt-2 w-px flex-1 bg-[var(--rb-border)]"})]}),(0,b.jsx)("div",{className:"min-w-0 flex-1",children:(0,b.jsxs)("div",{className:"rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-[var(--rb-surface-muted)] px-4 py-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("div",{className:"text-base font-semibold text-[var(--rb-text)]",children:["v",a.version]}),(0,b.jsx)(i.Badge,{variant:"active"===k?"success":"draft"===k?"info":"default",children:a.status}),(0,b.jsxs)("div",{className:"text-xs text-zinc-500",children:["ID ",a.id]})]}),(0,b.jsx)("div",{className:"mt-1 text-xs text-zinc-500",children:"active"===k?(0,b.jsxs)(b.Fragment,{children:["Activated: ",t(a.activated_at??a.created_at)]}):"retired"===k?(0,b.jsxs)(b.Fragment,{children:["Retired: ",t(a.retired_at??a.created_at)]}):(0,b.jsxs)(b.Fragment,{children:["Created: ",t(a.created_at)]})}),(0,b.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[g?(0,b.jsxs)("div",{className:"text-sm font-medium text-zinc-900",children:[q({currency:g.currency,amountCents:g.amount_cents}),(0,b.jsx)("span",{className:"ml-1 text-sm font-normal text-zinc-600",children:r(g.interval)})]}):(0,b.jsx)("div",{className:"text-sm text-zinc-600",children:"—"}),(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:"•"}),(0,b.jsxs)("div",{className:"text-sm text-zinc-700",children:[e.length," price(s)"]}),(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:"•"}),(0,b.jsxs)("div",{className:"text-sm text-zinc-700",children:[f.length," entitlements"]})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-between gap-3 sm:flex-col sm:items-end sm:justify-start",children:(0,b.jsx)(d.default,{href:`/admin/billing/plans/${x}/versions/${a.id}`,children:(0,b.jsx)(j.Button,{variant:"outline",size:"sm",children:"View"})})})]}),e.length>0?(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.slice(0,4).map(a=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border px-2.5 py-1 text-xs font-medium "+(a.is_default?"border-[color:color-mix(in_srgb,var(--rb-blue),white_60%)] bg-[color:color-mix(in_srgb,var(--rb-blue),white_92%)] text-[var(--rb-blue)]":"border-[var(--rb-border)] bg-white text-[var(--rb-text)]"),children:[(0,b.jsx)("span",{children:String(a.currency).toUpperCase()}),(0,b.jsxs)("span",{children:[q({currency:a.currency,amountCents:a.amount_cents}),r(a.interval)]}),a.is_default?(0,b.jsx)("span",{className:"text-[10px] uppercase tracking-wide",children:"default"}):null]},a.id)),e.length>4?(0,b.jsxs)("span",{className:"inline-flex items-center rounded-full border border-[var(--rb-border)] bg-white px-2.5 py-1 text-xs font-medium text-zinc-600",children:["+",e.length-4," more"]}):null]}):null]})})]},a.id)})})]}):null]})]})})}a.s(["default",()=>v])}];

//# sourceMappingURL=frontend_src_app_admin_billing_plans_%5BplanId%5D_page_tsx_49d7e955._.js.map