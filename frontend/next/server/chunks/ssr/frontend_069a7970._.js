module.exports=[75385,a=>{"use strict";var b=a.i(57850),c=a.i(7160);function d({variant:a,className:d}){let e="h-4 w-4 shrink-0";return"success"===a?(0,b.jsx)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M20 6L9 17l-5-5"})}):"warning"===a?(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M12 9v4"}),(0,b.jsx)("path",{d:"M12 17h.01"}),(0,b.jsx)("path",{d:"M10.3 3.6l-8.3 14.3A2 2 0 0 0 3.7 21h16.6a2 2 0 0 0 1.7-3.1L13.7 3.6a2 2 0 0 0-3.4 0z"})]}):"danger"===a?(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M18 6L6 18"}),(0,b.jsx)("path",{d:"M6 6l12 12"})]}):(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M12 16v-4"}),(0,b.jsx)("path",{d:"M12 8h.01"}),(0,b.jsx)("path",{d:"M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10z"})]})}function e({className:a,variant:e="info",title:f,children:g,...h}){let i={info:{wrapper:"border-[color:color-mix(in_srgb,var(--rb-blue),white_75%)] bg-[color:color-mix(in_srgb,var(--rb-blue),white_92%)] text-[var(--rb-text)]",icon:"text-[var(--rb-blue)]",title:"text-[var(--rb-blue)]"},success:{wrapper:"border-[color:color-mix(in_srgb,#16a34a,white_75%)] bg-[color:color-mix(in_srgb,#16a34a,white_92%)] text-[var(--rb-text)]",icon:"text-[#166534]",title:"text-[#166534]"},warning:{wrapper:"border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)] bg-[color:color-mix(in_srgb,var(--rb-orange),white_92%)] text-[var(--rb-text)]",icon:"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]",title:"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]"},danger:{wrapper:"border-[color:color-mix(in_srgb,#dc2626,white_75%)] bg-[color:color-mix(in_srgb,#dc2626,white_92%)] text-[var(--rb-text)]",icon:"text-[#991b1b]",title:"text-[#991b1b]"}}[e];return(0,b.jsx)("div",{role:"alert",className:(0,c.cn)("rounded-[var(--rb-radius-md)] border px-4 py-3",i.wrapper,a),...h,children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d,{variant:e,className:(0,c.cn)("mt-0.5",i.icon)}),(0,b.jsxs)("div",{className:"min-w-0",children:[f?(0,b.jsx)("div",{className:(0,c.cn)("text-sm font-semibold",i.title),children:f}):null,g?(0,b.jsx)("div",{className:(0,c.cn)("text-sm text-zinc-700",f?"mt-1":""),children:g}):null]})]})})}a.s(["Alert",()=>e])},17933,a=>{"use strict";var b=a.i(57850),c=a.i(7160);function d({className:a,variant:d="default",...e}){return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium",{default:"bg-[var(--rb-surface-muted)] text-[var(--rb-text)] border-[var(--rb-border)]",info:"bg-[color:color-mix(in_srgb,var(--rb-blue),white_85%)] text-[var(--rb-blue)] border-[color:color-mix(in_srgb,var(--rb-blue),white_70%)]",success:"bg-[color:color-mix(in_srgb,#16a34a,white_85%)] text-[#166534] border-[color:color-mix(in_srgb,#16a34a,white_70%)]",warning:"bg-[color:color-mix(in_srgb,var(--rb-orange),white_85%)] text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)] border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)]",danger:"bg-[color:color-mix(in_srgb,#dc2626,white_85%)] text-[#991b1b] border-[color:color-mix(in_srgb,#dc2626,white_70%)]"}[d],a),...e})}a.s(["Badge",()=>d])},648,a=>{"use strict";var b=a.i(57850),c=a.i(7160);function d({title:a,description:d,actions:e,className:f}){return(0,b.jsxs)("div",{className:(0,c.cn)("flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",f),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-semibold text-[var(--rb-text)]",children:a}),d?(0,b.jsx)("p",{className:"mt-1 text-sm text-zinc-600",children:d}):null]}),e?(0,b.jsx)("div",{className:"flex items-center gap-2",children:e}):null]})}a.s(["PageHeader",()=>d])},4148,a=>{"use strict";function b(a){let b=a.amountCents,c=a.currency?.toUpperCase()??null;if("number"!=typeof b||!Number.isFinite(b))return a.fallback??"—";let d=b/100;if(!c||3!==c.length)return`${d.toFixed(2)}`;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:c,minimumFractionDigits:2,maximumFractionDigits:2}).format(d)}catch{return`${c} ${d.toFixed(2)}`}}a.s(["formatMoney",()=>b])},71513,a=>{"use strict";var b=a.i(6454);a.s(["notify",0,{success:(a,c={})=>b.toast.success(a,c),error:(a,c={})=>b.toast.error(a,c),info:(a,c={})=>b.toast.info(a,c),warning:(a,c={})=>b.toast.warning(a,c),loading:(a,c={})=>b.toast.loading(a,c),dismiss(a){b.toast.dismiss(a)},message:(a,c,d={})=>"success"===a?b.toast.success(c,d):"error"===a?b.toast.error(c,d):"warning"===a?b.toast.warning(c,d):"loading"===a?b.toast.loading(c,d):b.toast.info(c,d)}])},73016,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(7160);let e=(0,c.createContext)(null);function f(){let a=(0,c.useContext)(e);if(!a)throw Error("Tabs components must be used within <Tabs />");return a}function g({value:a,defaultValue:f,onValueChange:g,className:h,children:i}){let j=(0,c.useId)(),[k,l]=(0,c.useState)(f??""),m="string"==typeof a?a:k,n=(0,c.useCallback)(b=>{b&&(g&&g(b),"string"!=typeof a&&l(b))},[g,a]),o=(0,c.useMemo)(()=>({value:m,setValue:n,baseId:j}),[j,m,n]);return(0,b.jsx)(e.Provider,{value:o,children:(0,b.jsx)("div",{className:(0,d.cn)("space-y-4",h),children:i})})}function h({className:a,...c}){return(0,b.jsx)("div",{className:(0,d.cn)("inline-flex items-center gap-1 rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-white p-1 shadow-[var(--rb-shadow)]",a),role:"tablist",...c})}function i({value:a,className:c,...e}){let g=f(),h=g.value===a,{onClick:i,...j}=e;return(0,b.jsx)("button",{type:"button",role:"tab","aria-selected":h,"aria-controls":`${g.baseId}-panel-${a}`,id:`${g.baseId}-tab-${a}`,onClick:b=>{g.setValue(a),i?.(b)},className:(0,d.cn)("h-9 rounded-[var(--rb-radius-sm)] px-3 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--rb-orange)] focus-visible:ring-offset-2 focus-visible:ring-offset-white",h?"bg-[var(--rb-surface-muted)] text-[var(--rb-text)]":"text-zinc-600 hover:bg-[var(--rb-surface-muted)]",c),...j})}function j({value:a,className:c,children:e,...g}){let h=f();return h.value!==a?null:(0,b.jsx)("div",{role:"tabpanel",id:`${h.baseId}-panel-${a}`,"aria-labelledby":`${h.baseId}-tab-${a}`,className:(0,d.cn)(c),...g,children:e})}a.s(["Tabs",()=>g,"TabsContent",()=>j,"TabsList",()=>h,"TabsTrigger",()=>i])},32145,a=>{"use strict";var b=a.i(57850),c=a.i(59843),d=a.i(7160),e=a.i(648),f=a.i(73016);function g({breadcrumb:a,backHref:g,backLabel:h="Back",title:i,description:j,actions:k,defaultTab:l="overview",tabs:m,className:n}){return(0,b.jsxs)("div",{className:(0,d.cn)("space-y-0 space-x-2",n),children:[(0,b.jsx)("div",{className:"space-y-2",children:g?(0,b.jsx)("div",{children:(0,b.jsx)(c.default,{href:g,className:"text-sm text-zinc-600 hover:text-[var(--rb-text)]",children:h})}):null}),(0,b.jsx)(e.PageHeader,{title:i,description:j,actions:k}),(0,b.jsxs)(f.Tabs,{defaultValue:l,children:[(0,b.jsxs)(f.TabsList,{children:[void 0!==m.overview?(0,b.jsx)(f.TabsTrigger,{value:"overview",children:"Overview"}):null,void 0!==m.devices?(0,b.jsx)(f.TabsTrigger,{value:"devices",children:"Devices"}):null,void 0!==m.timeline?(0,b.jsx)(f.TabsTrigger,{value:"timeline",children:"Timeline"}):null,void 0!==m.messages?(0,b.jsx)(f.TabsTrigger,{value:"messages",children:"Messages"}):null,void 0!==m.financial?(0,b.jsx)(f.TabsTrigger,{value:"financial",children:"Financial"}):null,void 0!==m.print?(0,b.jsx)(f.TabsTrigger,{value:"print",children:"Print"}):null]}),void 0!==m.overview?(0,b.jsx)(f.TabsContent,{value:"overview",children:m.overview}):null,void 0!==m.devices?(0,b.jsx)(f.TabsContent,{value:"devices",children:m.devices}):null,void 0!==m.timeline?(0,b.jsx)(f.TabsContent,{value:"timeline",children:m.timeline}):null,void 0!==m.messages?(0,b.jsx)(f.TabsContent,{value:"messages",children:m.messages}):null,void 0!==m.financial?(0,b.jsx)(f.TabsContent,{value:"financial",children:m.financial}):null,void 0!==m.print?(0,b.jsx)(f.TabsContent,{value:"print",children:m.print}):null]})]})}a.s(["DetailPageShell",()=>g])},51600,78973,67082,a=>{"use strict";let b=(0,a.i(31261).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],51600);var c=a.i(93609);function d(a="overview"){let b=(0,c.useSearchParams)(),e=b?.get("tab")??null;return"overview"===e||"devices"===e||"timeline"===e||"messages"===e||"financial"===e||"print"===e?e:a}a.s(["useDetailTab",()=>d],78973);var e=a.i(57850),f=a.i(75385),g=a.i(17933),h=a.i(97867),i=a.i(4600);function j({devicesError:a,attachError:b,devicesLoading:c,customerDevices:d,attachedDevices:j,attachId:k,setAttachId:l,attachBusy:m,onAttach:n,onDetach:o}){return(0,e.jsxs)("div",{className:"space-y-4",children:[a?(0,e.jsx)(f.Alert,{variant:"danger",title:"Could not load devices",children:a}):null,b?(0,e.jsx)(f.Alert,{variant:"danger",title:"Could not update devices",children:b}):null,c?(0,e.jsx)("div",{className:"text-sm text-zinc-500",children:"Loading devices..."}):null,(0,e.jsx)(i.Card,{className:"shadow-none",children:(0,e.jsxs)(i.CardContent,{className:"pt-5",children:[(0,e.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Attach customer device"}),(0,e.jsxs)("div",{className:"mt-3 flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,e.jsxs)("select",{value:k,onChange:a=>l(a.target.value),disabled:m||0===d.length,className:"h-10 w-full rounded-[var(--rb-radius-sm)] border border-[var(--rb-border)] bg-white px-3 text-sm",children:[(0,e.jsx)("option",{value:"",children:"Select a customer device..."}),d.map(a=>(0,e.jsxs)("option",{value:String(a.id),children:[a.label,a.serial?` (Serial: ${a.serial})`:""]},a.id))]}),(0,e.jsx)(h.Button,{onClick:n,disabled:m||0===k.trim().length,children:m?"Saving...":"Attach"})]}),0===d.length?(0,e.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:"No customer devices available."}):null]})}),(0,e.jsx)(i.Card,{className:"shadow-none",children:(0,e.jsxs)(i.CardContent,{className:"pt-5",children:[(0,e.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Attached devices"}),(0,e.jsxs)("div",{className:"mt-4 space-y-3",children:[0===j.length?(0,e.jsx)("div",{className:"text-sm text-zinc-600",children:"No devices attached."}):null,j.map(a=>(0,e.jsx)("div",{className:"rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white p-3",children:(0,e.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,e.jsxs)("div",{className:"min-w-0",children:[(0,e.jsx)("div",{className:"truncate text-sm font-semibold text-[var(--rb-text)]",children:a.label}),(0,e.jsxs)("div",{className:"mt-1 text-xs text-zinc-500",children:["Serial: ",a.serial??"—"]}),a.notes?(0,e.jsx)("div",{className:"mt-2 whitespace-pre-wrap text-sm text-zinc-700",children:a.notes}):null,Array.isArray(a.extra_fields)&&a.extra_fields.length>0?(0,e.jsxs)("div",{className:"mt-3",children:[(0,e.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500",children:"Extra fields"}),(0,e.jsx)("div",{className:"mt-2 grid gap-2 sm:grid-cols-2",children:a.extra_fields.map(a=>(0,e.jsxs)("div",{className:"min-w-0",children:[(0,e.jsx)("div",{className:"truncate text-xs text-zinc-500",children:a.label}),(0,e.jsx)("div",{className:"truncate text-sm text-zinc-700",children:a.value_text})]},a.key))})]}):null]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(g.Badge,{variant:"default",children:a.customer_device_id}),(0,e.jsx)(h.Button,{variant:"outline",size:"sm",onClick:()=>o(a.id),disabled:m,children:"Remove"})]})]})},a.id))]})]})})]})}a.s(["AttachedDevicesManager",()=>j],67082)},23675,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(59843),e=a.i(93609),f=a.i(51600),g=a.i(75385),h=a.i(17933),i=a.i(97867),j=a.i(4600),k=a.i(32145),l=a.i(78973),m=a.i(67082),n=a.i(34075),o=a.i(75458),p=a.i(4148),q=a.i(71513);function r(){var a;let r=(0,e.useRouter)(),s=(0,o.useAuth)(),t=(0,e.useParams)(),u=t.business??t.tenant,v=t.estimateId,w=(0,l.useDetailTab)("overview"),[x,y]=c.default.useState(!0),[z,A]=c.default.useState(null),[B,C]=c.default.useState(null),[D,E]=c.default.useState(!1),[F,G]=c.default.useState(null),[H,I]=c.default.useState(0),[J,K]=c.default.useState(!1),[L,M]=c.default.useState(null),[N,O]=c.default.useState([]),[P,Q]=c.default.useState([]),[R,S]=c.default.useState(""),[T,U]=c.default.useState(!1),[V,W]=c.default.useState(null);c.default.useEffect(()=>{let a=!0;return async function(){try{if(y(!0),A(null),!v){A("Estimate ID is missing."),C(null);return}if("string"!=typeof u||0===u.trim().length){A("Tenant is missing."),C(null);return}let b=await (0,n.apiFetch)(`/api/${u}/app/repairbuddy/estimates/${v}`,{method:"GET"});if(!a)return;let c=b?.estimate??null;if(!c){A("Estimate not found."),C(null);return}C(c)}catch(b){if(!a)return;if(b instanceof n.ApiError&&428===b.status&&"string"==typeof u&&u.trim().length>0){let a=`/app/${u}/estimates/${v}`;r.replace(`/app/${u}/branches/select?next=${encodeURIComponent(a)}`);return}b instanceof n.ApiError?A(b.message):A(b instanceof Error?b.message:"Failed to load estimate."),C(null)}finally{if(!a)return;y(!1)}}(),()=>{a=!1}},[v,H,r,u]),c.default.useEffect(()=>{let a=!0;return async function(){try{if(K(!0),M(null),!v||"string"!=typeof u||0===u.trim().length||!B){O([]),Q([]);return}let b=await (0,n.apiFetch)(`/api/${u}/app/repairbuddy/estimates/${v}/devices`);if(!a)return;O(Array.isArray(b?.estimate_devices)?b.estimate_devices:[]);let c=B.customer?.id;if("number"!=typeof c)return void Q([]);let d=await (0,n.apiFetch)(`/api/${u}/app/repairbuddy/customer-devices?customer_id=${encodeURIComponent(String(c))}`);if(!a)return;Q(Array.isArray(d?.customer_devices)?d.customer_devices:[])}catch(b){if(!a)return;if(b instanceof n.ApiError&&428===b.status&&"string"==typeof u&&u.trim().length>0){let a=`/app/${u}/estimates/${v}`;r.replace(`/app/${u}/branches/select?next=${encodeURIComponent(a)}`);return}M(b instanceof Error?b.message:"Failed to load devices."),O([]),Q([])}finally{if(!a)return;K(!1)}}(),()=>{a=!1}},[B,v,H,r,u]);let X=B?.totals?.total_cents??0,Y=B?.totals?.currency??"USD",Z=B?.converted_job_id??null,$="number"==typeof Z&&Z>0;async function _(a){if(B){E(!0),G(null);try{if("string"!=typeof u||0===u.trim().length)throw Error("Tenant is missing.");await (0,n.apiFetch)(`/api/${u}/app/repairbuddy/estimates/${B.id}`,{method:"PATCH",body:{status:a}}),I(a=>a+1)}catch(a){a instanceof n.ApiError?G(a.message):G(a instanceof Error?a.message:"Failed to update estimate.")}finally{E(!1)}}}async function aa(){if(B&&!D&&s.can("estimates.manage")){E(!0),G(null);try{if("string"!=typeof u||0===u.trim().length)throw Error("Tenant is missing.");await (0,n.apiFetch)(`/api/${u}/app/repairbuddy/estimates/${B.id}/send`,{method:"POST"}),q.notify.success("Estimate sent."),I(a=>a+1)}catch(a){a instanceof n.ApiError?G(a.message):G(a instanceof Error?a.message:"Failed to send estimate.")}finally{E(!1)}}}async function ab(){if(W(null),!R||0===R.trim().length)return void W("Select a customer device.");if("string"!=typeof u||0===u.trim().length)return void W("Tenant is missing.");if(!v)return void W("Estimate ID is missing.");U(!0);try{await (0,n.apiFetch)(`/api/${u}/app/repairbuddy/estimates/${v}/devices`,{method:"POST",body:{customer_device_id:Number(R)}}),S(""),I(a=>a+1)}catch(a){a instanceof n.ApiError?W(a.message):W(a instanceof Error?a.message:"Failed to attach device.")}finally{U(!1)}}async function ac(a){if(W(null),"string"!=typeof u||0===u.trim().length)return void W("Tenant is missing.");if(!v)return void W("Estimate ID is missing.");U(!0);try{await (0,n.apiFetch)(`/api/${u}/app/repairbuddy/estimates/${v}/devices/${a}`,{method:"DELETE"}),I(a=>a+1)}catch(a){a instanceof n.ApiError?W(a.message):W(a instanceof Error?a.message:"Failed to detach device.")}finally{U(!1)}}return(0,b.jsxs)("div",{className:"space-y-6",children:[z?(0,b.jsx)(g.Alert,{variant:"danger",title:"Could not load estimate",children:z}):null,x?(0,b.jsx)("div",{className:"text-sm text-zinc-500",children:"Loading estimate..."}):null,B?(0,b.jsx)(k.DetailPageShell,{breadcrumb:(0,b.jsxs)("span",{children:[(0,b.jsx)(d.default,{href:"string"==typeof u?`/app/${u}/estimates`:"/app",className:"hover:text-[var(--rb-text)]",children:"Estimates"}),(0,b.jsx)("span",{className:"px-2",children:"/"}),(0,b.jsx)("span",{children:B.case_number})]}),backHref:"string"==typeof u?`/app/${u}/estimates`:"/app",title:B.case_number,description:B.title,actions:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(h.Badge,{variant:"approved"===(a=B.status)?"success":"rejected"===a?"danger":"warning",children:B.status}),$&&"string"==typeof u?(0,b.jsx)(d.default,{href:`/app/${u}/jobs/${Z}`,className:"text-sm text-[var(--rb-text)] underline",children:"View Job"}):null,(0,b.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{I(a=>a+1)},children:[(0,b.jsx)(f.RefreshCw,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,b.jsx)(i.Button,{variant:"outline",size:"sm",disabled:D||!s.can("estimates.manage")||!B.customer||!B.customer.email||0===B.customer.email.trim().length,onClick:()=>void aa(),children:"Send"}),(0,b.jsx)(i.Button,{variant:"outline",size:"sm",disabled:D||"pending"!==B.status||$,onClick:()=>void _("rejected"),children:"Reject"}),(0,b.jsx)(i.Button,{disabled:D||"pending"!==B.status||$,size:"sm",onClick:()=>void _("approved"),children:"Approve"})]}),defaultTab:w,tabs:{overview:(0,b.jsx)(j.Card,{className:"shadow-none",children:(0,b.jsxs)(j.CardContent,{className:"pt-5",children:[F?(0,b.jsx)(g.Alert,{variant:"danger",title:"Could not update estimate",children:F}):null,(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500",children:"Client"}),(0,b.jsx)("div",{className:"mt-1 text-sm text-zinc-700",children:B.customer?.name??"—"}),(0,b.jsx)("div",{className:"mt-1 text-xs text-zinc-500",children:B.customer?.email??""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500",children:"Total"}),(0,b.jsx)("div",{className:"mt-1 text-sm font-semibold text-[var(--rb-text)]",children:(0,p.formatMoney)({amountCents:X,currency:Y})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500",children:"Created"}),(0,b.jsx)("div",{className:"mt-1 text-sm text-zinc-700",children:new Date(B.created_at).toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-zinc-500",children:"Updated"}),(0,b.jsx)("div",{className:"mt-1 text-sm text-zinc-700",children:new Date(B.updated_at).toLocaleString()})]})]})]})}),devices:(0,b.jsx)(m.AttachedDevicesManager,{devicesError:L,attachError:V,devicesLoading:J,customerDevices:P,attachedDevices:N,attachId:R,setAttachId:S,attachBusy:T,onAttach:()=>void ab(),onDetach:a=>void ac(a)}),timeline:(0,b.jsx)(j.Card,{className:"shadow-none",children:(0,b.jsxs)(j.CardContent,{className:"pt-5",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Line items"}),(0,b.jsxs)("div",{className:"mt-4 space-y-2",children:[(B.items??[]).map(a=>(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3 rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white p-3",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"truncate text-sm font-semibold text-[var(--rb-text)]",children:a.name}),(0,b.jsxs)("div",{className:"mt-1 text-xs text-zinc-500",children:["Qty: ",a.qty]})]}),(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)] whitespace-nowrap",children:(0,p.formatMoney)({amountCents:a.qty*a.unit_price.amount_cents,currency:a.unit_price.currency})})]},a.id)),(0,b.jsxs)("div",{className:"flex items-center justify-between border-t border-[var(--rb-border)] pt-3",children:[(0,b.jsx)("div",{className:"text-sm text-zinc-700",children:"Total"}),(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:(0,p.formatMoney)({amountCents:X,currency:Y})})]})]})]})}),messages:(0,b.jsx)(j.Card,{className:"shadow-none",children:(0,b.jsxs)(j.CardContent,{className:"pt-5",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Messages"}),(0,b.jsx)("div",{className:"mt-2 text-sm text-zinc-600",children:"Estimate-specific messages are shown on the Job detail timeline in later phases."})]})}),financial:(0,b.jsx)(j.Card,{className:"shadow-none",children:(0,b.jsxs)(j.CardContent,{className:"pt-5",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Financial"}),(0,b.jsx)("div",{className:"mt-2 text-sm text-zinc-600",children:"Payments and invoices are implemented in later phases."})]})}),print:(0,b.jsx)(j.Card,{className:"shadow-none",children:(0,b.jsxs)(j.CardContent,{className:"pt-5",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"Print"}),(0,b.jsx)("div",{className:"mt-2 text-sm text-zinc-600",children:"Printable estimate views are implemented in later phases."})]})})}},`${B.id}:${w}`):null]})}a.s(["default",()=>r])}];

//# sourceMappingURL=frontend_069a7970._.js.map