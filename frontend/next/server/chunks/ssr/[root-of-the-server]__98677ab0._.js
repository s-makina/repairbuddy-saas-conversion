module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},1395,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactServerDOMTurbopackClient},75385,a=>{"use strict";var b=a.i(57850),c=a.i(7160);function d({variant:a,className:d}){let e="h-4 w-4 shrink-0";return"success"===a?(0,b.jsx)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M20 6L9 17l-5-5"})}):"warning"===a?(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M12 9v4"}),(0,b.jsx)("path",{d:"M12 17h.01"}),(0,b.jsx)("path",{d:"M10.3 3.6l-8.3 14.3A2 2 0 0 0 3.7 21h16.6a2 2 0 0 0 1.7-3.1L13.7 3.6a2 2 0 0 0-3.4 0z"})]}):"danger"===a?(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M18 6L6 18"}),(0,b.jsx)("path",{d:"M6 6l12 12"})]}):(0,b.jsxs)("svg",{viewBox:"0 0 24 24",className:(0,c.cn)(e,d),fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,b.jsx)("path",{d:"M12 16v-4"}),(0,b.jsx)("path",{d:"M12 8h.01"}),(0,b.jsx)("path",{d:"M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10z"})]})}function e({className:a,variant:e="info",title:f,children:g,...h}){let i={info:{wrapper:"border-[color:color-mix(in_srgb,var(--rb-blue),white_75%)] bg-[color:color-mix(in_srgb,var(--rb-blue),white_92%)] text-[var(--rb-text)]",icon:"text-[var(--rb-blue)]",title:"text-[var(--rb-blue)]"},success:{wrapper:"border-[color:color-mix(in_srgb,#16a34a,white_75%)] bg-[color:color-mix(in_srgb,#16a34a,white_92%)] text-[var(--rb-text)]",icon:"text-[#166534]",title:"text-[#166534]"},warning:{wrapper:"border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)] bg-[color:color-mix(in_srgb,var(--rb-orange),white_92%)] text-[var(--rb-text)]",icon:"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]",title:"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]"},danger:{wrapper:"border-[color:color-mix(in_srgb,#dc2626,white_75%)] bg-[color:color-mix(in_srgb,#dc2626,white_92%)] text-[var(--rb-text)]",icon:"text-[#991b1b]",title:"text-[#991b1b]"}}[e];return(0,b.jsx)("div",{role:"alert",className:(0,c.cn)("rounded-[var(--rb-radius-md)] border px-4 py-3",i.wrapper,a),...h,children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(d,{variant:e,className:(0,c.cn)("mt-0.5",i.icon)}),(0,b.jsxs)("div",{className:"min-w-0",children:[f?(0,b.jsx)("div",{className:(0,c.cn)("text-sm font-semibold",i.title),children:f}):null,g?(0,b.jsx)("div",{className:(0,c.cn)("text-sm text-zinc-700",f?"mt-1":""),children:g}):null]})]})})}a.s(["Alert",()=>e])},17933,a=>{"use strict";var b=a.i(57850),c=a.i(7160);function d({className:a,variant:d="default",...e}){return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium",{default:"bg-[var(--rb-surface-muted)] text-[var(--rb-text)] border-[var(--rb-border)]",info:"bg-[color:color-mix(in_srgb,var(--rb-blue),white_85%)] text-[var(--rb-blue)] border-[color:color-mix(in_srgb,var(--rb-blue),white_70%)]",success:"bg-[color:color-mix(in_srgb,#16a34a,white_85%)] text-[#166534] border-[color:color-mix(in_srgb,#16a34a,white_70%)]",warning:"bg-[color:color-mix(in_srgb,var(--rb-orange),white_85%)] text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)] border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)]",danger:"bg-[color:color-mix(in_srgb,#dc2626,white_85%)] text-[#991b1b] border-[color:color-mix(in_srgb,#dc2626,white_70%)]"}[d],a),...e})}a.s(["Badge",()=>d])},7160,a=>{"use strict";function b(...a){return a.filter(Boolean).join(" ")}a.s(["cn",()=>b])},87973,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},97867,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(7160);function e({className:a,variant:e="primary",size:f="md",asChild:g=!1,type:h="button",disabled:i,onClick:j,children:k,...l}){let m=(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-[var(--rb-radius-sm)] text-sm font-medium transition-colors disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--rb-orange)] focus-visible:ring-offset-2 focus-visible:ring-offset-white",{sm:"h-8 px-3",md:"h-10 px-4",lg:"h-11 px-5"}[f],{primary:"bg-[var(--rb-blue)] text-white hover:opacity-90",secondary:"bg-[var(--rb-orange)] text-white hover:opacity-90",outline:"border border-[var(--rb-border)] bg-white text-[var(--rb-text)] hover:bg-[var(--rb-surface-muted)]",ghost:"bg-transparent text-[var(--rb-text)] hover:bg-[var(--rb-surface-muted)]"}[e],i?"pointer-events-none opacity-50":"",a);if(g){let a=c.default.Children.only(k);return c.default.isValidElement(a)?c.default.cloneElement(a,{className:(0,d.cn)(m,a.props?.className),"aria-disabled":!!i||void 0,tabIndex:i?-1:a.props?.tabIndex,onClick:b=>{if(i){b.preventDefault(),b.stopPropagation();return}j?.(b),a.props?.onClick?.(b)}}):null}return(0,b.jsx)("button",{className:m,type:h,disabled:i,onClick:j,...l,children:k})}a.s(["Button",()=>e])},39693,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(45056);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},77038,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},74601,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getDeploymentId:function(){return f},getDeploymentIdQueryOrEmptyString:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(){return!1}function g(){return""}},54260,a=>{"use strict";var b=a.i(57850),c=a.i(70579);function d({label:a="Loading",fullscreen:d=!0}){return(0,b.jsx)("div",{className:d?"min-h-screen flex items-center justify-center bg-[var(--rb-surface-muted)]":"flex items-center justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsx)(c.default,{alt:"99smartx",src:"/brand/repair-buddy-logo.png",width:160,height:42,priority:!0}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-6 w-6 rounded-full border-2 border-[var(--rb-border)] border-t-[var(--rb-orange)] animate-spin","aria-hidden":"true"}),(0,b.jsxs)("div",{className:"text-sm font-medium text-[var(--rb-text)]",children:[a,"..."]})]})]})})}a.s(["Preloader",()=>d])},67233,a=>{"use strict";var b=a.i(34075);let c={};async function d(a){let d=c[a];if(d)return d;let e=(0,b.apiFetch)(`/api/${a}/app/gate`).finally(()=>{delete c[a]});return c[a]=e,e}function e(a,b){let c=!!b.setup_completed_at;return"suspended"===b.tenant_status||"suspended"===b.subscription_status?`/${a}/suspended`:"none"===b.subscription_status?`/${a}/plans`:"pending_checkout"===b.subscription_status?`/${a}/checkout`:["trialing","active","past_due"].includes(b.subscription_status)&&!c?`/${a}/setup`:`/app/${a}`}a.s(["computeGateRedirect",()=>e,"getGate",()=>d])},91601,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(75458),f=a.i(54260),g=a.i(67233),h=a.i(34075);function i({children:a,adminOnly:i=!1,requiredPermission:j}){let k=(0,e.useAuth)(),l=(0,d.useRouter)(),m=(0,d.usePathname)(),n="/set-password",o=m===n||m.startsWith(`${n}/`),p=k.tenant?.slug??null,q=p?`/${p}/setup`:null,r=!!q&&(m===q||m.startsWith(`${q}/`)),s=p?`/app/${p}/branches/select`:null,t=!!s&&(m===s||m.startsWith(`${s}/`));return((0,c.useEffect)(()=>{if(!k.loading){if(!k.isAuthenticated)return void l.replace(`/login?next=${encodeURIComponent(m)}`);if(k.user?.must_change_password&&!o)return void l.replace(`${n}?next=${encodeURIComponent(m)}`);if(k.user&&!k.user.email_verified_at)return void l.replace(`/verify-email?email=${encodeURIComponent(k.user.email)}`);if(i&&!k.isAdmin||j&&!k.can(j))return void l.replace("/app");!k.isAdmin&&p&&(0,h.apiFetch)(`/api/${p}/app/security-status`).then(({mfa:a})=>{let b=m===`/app/${p}/security`||m.startsWith(`/app/${p}/security/`);return!a.enforced||a.compliant||b?(0,g.getGate)(p).then(({gate:a})=>{let b=(0,g.computeGateRedirect)(p,a),c=m===`/${p}/plans`||m.startsWith(`/${p}/plans/`),d=m===`/${p}/checkout`||m.startsWith(`/${p}/checkout/`),e=m===`/${p}/suspended`||m.startsWith(`/${p}/suspended/`),f=m===`/app/${p}`||m.startsWith(`/app/${p}/`),h=b===`/${p}/checkout`&&c;b===`/${p}/plans`&&c||b===`/${p}/checkout`&&d||b===`/${p}/suspended`&&e||b===`/${p}/setup`&&r||b===`/app/${p}`&&f||h||l.replace(b)}):void l.replace(`/app/${p}/security`)}).catch(a=>{if(a instanceof h.ApiError&&428===a.status){if("password_change_required"===(a.data&&"object"==typeof a.data&&"code"in a.data?String(a.data.code):null)){o||l.replace(`${n}?next=${encodeURIComponent(m)}`);return}!t&&s&&l.replace(`${s}?next=${encodeURIComponent(m)}`);return}a instanceof h.ApiError&&403===a.status||k.tenant?.setup_completed_at||r||l.replace(q??"/app")})}},[i,k,s,t,r,m,j,l,q,p]),k.loading)?(0,b.jsx)(f.Preloader,{}):k.isAuthenticated&&(!k.user||k.user.email_verified_at)&&(!i||k.isAdmin)&&(!j||k.can(j))?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["RequireAuth",()=>i])},39159,a=>{"use strict";var b=a.i(57850),c=a.i(7160);function d({className:a,children:d,...e}){return(0,b.jsx)("select",{className:(0,c.cn)("w-full appearance-none rounded-[var(--rb-radius-sm)] border border-zinc-300 bg-white px-3 py-2 text-sm text-[var(--rb-text)] outline-none transition","focus-visible:ring-2 focus-visible:ring-[color:color-mix(in_srgb,var(--rb-orange),white_65%)] focus-visible:ring-offset-2 focus-visible:ring-offset-white","disabled:cursor-not-allowed disabled:bg-[var(--rb-surface-muted)] disabled:opacity-70","bg-[right_0.75rem_center] bg-no-repeat pr-10",'[background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%236b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>\')]',a),...e,children:d})}a.s(["Select",()=>d])},82375,a=>{"use strict";var b=a.i(34075);async function c(a){return(0,b.apiFetch)(`/api/${a}/app/billing/plans`)}async function d(a,c){return(0,b.apiFetch)(`/api/${a}/app/billing/subscribe`,{method:"POST",body:{billing_price_id:c.billing_price_id}})}async function e(a){return(0,b.apiFetch)(`/api/${a}/app/billing/checkout`)}a.s(["getCheckoutSnapshot",()=>e,"getTenantBillingPlans",()=>c,"subscribeToPlan",()=>d])},51475,a=>{"use strict";var b=a.i(57850),c=a.i(97867);function d({plan:a,version:d,selectedPrice:e,currency:f,interval:g,recommended:h,priceLabel:i,intervalLabel:j,visibleEntitlements:k,submitting:l,onSelect:m,actionLabel:n}){return(0,b.jsxs)("div",{className:"relative flex h-full min-h-[420px] flex-col overflow-hidden rounded-[var(--rb-radius-xl)] border bg-white p-5 shadow-[var(--rb-shadow)] "+(h?"border-[color:color-mix(in_srgb,var(--rb-orange),white_45%)] ring-2 ring-[color:color-mix(in_srgb,var(--rb-orange),white_70%)]":"border-[var(--rb-border)]"),children:[h?(0,b.jsx)("div",{className:"absolute right-4 top-4 rounded-full bg-[color:color-mix(in_srgb,var(--rb-orange),white_20%)] px-2.5 py-1 text-[11px] font-semibold text-white",children:"Recommended"}):null,(0,b.jsx)("div",{className:"text-base font-semibold text-[var(--rb-text)]",children:a.name}),a.description?(0,b.jsx)("div",{className:"mt-1 text-sm text-zinc-600",children:a.description}):null,(0,b.jsx)("div",{className:"mt-4 flex items-end justify-between gap-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-3xl font-semibold tracking-tight text-[var(--rb-text)]",children:i}),(0,b.jsx)("div",{className:"mt-1 text-xs text-zinc-600",children:e?`per ${j.toLowerCase()}`:`Unavailable for ${f} / ${g}`})]})}),k.length>0?(0,b.jsxs)("div",{className:"mt-4 flex min-h-0 flex-1 flex-col",children:[(0,b.jsx)("div",{className:"text-xs font-medium text-zinc-600",children:"What’s included"}),(0,b.jsx)("div",{className:"mt-2 min-h-0 overflow-y-auto pr-1 [scrollbar-width:thin]",children:(0,b.jsx)("div",{className:"grid gap-2",children:k.map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-2 text-sm text-[var(--rb-text)]",children:[(0,b.jsx)("svg",{viewBox:"0 0 24 24",className:"mt-0.5 h-4 w-4 shrink-0 text-[var(--rb-orange)]",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M20 6L9 17l-5-5"})}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-1 items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"truncate",children:a.definition?.name}),a.definition?.description?(0,b.jsx)("div",{className:"mt-0.5 text-xs text-zinc-600",children:a.definition.description}):null]}),"integer"===String(a.definition?.value_type??"")&&"number"==typeof a.value_json?(0,b.jsx)("div",{className:"shrink-0 rounded-full border border-[var(--rb-border)] bg-[var(--rb-surface-muted)] px-2 py-0.5 text-xs font-semibold text-[var(--rb-text)]",children:Math.trunc(a.value_json)}):null]})]},a.id))})})]}):(0,b.jsx)("div",{className:"mt-4 flex-1 text-sm text-zinc-600",children:"Everything you need to get started."}),(0,b.jsx)("div",{className:"mt-5 pt-2",children:(0,b.jsx)(c.Button,{variant:h?"secondary":"primary",className:"w-full",disabled:!m||l||!e,onClick:()=>{m&&m()},children:e?n:"Unavailable"})})]})}a.s(["BillingPlanCard",()=>d])},38561,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(59843),e=a.i(91601),f=a.i(93609),g=a.i(97867),h=a.i(17933),i=a.i(75385),j=a.i(39159),k=a.i(54260),l=a.i(51475),m=a.i(34075),n=a.i(82375),o=a.i(67233);function p(){let a=(0,f.useParams)().business??"",p=(0,f.useRouter)(),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)("USD"),[A,B]=(0,c.useState)("month");(0,c.useEffect)(()=>{let b=!0;if(a)return r(!0),v(null),(0,n.getTenantBillingPlans)(a).then(a=>{b&&t(Array.isArray(a.billing_plans)?a.billing_plans:[])}).catch(a=>{b&&(a instanceof m.ApiError?v(a.message):v(a instanceof Error?a.message:"Failed to load plans."))}).finally(()=>{b&&r(!1)}),()=>{b=!1}},[a]);let C=a=>a.trim().toUpperCase(),D=(0,c.useMemo)(()=>{let a=[];for(let b of s){let c=(Array.isArray(b.versions)?b.versions:[]).filter(a=>"active"===a.status).sort((a,b)=>(b.version??0)-(a.version??0))[0];c&&a.push({plan:b,version:c})}return a},[s]),E=(0,c.useMemo)(()=>{let a=[];for(let{plan:b,version:c}of D)for(let d of Array.isArray(c.prices)?c.prices:[])a.push({plan:b,version:c,price:d});return a},[D]),F=(0,c.useMemo)(()=>{let a=new Set;for(let b of E)b.price.currency&&a.add(String(b.price.currency).toUpperCase());return Array.from(a).sort()},[E]),G=(0,c.useMemo)(()=>{let a=new Set;for(let b of E)b.price.interval&&a.add(String(b.price.interval));return Array.from(a).sort()},[E]);(0,c.useEffect)(()=>{!q&&(F.length>0&&z(a=>{let b=C(a||"");return F.includes(b)?b:F[0]}),G.length>0&&B(a=>G.includes(a)?a:G[0]))},[F,G,q]);let H=(a,b)=>{let c=(Array.isArray(a.prices)?a.prices:[]).find(a=>a.interval===b),d=c?.interval_model?.name;return d||("month"===b?"Monthly":"year"===b?"Yearly":b)},I=a=>{let b=Array.isArray(a.prices)?a.prices:[],c=C(y),d=b.filter(a=>C(a.currency)===c&&a.interval===A),e=d.find(a=>a.is_default)??d[0];if(e)return e;let f=b.filter(a=>C(a.currency)===c);return f.find(a=>a.is_default)??f[0]??b.find(a=>a.is_default)??b[0]??null},J=async(b,c)=>{if(a){x(!0),v(null);try{let d=await (0,n.subscribeToPlan)(a,{billing_price_id:b});c?.startTrial?p.replace((0,o.computeGateRedirect)(a,d.gate)):p.replace(`/${a}/checkout`)}catch(a){a instanceof m.ApiError?v(a.message):v(a instanceof Error?a.message:"Failed to select plan.")}finally{x(!1)}}};return(0,b.jsx)(e.RequireAuth,{children:q?(0,b.jsx)(k.Preloader,{label:"Loading plans"}):(0,b.jsxs)("div",{className:"min-h-screen text-[var(--rb-text)] [background:radial-gradient(1200px_circle_at_20%_0%,color-mix(in_srgb,var(--rb-blue),white_88%)_0%,transparent_55%),radial-gradient(900px_circle_at_80%_15%,color-mix(in_srgb,var(--rb-orange),white_86%)_0%,transparent_60%),var(--rb-surface)]",children:[(0,b.jsx)("header",{className:"sticky top-0 z-20 border-b border-[var(--rb-border)] bg-white/70 backdrop-blur",children:(0,b.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d.default,{href:"/",className:"font-semibold tracking-tight text-[var(--rb-text)]",children:"99smartx"}),(0,b.jsx)(h.Badge,{variant:"info",className:"hidden sm:inline-flex",children:"Plans"})]}),(0,b.jsxs)("nav",{className:"hidden items-center gap-6 text-sm text-zinc-600 md:flex",children:[(0,b.jsx)(d.default,{href:"/#features",className:"hover:text-[var(--rb-text)]",children:"Features"}),(0,b.jsx)(d.default,{href:"/#pricing",className:"hover:text-[var(--rb-text)]",children:"Pricing"}),(0,b.jsx)(d.default,{href:"/#faq",className:"hover:text-[var(--rb-text)]",children:"FAQ"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(g.Button,{variant:"outline",disabled:!a||w,onClick:()=>p.replace(`/app/${a}`),children:"Back"})})]})}),(0,b.jsx)("main",{children:(0,b.jsxs)("section",{className:"mx-auto w-full max-w-6xl px-4 py-10",children:[(0,b.jsx)("div",{className:"grid gap-6",children:(0,b.jsx)("div",{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xl font-semibold tracking-tight text-[var(--rb-text)]",children:"Pricing"}),(0,b.jsx)("div",{className:"mt-1 text-sm text-zinc-600",children:"Start with a trial, upgrade anytime. Your plan can be changed later."})]}),(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-3 sm:mt-0",children:[(0,b.jsxs)("div",{className:"min-w-[160px]",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-zinc-600",children:"Billing interval"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsxs)(j.Select,{value:A,onChange:a=>B(a.target.value),disabled:w,children:[0===G.length?(0,b.jsx)("option",{value:"month",children:"Monthly"}):null,G.map(a=>(0,b.jsx)("option",{value:a,children:H(D[0]?.version??{},a)},a))]})})]}),(0,b.jsxs)("div",{className:"min-w-[140px]",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-zinc-600",children:"Currency"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsxs)(j.Select,{value:y,onChange:a=>z(a.target.value),disabled:w,children:[0===F.length?(0,b.jsx)("option",{value:"USD",children:"USD"}):null,F.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})})]})]})]}),u?(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)(i.Alert,{variant:"danger",title:"Plan selection error",children:u})}):null,(0,b.jsxs)("div",{className:"mt-6 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[0===D.length?(0,b.jsx)("div",{className:"md:col-span-2 xl:col-span-3",children:(0,b.jsxs)("div",{className:"rounded-[var(--rb-radius-lg)] border border-dashed border-[var(--rb-border)] bg-[var(--rb-surface-muted)] p-8 text-center",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-[var(--rb-text)]",children:"No plans available"}),(0,b.jsx)("div",{className:"mt-1 text-sm text-zinc-600",children:"Ask your admin to configure billing plans."})]})}):null,D.map(({plan:a,version:c})=>{let d=I(c),e="number"==typeof d?.trial_days?d.trial_days:0,f=(a=>{if(!a)return!1;let b=D.map(({version:a})=>I(a)).filter(a=>!!a).map(a=>a.amount_cents).sort((a,b)=>a-b);if(b.length<2)return!1;let c=b[Math.floor(b.length/2)];return a.amount_cents===c})(d),g=(Array.isArray(c.entitlements)?c.entitlements:[]).filter(a=>a.definition?.name),h=!!d&&!w,i=d?((a,b)=>{let c=("number"==typeof a?a:0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:b,maximumFractionDigits:2}).format(c)}catch{return`${b} ${c.toFixed(2)}`}})(d.amount_cents,C(d.currency)):"Not available";return(0,b.jsx)(l.BillingPlanCard,{plan:a,version:c,selectedPrice:d,currency:y,interval:A,recommended:f,priceLabel:i,intervalLabel:d?H(c,d.interval):A,visibleEntitlements:g,submitting:w,onSelect:d&&h?()=>{J(d.id,{startTrial:e>0})}:null,actionLabel:d?e>0?"Start trial":"Continue":"Unavailable"},a.id)})]})]})})}),(0,b.jsx)("footer",{className:"mt-12 border-t border-[var(--rb-border)] pt-8 text-xs text-zinc-600",children:(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:["© ",new Date().getFullYear()," 99smartx"]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/login",className:"hover:text-[var(--rb-text)]",children:"Login"}),(0,b.jsx)(d.default,{href:"/register",className:"hover:text-[var(--rb-text)]",children:"Register"})]})]})})]})})]})})}a.s(["default",()=>p])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__98677ab0._.js.map