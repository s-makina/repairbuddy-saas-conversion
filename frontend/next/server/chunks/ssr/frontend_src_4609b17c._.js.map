{"version":3,"sources":["../../../../../frontend/src/components/ui/Alert.tsx","../../../../../frontend/src/components/ui/Badge.tsx","../../../../../frontend/src/components/ui/PageHeader.tsx","../../../../../frontend/src/components/ui/Skeleton.tsx","../../../../../frontend/src/components/ui/Tabs.tsx","../../../../../frontend/src/components/shells/DetailPageShell.tsx","../../../../../frontend/src/app/app/%5Btenant%5D/clients/%5BclientId%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport type AlertVariant = \"info\" | \"success\" | \"warning\" | \"danger\";\r\n\r\nfunction AlertIcon({ variant, className }: { variant: AlertVariant; className?: string }) {\r\n  const common = \"h-4 w-4 shrink-0\";\r\n\r\n  if (variant === \"success\") {\r\n    return (\r\n      <svg viewBox=\"0 0 24 24\" className={cn(common, className)} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n        <path d=\"M20 6L9 17l-5-5\" />\r\n      </svg>\r\n    );\r\n  }\r\n\r\n  if (variant === \"warning\") {\r\n    return (\r\n      <svg viewBox=\"0 0 24 24\" className={cn(common, className)} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n        <path d=\"M12 9v4\" />\r\n        <path d=\"M12 17h.01\" />\r\n        <path d=\"M10.3 3.6l-8.3 14.3A2 2 0 0 0 3.7 21h16.6a2 2 0 0 0 1.7-3.1L13.7 3.6a2 2 0 0 0-3.4 0z\" />\r\n      </svg>\r\n    );\r\n  }\r\n\r\n  if (variant === \"danger\") {\r\n    return (\r\n      <svg viewBox=\"0 0 24 24\" className={cn(common, className)} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n        <path d=\"M18 6L6 18\" />\r\n        <path d=\"M6 6l12 12\" />\r\n      </svg>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 24 24\" className={cn(common, className)} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" aria-hidden=\"true\">\r\n      <path d=\"M12 16v-4\" />\r\n      <path d=\"M12 8h.01\" />\r\n      <path d=\"M12 22a10 10 0 1 0-10-10 10 10 0 0 0 10 10z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function Alert({\r\n  className,\r\n  variant = \"info\",\r\n  title,\r\n  children,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement> & {\r\n  variant?: AlertVariant;\r\n  title?: string;\r\n}) {\r\n  const variants: Record<AlertVariant, { wrapper: string; icon: string; title: string }> = {\r\n    info: {\r\n      wrapper:\r\n        \"border-[color:color-mix(in_srgb,var(--rb-blue),white_75%)] bg-[color:color-mix(in_srgb,var(--rb-blue),white_92%)] text-[var(--rb-text)]\",\r\n      icon: \"text-[var(--rb-blue)]\",\r\n      title: \"text-[var(--rb-blue)]\",\r\n    },\r\n    success: {\r\n      wrapper: \"border-[color:color-mix(in_srgb,#16a34a,white_75%)] bg-[color:color-mix(in_srgb,#16a34a,white_92%)] text-[var(--rb-text)]\",\r\n      icon: \"text-[#166534]\",\r\n      title: \"text-[#166534]\",\r\n    },\r\n    warning: {\r\n      wrapper:\r\n        \"border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)] bg-[color:color-mix(in_srgb,var(--rb-orange),white_92%)] text-[var(--rb-text)]\",\r\n      icon: \"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]\",\r\n      title: \"text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)]\",\r\n    },\r\n    danger: {\r\n      wrapper: \"border-[color:color-mix(in_srgb,#dc2626,white_75%)] bg-[color:color-mix(in_srgb,#dc2626,white_92%)] text-[var(--rb-text)]\",\r\n      icon: \"text-[#991b1b]\",\r\n      title: \"text-[#991b1b]\",\r\n    },\r\n  };\r\n\r\n  const v = variants[variant];\r\n\r\n  return (\r\n    <div\r\n      role=\"alert\"\r\n      className={cn(\"rounded-[var(--rb-radius-md)] border px-4 py-3\", v.wrapper, className)}\r\n      {...props}\r\n    >\r\n      <div className=\"flex gap-3\">\r\n        <AlertIcon variant={variant} className={cn(\"mt-0.5\", v.icon)} />\r\n        <div className=\"min-w-0\">\r\n          {title ? <div className={cn(\"text-sm font-semibold\", v.title)}>{title}</div> : null}\r\n          {children ? <div className={cn(\"text-sm text-zinc-700\", title ? \"mt-1\" : \"\")}>\r\n            {children}\r\n          </div> : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport type BadgeVariant = \"default\" | \"info\" | \"success\" | \"warning\" | \"danger\";\r\n\r\nexport function Badge({\r\n  className,\r\n  variant = \"default\",\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement> & { variant?: BadgeVariant }) {\r\n  const variants: Record<BadgeVariant, string> = {\r\n    default: \"bg-[var(--rb-surface-muted)] text-[var(--rb-text)] border-[var(--rb-border)]\",\r\n    info: \"bg-[color:color-mix(in_srgb,var(--rb-blue),white_85%)] text-[var(--rb-blue)] border-[color:color-mix(in_srgb,var(--rb-blue),white_70%)]\",\r\n    success: \"bg-[color:color-mix(in_srgb,#16a34a,white_85%)] text-[#166534] border-[color:color-mix(in_srgb,#16a34a,white_70%)]\",\r\n    warning: \"bg-[color:color-mix(in_srgb,var(--rb-orange),white_85%)] text-[color:color-mix(in_srgb,var(--rb-orange),black_20%)] border-[color:color-mix(in_srgb,var(--rb-orange),white_70%)]\",\r\n    danger: \"bg-[color:color-mix(in_srgb,#dc2626,white_85%)] text-[#991b1b] border-[color:color-mix(in_srgb,#dc2626,white_70%)]\",\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium\",\r\n        variants[variant],\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\nexport function PageHeader({\r\n  title,\r\n  description,\r\n  actions,\r\n  className,\r\n}: {\r\n  title: string;\r\n  description?: string;\r\n  actions?: React.ReactNode;\r\n  className?: string;\r\n}) {\r\n  return (\r\n    <div className={cn(\"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between\", className)}>\r\n      <div>\r\n        <h1 className=\"text-xl font-semibold text-[var(--rb-text)]\">{title}</h1>\r\n        {description ? <p className=\"mt-1 text-sm text-zinc-600\">{description}</p> : null}\r\n      </div>\r\n      {actions ? <div className=\"flex items-center gap-2\">{actions}</div> : null}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\nimport { Card, CardContent } from \"@/components/ui/Card\";\r\n\r\ntype SkeletonProps = React.HTMLAttributes<HTMLDivElement> & {\r\n  \"aria-hidden\"?: boolean;\r\n};\r\n\r\nexport function Skeleton({ className, \"aria-hidden\": ariaHidden = true, ...props }: SkeletonProps) {\r\n  return <div aria-hidden={ariaHidden} className={cn(\"rb-skeleton\", className)} {...props} />;\r\n}\r\n\r\nexport function CardSkeleton({\r\n  lines = 3,\r\n  className,\r\n}: {\r\n  lines?: number;\r\n  className?: string;\r\n}) {\r\n  const safeLines = Math.max(1, Math.min(lines, 12));\r\n\r\n  return (\r\n    <Card className={cn(\"overflow-hidden\", className)}>\r\n      <CardContent className=\"space-y-3 pt-5\">\r\n        <Skeleton className=\"h-4 w-32 rounded-[var(--rb-radius-sm)]\" />\r\n        {Array.from({ length: safeLines }).map((_, idx) => (\r\n          <Skeleton\r\n            key={idx}\r\n            className={cn(\r\n              \"h-3 rounded-[var(--rb-radius-sm)]\",\r\n              idx === safeLines - 1 ? \"w-3/5\" : \"w-full\",\r\n            )}\r\n          />\r\n        ))}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport function TableSkeleton({\r\n  rows = 6,\r\n  columns = 5,\r\n  className,\r\n}: {\r\n  rows?: number;\r\n  columns?: number;\r\n  className?: string;\r\n}) {\r\n  const safeRows = Math.max(1, Math.min(rows, 20));\r\n  const safeCols = Math.max(1, Math.min(columns, 10));\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"overflow-hidden rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-white shadow-[var(--rb-shadow)]\",\r\n        className,\r\n      )}\r\n    >\r\n      <div className=\"border-b border-[var(--rb-border)] px-5 py-4\">\r\n        <div className=\"grid gap-3\" style={{ gridTemplateColumns: `repeat(${safeCols}, minmax(0, 1fr))` }}>\r\n          {Array.from({ length: safeCols }).map((_, idx) => (\r\n            <Skeleton key={idx} className=\"h-3 w-full rounded-[var(--rb-radius-sm)]\" />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"px-5 pb-5 pt-4\">\r\n        <div className=\"space-y-3\">\r\n          {Array.from({ length: safeRows }).map((_, rowIdx) => (\r\n            <div\r\n              key={rowIdx}\r\n              className=\"grid gap-3\"\r\n              style={{ gridTemplateColumns: `repeat(${safeCols}, minmax(0, 1fr))` }}\r\n            >\r\n              {Array.from({ length: safeCols }).map((_, colIdx) => (\r\n                <Skeleton\r\n                  key={colIdx}\r\n                  className={cn(\r\n                    \"h-3 rounded-[var(--rb-radius-sm)]\",\r\n                    colIdx === 0 ? \"w-3/4\" : \"w-full\",\r\n                  )}\r\n                />\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React, { createContext, useCallback, useContext, useId, useMemo, useState } from \"react\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\ntype TabsContextValue = {\r\n  value: string;\r\n  setValue: (next: string) => void;\r\n  baseId: string;\r\n};\r\n\r\nconst TabsContext = createContext<TabsContextValue | null>(null);\r\n\r\nfunction useTabsContext() {\r\n  const ctx = useContext(TabsContext);\r\n  if (!ctx) throw new Error(\"Tabs components must be used within <Tabs />\");\r\n  return ctx;\r\n}\r\n\r\nexport function Tabs({\r\n  value,\r\n  defaultValue,\r\n  onValueChange,\r\n  className,\r\n  children,\r\n}: {\r\n  value?: string;\r\n  defaultValue?: string;\r\n  onValueChange?: (next: string) => void;\r\n  className?: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  const baseId = useId();\r\n  const [internal, setInternal] = useState<string>(defaultValue ?? \"\");\r\n\r\n  const current = typeof value === \"string\" ? value : internal;\r\n\r\n  const setValue = useCallback(\r\n    (next: string) => {\r\n      if (!next) return;\r\n      if (onValueChange) onValueChange(next);\r\n      if (typeof value !== \"string\") setInternal(next);\r\n    },\r\n    [onValueChange, value],\r\n  );\r\n\r\n  const ctx = useMemo<TabsContextValue>(() => ({ value: current, setValue, baseId }), [baseId, current, setValue]);\r\n\r\n  return (\r\n    <TabsContext.Provider value={ctx}>\r\n      <div className={cn(\"space-y-4\", className)}>{children}</div>\r\n    </TabsContext.Provider>\r\n  );\r\n}\r\n\r\nexport function TabsList({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"inline-flex items-center gap-1 rounded-[var(--rb-radius-lg)] border border-[var(--rb-border)] bg-white p-1 shadow-[var(--rb-shadow)]\",\r\n        className,\r\n      )}\r\n      role=\"tablist\"\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function TabsTrigger({\r\n  value,\r\n  className,\r\n  ...props\r\n}: React.ButtonHTMLAttributes<HTMLButtonElement> & { value: string }) {\r\n  const ctx = useTabsContext();\r\n  const selected = ctx.value === value;\r\n\r\n  const { onClick, ...rest } = props;\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      role=\"tab\"\r\n      aria-selected={selected}\r\n      aria-controls={`${ctx.baseId}-panel-${value}`}\r\n      id={`${ctx.baseId}-tab-${value}`}\r\n      onClick={(e) => {\r\n        ctx.setValue(value);\r\n        onClick?.(e);\r\n      }}\r\n      className={cn(\r\n        \"h-9 rounded-[var(--rb-radius-sm)] px-3 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--rb-orange)] focus-visible:ring-offset-2 focus-visible:ring-offset-white\",\r\n        selected ? \"bg-[var(--rb-surface-muted)] text-[var(--rb-text)]\" : \"text-zinc-600 hover:bg-[var(--rb-surface-muted)]\",\r\n        className,\r\n      )}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n\r\nexport function TabsContent({\r\n  value,\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement> & { value: string }) {\r\n  const ctx = useTabsContext();\r\n  const selected = ctx.value === value;\r\n\r\n  if (!selected) return null;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      id={`${ctx.baseId}-panel-${value}`}\r\n      aria-labelledby={`${ctx.baseId}-tab-${value}`}\r\n      className={cn(className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Link from \"next/link\";\r\nimport { cn } from \"@/lib/cn\";\r\nimport { PageHeader } from \"@/components/ui/PageHeader\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/Tabs\";\r\n\r\nexport type DetailTabKey = \"overview\" | \"devices\" | \"timeline\" | \"messages\" | \"financial\" | \"print\";\r\n\r\nexport function DetailPageShell({\r\n  breadcrumb,\r\n  backHref,\r\n  backLabel = \"Back\",\r\n  title,\r\n  description,\r\n  actions,\r\n  defaultTab = \"overview\",\r\n  tabs,\r\n  className,\r\n}: {\r\n  breadcrumb?: React.ReactNode;\r\n  backHref?: string;\r\n  backLabel?: string;\r\n  title: string;\r\n  description?: string;\r\n  actions?: React.ReactNode;\r\n  defaultTab?: DetailTabKey;\r\n  tabs: Partial<Record<DetailTabKey, React.ReactNode>>;\r\n  className?: string;\r\n}) {\r\n  return (\r\n    <div className={cn(\"space-y-0 space-x-2\", className)}>\r\n      <div className=\"space-y-2\">\r\n        {/* {breadcrumb ? <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">{breadcrumb}</div> : null} */}\r\n        {backHref ? (\r\n          <div>\r\n            <Link href={backHref} className=\"text-sm text-zinc-600 hover:text-[var(--rb-text)]\">\r\n              {backLabel}\r\n            </Link>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n\r\n      <PageHeader title={title} description={description} actions={actions} />\r\n\r\n      <Tabs defaultValue={defaultTab}>\r\n        <TabsList>\r\n          {tabs.overview !== undefined ? <TabsTrigger value=\"overview\">Overview</TabsTrigger> : null}\r\n          {tabs.devices !== undefined ? <TabsTrigger value=\"devices\">Devices</TabsTrigger> : null}\r\n          {tabs.timeline !== undefined ? <TabsTrigger value=\"timeline\">Timeline</TabsTrigger> : null}\r\n          {tabs.messages !== undefined ? <TabsTrigger value=\"messages\">Messages</TabsTrigger> : null}\r\n          {tabs.financial !== undefined ? <TabsTrigger value=\"financial\">Financial</TabsTrigger> : null}\r\n          {tabs.print !== undefined ? <TabsTrigger value=\"print\">Print</TabsTrigger> : null}\r\n        </TabsList>\r\n\r\n        {tabs.overview !== undefined ? <TabsContent value=\"overview\">{tabs.overview}</TabsContent> : null}\r\n        {tabs.devices !== undefined ? <TabsContent value=\"devices\">{tabs.devices}</TabsContent> : null}\r\n        {tabs.timeline !== undefined ? <TabsContent value=\"timeline\">{tabs.timeline}</TabsContent> : null}\r\n        {tabs.messages !== undefined ? <TabsContent value=\"messages\">{tabs.messages}</TabsContent> : null}\r\n        {tabs.financial !== undefined ? <TabsContent value=\"financial\">{tabs.financial}</TabsContent> : null}\r\n        {tabs.print !== undefined ? <TabsContent value=\"print\">{tabs.print}</TabsContent> : null}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { Alert } from \"@/components/ui/Alert\";\r\nimport { Badge } from \"@/components/ui/Badge\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/Card\";\r\nimport { DetailPageShell } from \"@/components/shells/DetailPageShell\";\r\nimport { CardSkeleton, Skeleton } from \"@/components/ui/Skeleton\";\r\nimport { apiFetch, ApiError } from \"@/lib/api\";\r\n\r\ntype ApiClient = {\r\n  id: number;\r\n  name: string;\r\n  email: string | null;\r\n  phone: string | null;\r\n  company: string | null;\r\n  tax_id: string | null;\r\n  address_line1: string | null;\r\n  address_line2: string | null;\r\n  address_city: string | null;\r\n  address_state: string | null;\r\n  address_postal_code: string | null;\r\n  address_country: string | null;\r\n  currency: string | null;\r\n  created_at: string;\r\n  jobs_count: number;\r\n};\r\n\r\ntype ApiClientJob = {\r\n  id: number;\r\n  case_number: string;\r\n  title: string;\r\n  status: string;\r\n  updated_at: string;\r\n};\r\n\r\nexport default function TenantClientDetailPage() {\r\n  const router = useRouter();\r\n  const params = useParams() as { tenant?: string; business?: string; clientId?: string };\r\n  const tenantSlug = params.business ?? params.tenant;\r\n  const clientId = params.clientId;\r\n\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  const [client, setClient] = React.useState<ApiClient | null>(null);\r\n  const [jobs, setJobs] = React.useState<ApiClientJob[]>([]);\r\n\r\n  React.useEffect(() => {\r\n    let alive = true;\r\n\r\n    async function load() {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        if (!clientId) {\r\n          setError(\"Client ID is missing.\");\r\n          setClient(null);\r\n          return;\r\n        }\r\n\r\n        if (typeof tenantSlug !== \"string\" || tenantSlug.length === 0) {\r\n          throw new Error(\"Business is missing.\");\r\n        }\r\n\r\n        const [clientRes, jobsRes] = await Promise.all([\r\n          apiFetch<{ client: ApiClient }>(`/api/${tenantSlug}/app/clients/${clientId}`),\r\n          apiFetch<{ jobs: ApiClientJob[] }>(`/api/${tenantSlug}/app/clients/${clientId}/jobs`),\r\n        ]);\r\n\r\n        if (!alive) return;\r\n\r\n        setClient(clientRes.client ?? null);\r\n        setJobs(Array.isArray(jobsRes.jobs) ? jobsRes.jobs : []);\r\n      } catch (e) {\r\n        if (!alive) return;\r\n\r\n        if (e instanceof ApiError && e.status === 428 && typeof tenantSlug === \"string\" && tenantSlug.length > 0) {\r\n          const next = `/app/${tenantSlug}/clients/${clientId}`;\r\n          router.replace(`/app/${tenantSlug}/branches/select?next=${encodeURIComponent(next)}`);\r\n          return;\r\n        }\r\n\r\n        setError(e instanceof Error ? e.message : \"Failed to load client.\");\r\n        setClient(null);\r\n      } finally {\r\n        if (!alive) return;\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    void load();\r\n\r\n    return () => {\r\n      alive = false;\r\n    };\r\n  }, [clientId, router, tenantSlug]);\r\n\r\n  const clientJobs = React.useMemo(() => {\r\n    return jobs.slice().sort((a, b) => (a.updated_at < b.updated_at ? 1 : -1));\r\n  }, [jobs]);\r\n\r\n  function getJobBadgeVariant(status: string): \"default\" | \"info\" | \"success\" | \"warning\" | \"danger\" {\r\n    const s = (status ?? \"\").toLowerCase();\r\n    if (s.includes(\"done\") || s.includes(\"complete\") || s.includes(\"closed\") || s.includes(\"paid\")) return \"success\";\r\n    if (s.includes(\"cancel\") || s.includes(\"failed\") || s.includes(\"declin\")) return \"danger\";\r\n    if (s.includes(\"hold\") || s.includes(\"await\") || s.includes(\"pending\") || s.includes(\"quote\")) return \"warning\";\r\n    if (s.includes(\"progress\") || s.includes(\"work\") || s.includes(\"repair\") || s.includes(\"open\")) return \"info\";\r\n    return \"default\";\r\n  }\r\n\r\n  const addressSummary = React.useMemo(() => {\r\n    if (!client) return \"—\";\r\n    const parts = [\r\n      client.address_line1,\r\n      client.address_line2,\r\n      [client.address_city, client.address_state].filter(Boolean).join(\", \"),\r\n      client.address_postal_code,\r\n      client.address_country,\r\n    ]\r\n      .map((p) => (typeof p === \"string\" ? p.trim() : \"\"))\r\n      .filter(Boolean);\r\n    return parts.length > 0 ? parts.join(\"\\n\") : \"—\";\r\n  }, [client]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {error ? (\r\n        <Alert variant=\"danger\" title=\"Could not load customer\">\r\n          {error}\r\n        </Alert>\r\n      ) : null}\r\n\r\n      {loading ? (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"space-y-2\">\r\n            <Skeleton className=\"h-4 w-48 rounded-[var(--rb-radius-sm)]\" />\r\n            <Skeleton className=\"h-9 w-72 rounded-[var(--rb-radius-sm)]\" />\r\n          </div>\r\n          <div className=\"grid gap-4 lg:grid-cols-3\">\r\n            <CardSkeleton lines={5} className=\"shadow-none\" />\r\n            <CardSkeleton lines={5} className=\"shadow-none\" />\r\n            <CardSkeleton lines={5} className=\"shadow-none\" />\r\n          </div>\r\n          <CardSkeleton lines={7} className=\"shadow-none\" />\r\n        </div>\r\n      ) : null}\r\n\r\n      {client && !loading ? (\r\n        <DetailPageShell\r\n          // breadcrumb={\r\n          //   <span>\r\n          //     <Link href={typeof tenantSlug === \"string\" ? `/app/${tenantSlug}/clients` : \"/app\"} className=\"hover:text-[var(--rb-text)]\">\r\n          //       Customers\r\n          //     </Link>\r\n          //     <span className=\"px-2\">/</span>\r\n          //     <span>{client.name}</span>\r\n          //   </span>\r\n          // }\r\n          // backHref={typeof tenantSlug === \"string\" ? `/app/${tenantSlug}/clients` : \"/app\"}\r\n          title={client.name}\r\n          description={client.email ?? client.phone ?? \"Customer details\"}\r\n          actions={\r\n            <div className=\"flex items-center gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  router.back();\r\n                }}\r\n              >\r\n                Back\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  if (typeof tenantSlug !== \"string\" || tenantSlug.length === 0) return;\r\n                  router.push(`/app/${tenantSlug}/clients/${client.id}/edit`);\r\n                }}\r\n              >\r\n                Edit\r\n              </Button>\r\n            </div>\r\n          }\r\n          tabs={{\r\n            overview: (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex flex-wrap items-center gap-2\">\r\n                  <Badge variant=\"info\">Customer</Badge>\r\n                  <Badge variant=\"default\">ID: {client.id}</Badge>\r\n                  <Badge variant={client.jobs_count > 0 ? \"info\" : \"default\"}>Jobs: {client.jobs_count ?? 0}</Badge>\r\n                </div>\r\n\r\n                <div className=\"grid gap-4 lg:grid-cols-3\">\r\n                  <Card className=\"shadow-none\">\r\n                    <CardHeader>\r\n                      <CardTitle>Contact</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-3\">\r\n                      <div>\r\n                        <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Email</div>\r\n                        {client.email ? (\r\n                          <a className=\"mt-1 block text-sm text-[var(--rb-blue)] hover:underline\" href={`mailto:${client.email}`}>\r\n                            {client.email}\r\n                          </a>\r\n                        ) : (\r\n                          <div className=\"mt-1 text-sm text-zinc-700\">—</div>\r\n                        )}\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Phone</div>\r\n                        {client.phone ? (\r\n                          <a className=\"mt-1 block text-sm text-[var(--rb-blue)] hover:underline\" href={`tel:${client.phone}`}>\r\n                            {client.phone}\r\n                          </a>\r\n                        ) : (\r\n                          <div className=\"mt-1 text-sm text-zinc-700\">—</div>\r\n                        )}\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n\r\n                  <Card className=\"shadow-none\">\r\n                    <CardHeader>\r\n                      <CardTitle>Company</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-3\">\r\n                      <div>\r\n                        <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Company name</div>\r\n                        <div className=\"mt-1 text-sm text-zinc-700\">{client.company ?? \"—\"}</div>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Tax ID</div>\r\n                        <div className=\"mt-1 text-sm text-zinc-700\">{client.tax_id ?? \"—\"}</div>\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n\r\n                  <Card className=\"shadow-none\">\r\n                    <CardHeader>\r\n                      <CardTitle>Meta</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-3\">\r\n                      <div>\r\n                        <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Created</div>\r\n                        <div className=\"mt-1 text-sm text-zinc-700\">{new Date(client.created_at).toLocaleString()}</div>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-xs font-semibold uppercase tracking-wider text-zinc-500\">Last update</div>\r\n                        <div className=\"mt-1 text-sm text-zinc-700\">{clientJobs[0]?.updated_at ? new Date(clientJobs[0].updated_at).toLocaleString() : \"—\"}</div>\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n                </div>\r\n\r\n                <Card className=\"shadow-none\">\r\n                  <CardHeader>\r\n                    <CardTitle>Address</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent>\r\n                    <div className=\"whitespace-pre-wrap text-sm text-zinc-700\">{addressSummary}</div>\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n            ),\r\n            timeline: (\r\n              <Card className=\"shadow-none\">\r\n                <CardHeader>\r\n                  <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n                    <CardTitle>Jobs</CardTitle>\r\n                    <div className=\"text-sm text-zinc-600\">{clientJobs.length} total</div>\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  {clientJobs.length === 0 ? <div className=\"text-sm text-zinc-600\">No jobs for this customer.</div> : null}\r\n\r\n                  <div className=\"mt-2 divide-y divide-[var(--rb-border)] rounded-[var(--rb-radius-md)] border border-[var(--rb-border)] bg-white\">\r\n                    {clientJobs.map((j) => (\r\n                      <div key={j.id} className=\"flex flex-col gap-3 p-4 sm:flex-row sm:items-center sm:justify-between\">\r\n                        <div className=\"min-w-0\">\r\n                          <div className=\"flex flex-wrap items-center gap-2\">\r\n                            <div className=\"truncate text-sm font-semibold text-[var(--rb-text)]\">{j.case_number}</div>\r\n                            {j.status ? <Badge variant={getJobBadgeVariant(j.status)}>{j.status}</Badge> : null}\r\n                          </div>\r\n                          <div className=\"mt-1 truncate text-sm text-zinc-600\">{j.title}</div>\r\n                          <div className=\"mt-2 text-xs text-zinc-500\">Updated: {new Date(j.updated_at).toLocaleString()}</div>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-end gap-2\">\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => {\r\n                              if (typeof tenantSlug !== \"string\" || tenantSlug.length === 0) return;\r\n                              router.push(`/app/${tenantSlug}/jobs/${j.id}`);\r\n                            }}\r\n                          >\r\n                            View\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ),\r\n            messages: (\r\n              <Card className=\"shadow-none\">\r\n                <CardHeader>\r\n                  <CardTitle>Devices</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"mt-4 space-y-3\">\r\n                    <div className=\"text-sm text-zinc-600\">Customer devices will appear here after EPIC 5 (devices + customer devices) is enabled.</div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ),\r\n            financial: (\r\n              <Card className=\"shadow-none\">\r\n                <CardHeader>\r\n                  <CardTitle>Financial</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"mt-2 text-sm text-zinc-600\">Customer-level financials are wired in later phases.</div>\r\n                </CardContent>\r\n              </Card>\r\n            ),\r\n            print: (\r\n              <Card className=\"shadow-none\">\r\n                <CardHeader>\r\n                  <CardTitle>Print</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"mt-2 text-sm text-zinc-600\">Printable customer summaries are implemented in later phases.</div>\r\n                </CardContent>\r\n              </Card>\r\n            ),\r\n          }}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}