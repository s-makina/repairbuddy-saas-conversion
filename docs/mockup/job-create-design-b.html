<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Design B — Single-Page Everything-Visible</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<style>
/* ───────────────────────────────────────────────
   Design B — Single-Page, All-at-Once
   No wizard/stepper. Everything is visible at once.
   Left: main form (scroll). Right: sticky sidebar.
   Concept: dense, efficient, power-user friendly.
   ─────────────────────────────────────────────── */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
    --brand: #0ea5e9;
    --brand-soft: #e0f2fe;
    --brand-dark: #0284c7;
    --success: #22c55e;
    --success-soft: #dcfce7;
    --danger: #ef4444;
    --danger-soft: #fef2f2;
    --warning: #f59e0b;
    --warning-soft: #fef3c7;
    --bg: #f8fafc;
    --card: #ffffff;
    --border: #e2e8f0;
    --text: #0f172a;
    --text-2: #475569;
    --text-3: #94a3b8;
    --radius: 12px;
    --radius-sm: 8px;
    --shadow: 0 1px 3px rgba(0,0,0,.06);
    --shadow-md: 0 4px 12px rgba(0,0,0,.07);
}

body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); line-height: 1.5; }

/* ── Top bar ── */
.top-bar {
    background: var(--card); border-bottom: 1px solid var(--border);
    padding: .75rem 2rem; display: flex; align-items: center; justify-content: space-between;
    position: sticky; top: 0; z-index: 100;
}
.top-bar .left { display: flex; align-items: center; gap: 1rem; }
.top-bar .left h1 { font-size: 1.15rem; font-weight: 800; }
.top-bar .left .breadcrumb { font-size: .78rem; color: var(--text-3); }
.top-bar .left .breadcrumb a { color: var(--brand); text-decoration: none; }
.top-bar .right { display: flex; gap: .5rem; }
.top-bar .btn { padding: .5rem 1.25rem; border-radius: var(--radius-sm); font-size: .84rem; font-weight: 600; cursor: pointer; border: none; transition: all .15s; display: inline-flex; align-items: center; gap: .4rem; }
.top-bar .btn-cancel { background: transparent; color: var(--text-2); border: 1px solid var(--border); }
.top-bar .btn-cancel:hover { background: var(--bg); }
.top-bar .btn-draft { background: var(--warning-soft); color: #92400e; }
.top-bar .btn-save { background: var(--brand); color: #fff; }
.top-bar .btn-save:hover { background: var(--brand-dark); }

/* ── Layout ── */
.page-layout {
    display: flex; gap: 1.5rem; max-width: 1400px; margin: 0 auto;
    padding: 1.5rem 2rem;
}
.main-col { flex: 1; min-width: 0; }
.side-col { width: 320px; flex-shrink: 0; }
.side-col .sticky { position: sticky; top: 5rem; }

/* ── Section ── */
.section {
    background: var(--card); border: 1px solid var(--border); border-radius: var(--radius);
    margin-bottom: 1rem; overflow: hidden; box-shadow: var(--shadow);
}
.section-head {
    display: flex; align-items: center; gap: .625rem; padding: .75rem 1rem;
    cursor: pointer; user-select: none; transition: background .12s;
}
.section-head:hover { background: var(--bg); }
.section-badge {
    width: 28px; height: 28px; border-radius: 8px; display: flex; align-items: center; justify-content: center;
    font-size: .88rem; flex-shrink: 0;
}
.section-head h3 { font-size: .92rem; font-weight: 700; flex: 1; }
.section-head .tag { font-size: .68rem; font-weight: 700; padding: .15rem .5rem; border-radius: 999px; }
.section-head .chevron { font-size: .75rem; color: var(--text-3); transition: transform .2s; }
.section-head.open .chevron { transform: rotate(180deg); }
.section-body { padding: 1rem 1.25rem; border-top: 1px solid var(--border); }

/* ── Fields ── */
.fg { margin-bottom: .875rem; }
.fg:last-child { margin-bottom: 0; }
.fg label { display: block; font-size: .72rem; font-weight: 600; color: var(--text-2); margin-bottom: .3rem; text-transform: uppercase; letter-spacing: .03em; }
.fg input, .fg select, .fg textarea {
    width: 100%; border: 1px solid var(--border); border-radius: var(--radius-sm);
    padding: .5rem .75rem; font-size: .86rem; color: var(--text); background: #fff; outline: none;
    transition: border-color .15s, box-shadow .15s;
}
.fg input:focus, .fg select:focus, .fg textarea:focus { border-color: var(--brand); box-shadow: 0 0 0 3px rgba(14,165,233,.12); }
.fg .hint { font-size: .7rem; color: var(--text-3); margin-top: .2rem; }

.row { display: flex; gap: .75rem; }
.c2 { flex: 1; }
.c3 { flex: 0 0 calc(33.333% - .5rem); }

/* ── Inline device list ── */
.dev-row {
    display: flex; align-items: center; gap: .625rem; padding: .5rem .625rem;
    border: 1px solid var(--border); border-radius: var(--radius-sm); background: var(--bg);
    margin-bottom: .375rem; font-size: .84rem;
}
.dev-row:hover { border-color: var(--brand); }
.dev-icon { width: 32px; height: 32px; border-radius: 8px; background: #dbeafe; color: #2563eb; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: .9rem; }
.dev-info { flex: 1; min-width: 0; }
.dev-info strong { font-size: .84rem; }
.dev-info span { font-size: .72rem; color: var(--text-3); display: block; }
.dev-rmv { width: 24px; height: 24px; border: none; background: none; color: var(--text-3); cursor: pointer; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
.dev-rmv:hover { background: var(--danger-soft); color: var(--danger); }

.btn-dashed {
    display: inline-flex; align-items: center; gap: .35rem; padding: .4rem .75rem;
    border: 2px dashed var(--border); border-radius: var(--radius-sm); background: none;
    color: var(--text-3); font-size: .78rem; font-weight: 600; cursor: pointer;
}
.btn-dashed:hover { border-color: var(--brand); color: var(--brand); background: var(--brand-soft); }

/* ── Category sections (inline, no tabs) ── */
.cat-strip {
    display: flex; align-items: center; gap: .5rem; padding: .5rem 0; margin-bottom: .5rem;
    border-bottom: 1px solid var(--border);
}
.cat-dot { width: 8px; height: 8px; border-radius: 50%; }
.cat-dot.part { background: #a78bfa; }
.cat-dot.service { background: #fbbf24; }
.cat-dot.other { background: #94a3b8; }
.cat-strip h5 { font-size: .82rem; font-weight: 700; flex: 1; }
.cat-strip .cat-total { font-size: .82rem; font-weight: 700; color: var(--brand); }

.il {
    display: grid; grid-template-columns: 1fr 60px 100px 70px 28px; gap: .5rem;
    align-items: center; padding: .4rem 0; border-bottom: 1px dotted #f1f5f9;
    font-size: .84rem;
}
.il:last-of-type { border-bottom: none; }
.il-name { font-weight: 600; }
.il-name small { font-weight: 400; color: var(--text-3); display: block; font-size: .72rem; }
.il input[type="number"] {
    width: 100%; border: 1px solid var(--border); border-radius: 6px;
    padding: .3rem; font-size: .82rem; text-align: center; outline: none;
}
.il input[type="number"]:focus { border-color: var(--brand); }
.il-total { font-weight: 700; text-align: right; color: var(--brand); }
.il-rm { width: 24px; height: 24px; border: none; background: none; color: var(--text-3); cursor: pointer; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: .75rem; }
.il-rm:hover { background: var(--danger-soft); color: var(--danger); }

.search-add {
    display: flex; gap: .5rem; margin-bottom: .75rem;
}
.search-add .inp-wrap {
    flex: 1; display: flex; align-items: center; border: 1px solid var(--border);
    border-radius: var(--radius-sm); padding: 0 .625rem; background: var(--bg);
}
.search-add .inp-wrap:focus-within { border-color: var(--brand); background: #fff; }
.search-add .inp-wrap i { color: var(--text-3); margin-right: .4rem; font-size: .85rem; }
.search-add .inp-wrap input { border: none; background: transparent; padding: .45rem 0; font-size: .82rem; flex: 1; outline: none; }
.search-add .add-btn {
    padding: .45rem .75rem; background: var(--brand); color: #fff; border: none;
    border-radius: var(--radius-sm); font-size: .78rem; font-weight: 600; cursor: pointer; white-space: nowrap;
}

/* ── Grand total bar (in sidebar) ── */
.gt-bar {
    background: linear-gradient(135deg, var(--brand) 0%, var(--brand-dark) 100%);
    padding: 1.25rem; border-radius: var(--radius); color: #fff; margin-bottom: 1rem;
}
.gt-bar .gt-label { font-size: .78rem; opacity: .7; font-weight: 600; }
.gt-bar .gt-amount { font-size: 1.75rem; font-weight: 800; margin-top: .15rem; }
.gt-bar .gt-items { font-size: .72rem; opacity: .65; margin-top: .25rem; }

/* ── Sidebar card ── */
.sc {
    background: var(--card); border: 1px solid var(--border); border-radius: var(--radius);
    margin-bottom: .75rem; overflow: hidden; box-shadow: var(--shadow);
}
.sc-head { padding: .625rem .875rem; font-weight: 700; font-size: .85rem; display: flex; align-items: center; gap: .5rem; border-bottom: 1px solid var(--border); }
.sc-head i { color: var(--brand); }
.sc-body { padding: .875rem; }
.sc-row { display: flex; justify-content: space-between; padding: .25rem 0; font-size: .82rem; }
.sc-row .val { font-weight: 600; }

/* ── Sidebar settings ── */
.ss { margin-bottom: .625rem; }
.ss:last-child { margin-bottom: 0; }
.ss label { display: block; font-size: .7rem; font-weight: 600; color: var(--text-2); margin-bottom: .2rem; text-transform: uppercase; }
.ss select, .ss input {
    width: 100%; border: 1px solid var(--border); border-radius: 6px;
    padding: .4rem .625rem; font-size: .82rem; outline: none;
}
.ss select:focus, .ss input:focus { border-color: var(--brand); }

/* ── Empty ── */
.empty { text-align: center; padding: 1.5rem; color: var(--text-3); }
.empty i { font-size: 1.5rem; display: block; margin-bottom: .375rem; opacity: .4; }
.empty p { font-size: .78rem; }

/* ── Responsive ── */
@media (max-width: 1024px) {
    .page-layout { flex-direction: column; padding: 1rem; }
    .side-col { width: 100%; }
    .side-col .sticky { position: static; }
    .row { flex-direction: column; }
    .c2, .c3 { flex: 1 1 100%; }
    .il { grid-template-columns: 1fr 50px 80px 60px 24px; font-size: .78rem; }
}
</style>
</head>
<body>

<!-- ── Top Action Bar ── -->
<header class="top-bar">
    <div class="left">
        <div>
            <h1><i class="bi bi-tools" style="color: var(--brand)"></i> New Repair Job</h1>
            <div class="breadcrumb"><a href="#">Dashboard</a> / <a href="#">Jobs</a> / New</div>
        </div>
    </div>
    <div class="right">
        <button class="btn btn-cancel"><i class="bi bi-x-lg"></i> Cancel</button>
        <button class="btn btn-draft"><i class="bi bi-floppy"></i> Save Draft</button>
        <button class="btn btn-save"><i class="bi bi-check-lg"></i> Create Job</button>
    </div>
</header>

<div class="page-layout">
    <!-- ═══════════ MAIN COLUMN ═══════════ -->
    <div class="main-col">

        <!-- ── Job Details ── -->
        <div class="section">
            <div class="section-head open" onclick="this.classList.toggle('open');this.nextElementSibling.style.display=this.classList.contains('open')?'block':'none'">
                <div class="section-badge" style="background:var(--brand-soft);color:var(--brand)"><i class="bi bi-file-earmark-text"></i></div>
                <h3>Job Details</h3>
                <span class="tag" style="background:var(--success-soft);color:#16a34a;">Required</span>
                <i class="bi bi-chevron-down chevron"></i>
            </div>
            <div class="section-body">
                <div class="row">
                    <div class="c2"><div class="fg"><label>Case Number</label><input type="text" placeholder="Auto-generated"><div class="hint">Leave blank for auto</div></div></div>
                    <div class="c2"><div class="fg"><label>Job Title</label><input type="text" placeholder="e.g. iPhone 14 Screen Repair"></div></div>
                </div>
                <div class="fg">
                    <label><i class="bi bi-person"></i> Customer</label>
                    <div style="position:relative;">
                        <input type="text" placeholder="Search by name, email or phone…" style="padding-left:2rem;">
                        <i class="bi bi-search" style="position:absolute;left:.65rem;top:50%;transform:translateY(-50%);color:var(--text-3);font-size:.85rem;"></i>
                    </div>
                </div>
                <div class="row">
                    <div class="c3"><div class="fg"><label><i class="bi bi-calendar-event"></i> Pickup Date</label><input type="date" value="2026-02-23"></div></div>
                    <div class="c3"><div class="fg"><label><i class="bi bi-calendar-check"></i> Delivery Date</label><input type="date"></div></div>
                    <div class="c3"><div class="fg"><label><i class="bi bi-arrow-repeat"></i> Next Service</label><input type="date"></div></div>
                </div>
                <div class="fg">
                    <label>Description</label>
                    <textarea rows="3" placeholder="Describe the repair issue…"></textarea>
                </div>
            </div>
        </div>

        <!-- ── Devices ── -->
        <div class="section">
            <div class="section-head open" onclick="this.classList.toggle('open');this.nextElementSibling.style.display=this.classList.contains('open')?'block':'none'">
                <div class="section-badge" style="background:#dbeafe;color:#2563eb"><i class="bi bi-phone"></i></div>
                <h3>Devices</h3>
                <span class="tag" style="background:#dbeafe;color:#1e40af;">2</span>
                <i class="bi bi-chevron-down chevron"></i>
            </div>
            <div class="section-body">
                <div class="dev-row">
                    <div class="dev-icon"><i class="bi bi-phone"></i></div>
                    <div class="dev-info">
                        <strong>Apple — iPhone 14 Pro Max</strong>
                        <span>IMEI: 354209…8821 · PIN: 1234 · Cracked screen</span>
                    </div>
                    <button class="dev-rmv"><i class="bi bi-x-lg"></i></button>
                </div>
                <div class="dev-row">
                    <div class="dev-icon" style="background:#fef3c7;color:#92400e"><i class="bi bi-laptop"></i></div>
                    <div class="dev-info">
                        <strong>Samsung — Galaxy Book3 Pro</strong>
                        <span>S/N: RZ14…004K · Won't power on</span>
                    </div>
                    <button class="dev-rmv"><i class="bi bi-x-lg"></i></button>
                </div>
                <div style="margin-top:.5rem;">
                    <button class="btn-dashed"><i class="bi bi-plus-lg"></i> Add Device</button>
                </div>
            </div>
        </div>

        <!-- ── Line Items (all categories visible, no tabs) ── -->
        <div class="section">
            <div class="section-head open" onclick="this.classList.toggle('open');this.nextElementSibling.style.display=this.classList.contains('open')?'block':'none'">
                <div class="section-badge" style="background:#ede9fe;color:#6d28d9"><i class="bi bi-receipt"></i></div>
                <h3>Line Items</h3>
                <span class="tag" style="background:#ede9fe;color:#6d28d9;">3 items · $130.00</span>
                <i class="bi bi-chevron-down chevron"></i>
            </div>
            <div class="section-body">

                <!-- Parts -->
                <div class="cat-strip">
                    <div class="cat-dot part"></div>
                    <h5>Parts</h5>
                    <span class="cat-total">$85.00</span>
                </div>
                <div class="search-add">
                    <div class="inp-wrap"><i class="bi bi-search"></i><input type="text" placeholder="Search part…"></div>
                    <button class="add-btn"><i class="bi bi-plus-lg"></i> Add</button>
                </div>
                <div class="il">
                    <div class="il-name">iPhone 14 PM Screen Assembly <small>SKU: IPH14PM-SCR-OLED</small></div>
                    <input type="number" value="1" min="1">
                    <input type="number" value="65.00" step="0.01">
                    <div class="il-total">$65.00</div>
                    <button class="il-rm"><i class="bi bi-trash"></i></button>
                </div>
                <div class="il">
                    <div class="il-name">Adhesive Frame Kit <small>SKU: IPH14-ADH</small></div>
                    <input type="number" value="1" min="1">
                    <input type="number" value="20.00" step="0.01">
                    <div class="il-total">$20.00</div>
                    <button class="il-rm"><i class="bi bi-trash"></i></button>
                </div>

                <div style="height:1rem;"></div>

                <!-- Services -->
                <div class="cat-strip">
                    <div class="cat-dot service"></div>
                    <h5>Services</h5>
                    <span class="cat-total">$45.00</span>
                </div>
                <div class="search-add">
                    <div class="inp-wrap"><i class="bi bi-search"></i><input type="text" placeholder="Search service…"></div>
                    <button class="add-btn"><i class="bi bi-plus-lg"></i> Add</button>
                </div>
                <div class="il">
                    <div class="il-name">Screen Replacement Labor <small>SRV-001</small></div>
                    <input type="number" value="1" min="1">
                    <input type="number" value="45.00" step="0.01">
                    <div class="il-total">$45.00</div>
                    <button class="il-rm"><i class="bi bi-trash"></i></button>
                </div>

                <div style="height:1rem;"></div>

                <!-- Other -->
                <div class="cat-strip">
                    <div class="cat-dot other"></div>
                    <h5>Other / Extras</h5>
                    <span class="cat-total">$0.00</span>
                </div>
                <div class="empty">
                    <i class="bi bi-receipt"></i>
                    <p>No extras yet</p>
                </div>
                <div><button class="btn-dashed"><i class="bi bi-plus-lg"></i> Add Custom Item</button></div>
            </div>
        </div>

        <!-- ── Notes & Attachments ── -->
        <div class="section">
            <div class="section-head open" onclick="this.classList.toggle('open');this.nextElementSibling.style.display=this.classList.contains('open')?'block':'none'">
                <div class="section-badge" style="background:#fef3c7;color:#92400e"><i class="bi bi-paperclip"></i></div>
                <h3>Notes & Attachments</h3>
                <i class="bi bi-chevron-down chevron"></i>
            </div>
            <div class="section-body">
                <div class="fg">
                    <label>Internal Notes</label>
                    <textarea rows="3" placeholder="Staff-only notes about this job…"></textarea>
                </div>
                <div class="fg">
                    <label><i class="bi bi-upload"></i> Attachments</label>
                    <div style="border:2px dashed var(--border);border-radius:var(--radius-sm);padding:1.5rem;text-align:center;color:var(--text-3);font-size:.82rem;cursor:pointer;">
                        <i class="bi bi-cloud-arrow-up" style="font-size:1.5rem;display:block;margin-bottom:.25rem;opacity:.5;"></i>
                        Drop files here or click to browse
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ═══════════ SIDEBAR ═══════════ -->
    <div class="side-col">
        <div class="sticky">
            <!-- Grand total hero -->
            <div class="gt-bar">
                <div class="gt-label">Estimated Total</div>
                <div class="gt-amount">$130.00</div>
                <div class="gt-items">3 items across 2 devices</div>
            </div>

            <!-- Breakdown -->
            <div class="sc">
                <div class="sc-head"><i class="bi bi-pie-chart"></i> Breakdown</div>
                <div class="sc-body">
                    <div class="sc-row"><span>Parts (2)</span><span class="val">$85.00</span></div>
                    <div class="sc-row"><span>Services (1)</span><span class="val">$45.00</span></div>
                    <div class="sc-row"><span>Other (0)</span><span class="val">$0.00</span></div>
                    <hr style="border:none;border-top:1px solid var(--border);margin:.5rem 0;">
                    <div class="sc-row" style="font-weight:800;font-size:.92rem;"><span>Total</span><span class="val" style="color:var(--brand);">$130.00</span></div>
                </div>
            </div>

            <!-- Quick settings -->
            <div class="sc">
                <div class="sc-head"><i class="bi bi-gear"></i> Job Settings</div>
                <div class="sc-body">
                    <div class="ss"><label>Technician</label><select><option>John Smith</option><option>Mike Repair</option></select></div>
                    <div class="ss"><label>Job Status</label><select><option>Pending</option><option>In Progress</option><option>Completed</option></select></div>
                    <div class="ss"><label>Payment Status</label><select><option>Unpaid</option><option>Partial</option><option>Paid</option></select></div>
                    <div class="ss"><label>Priority</label>
                        <select>
                            <option>Normal</option>
                            <option>Low</option>
                            <option>High</option>
                            <option>Urgent</option>
                        </select>
                    </div>
                    <div class="ss"><label>Branch</label><select><option>Main Store</option><option>Downtown Center</option></select></div>
                </div>
            </div>

            <!-- Customer card -->
            <div class="sc">
                <div class="sc-head"><i class="bi bi-person-circle"></i> Customer</div>
                <div class="sc-body" style="display:flex;align-items:center;gap:.75rem;">
                    <div style="width:36px;height:36px;border-radius:50%;background:var(--brand-soft);color:var(--brand);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;flex-shrink:0;">JC</div>
                    <div>
                        <div style="font-weight:600;font-size:.88rem;">Jane Cooper</div>
                        <div style="font-size:.72rem;color:var(--text-3);">jane@example.com · (555) 012-3456</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
