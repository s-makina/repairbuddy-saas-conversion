/* ═══════════════════════════════════════════════════════════════════
   Status Page  –  Additive styles on top of public-pages.css
   Status-specific classes use the  st-  prefix.
   Shared pp-* classes (hero, search, tabs, badges, alerts, buttons,
   form groups, empty states) are inherited from public-pages.css.
   ═══════════════════════════════════════════════════════════════════ */

/* ── Search card override ── */
.st-search-card {
  max-width: 640px;
  margin: -1rem auto 2rem;
}

.st-search-form {
  display: flex;
  gap: .75rem;
  align-items: stretch;
}

.st-search-wrap {
  flex: 1;
}

.st-case-input {
  font-family: 'JetBrains Mono', 'Fira Code', monospace, inherit;
  letter-spacing: .04em;
}

.st-search-clear {
  position: absolute;
  right: .65rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--rpn-text-muted, #94a3b8);
  cursor: pointer;
  padding: 2px;
  font-size: .85rem;
  line-height: 1;
}
.st-search-clear:hover { color: var(--rpn-danger, #ef4444); }

.st-search-btn {
  white-space: nowrap;
  flex-shrink: 0;
}

.st-search-footer {
  display: flex;
  align-items: center;
  gap: .75rem;
  margin-top: 1rem;
  padding-top: .875rem;
  border-top: 1px solid var(--rpn-border, #e2e8f0);
  font-size: .8rem;
}

.st-footer-sep {
  width: 1px;
  height: 14px;
  background: var(--rpn-border, #e2e8f0);
  flex-shrink: 0;
}

.st-footer-hint {
  color: var(--rpn-text-muted, #94a3b8);
}
.st-footer-hint i { margin-right: 2px; }

/* ── Spin animation (reuse from pp if available) ── */
.pp-spin {
  display: inline-block;
  animation: ppSpin .65s linear infinite;
}
@keyframes ppSpin { to { transform: rotate(360deg); } }

/* ── Result wrapper ── */
.st-result {
  max-width: 780px;
  margin: 0 auto 2rem;
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

/* ═══════════════════════════════════════════
   Job Status Card
   ═══════════════════════════════════════════ */
.st-job-card {
  background: #fff;
  border-radius: var(--rpn-radius, 10px);
  box-shadow: 0 1px 4px rgba(0,0,0,.06);
  overflow: hidden;
  position: relative;
}

.st-job-accent {
  height: 4px;
  background: var(--rpn-primary, #063e70);
}
.st-job-card--success .st-job-accent  { background: #22c55e; }
.st-job-card--warning .st-job-accent  { background: #f59e0b; }
.st-job-card--danger  .st-job-accent  { background: #ef4444; }
.st-job-card--info    .st-job-accent  { background: #3b82f6; }

.st-job-body {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.25rem 1.5rem;
}

.st-job-info { flex: 1 1 260px; }

.st-job-case {
  font-family: 'JetBrains Mono', 'Fira Code', monospace, inherit;
  font-size: .78rem;
  color: var(--rpn-text-muted, #94a3b8);
  letter-spacing: .04em;
  margin-bottom: .25rem;
}

.st-job-title {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--rpn-text, #1e293b);
  margin-bottom: .35rem;
}

.st-job-meta {
  font-size: .78rem;
  color: var(--rpn-text-muted, #94a3b8);
  display: flex;
  gap: 1rem;
}
.st-job-meta i { margin-right: 3px; }

.st-job-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: .75rem;
  flex-shrink: 0;
}

.st-badge-group {
  display: flex;
  flex-wrap: wrap;
  gap: .4rem;
  justify-content: flex-end;
}

/* ── Status badges ── */
.st-badge-dot {
  display: inline-block;
  width: 7px;
  height: 7px;
  border-radius: 50%;
  margin-right: 5px;
  vertical-align: middle;
  background: currentColor;
}

.st-badge--success  { background: #dcfce7; color: #15803d; }
.st-badge--warning  { background: #fef3c7; color: #92400e; }
.st-badge--danger   { background: #fee2e2; color: #b91c1c; }
.st-badge--info     { background: #dbeafe; color: #1e40af; }
.st-badge--muted    { background: #f1f5f9; color: #64748b; }
.st-badge--default  { background: #f1f5f9; color: #475569; }

.st-badge--outline {
  background: transparent;
  border: 1px solid currentColor;
}

.st-badge--priority-high   { background: #fef3c7; color: #92400e; }
.st-badge--priority-urgent  { background: #fee2e2; color: #b91c1c; }

/* ── Dates row ── */
.st-job-dates {
  display: flex;
  flex-wrap: wrap;
  gap: .75rem;
  padding: .75rem 1.5rem;
  border-top: 1px solid var(--rpn-border, #e2e8f0);
  background: #fafbfc;
}

.st-date-chip {
  font-size: .8rem;
  color: var(--rpn-text-muted, #64748b);
  display: flex;
  align-items: center;
  gap: .35rem;
}
.st-date-chip i { color: var(--rpn-primary, #063e70); }

/* ═══════════════════════════════════════════
   Tabs panel
   ═══════════════════════════════════════════ */
.st-panel {
  background: #fff;
  border-radius: var(--rpn-radius, 10px);
  box-shadow: 0 1px 4px rgba(0,0,0,.06);
  overflow: hidden;
}

.st-tab-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 20px;
  height: 20px;
  border-radius: 10px;
  background: var(--rpn-primary, #063e70);
  color: #fff;
  font-size: .7rem;
  font-weight: 700;
  margin-left: 6px;
  padding: 0 5px;
}

.st-tab-body {
  padding: 1.25rem 1.5rem;
}

/* ═══════════════════════════════════════════
   Timeline
   ═══════════════════════════════════════════ */
.st-timeline {
  position: relative;
  padding-left: 2rem;
}

.st-timeline::before {
  content: '';
  position: absolute;
  left: 11px;
  top: 4px;
  bottom: 4px;
  width: 2px;
  background: var(--rpn-border, #e2e8f0);
  border-radius: 1px;
}

.st-tl-item {
  position: relative;
  padding-bottom: 1.25rem;
}
.st-tl-item:last-child { padding-bottom: 0; }

.st-tl-icon {
  position: absolute;
  left: -2rem;
  top: 2px;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: #fff;
  z-index: 1;
  font-size: .75rem;
  color: var(--rpn-text-muted, #94a3b8);
  border: 2px solid var(--rpn-border, #e2e8f0);
}

.st-tl-item--latest .st-tl-icon {
  border-color: var(--rpn-primary, #063e70);
  color: var(--rpn-primary, #063e70);
  box-shadow: 0 0 0 3px rgba(6,62,112,.1);
}

/* event type colors */
.st-ev--created  { color: #22c55e !important; border-color: #22c55e !important; }
.st-ev--status   { color: #3b82f6 !important; border-color: #3b82f6 !important; }
.st-ev--message  { color: #8b5cf6 !important; border-color: #8b5cf6 !important; }
.st-ev--attach   { color: #f59e0b !important; border-color: #f59e0b !important; }
.st-ev--payment  { color: #10b981 !important; border-color: #10b981 !important; }
.st-ev--note     { color: #6366f1 !important; border-color: #6366f1 !important; }

.st-tl-body { padding-left: .25rem; }

.st-tl-head {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: .75rem;
  flex-wrap: wrap;
}

.st-tl-title {
  font-weight: 600;
  font-size: .875rem;
  color: var(--rpn-text, #1e293b);
}

.st-tl-time {
  font-size: .75rem;
  color: var(--rpn-text-muted, #94a3b8);
  white-space: nowrap;
}

.st-tl-msg {
  font-size: .82rem;
  color: var(--rpn-text-muted, #64748b);
  margin: .35rem 0 0;
  line-height: 1.55;
}

.st-tl-file {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: .78rem;
  color: var(--rpn-primary, #063e70);
  margin-top: .4rem;
  text-decoration: none;
}
.st-tl-file:hover { text-decoration: underline; }

/* ═══════════════════════════════════════════
   Details tab
   ═══════════════════════════════════════════ */
.st-details {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.st-section {
  border-bottom: 1px solid var(--rpn-border, #e2e8f0);
  padding-bottom: 1.25rem;
}
.st-section:last-child { border-bottom: none; padding-bottom: 0; }

.st-section-title {
  font-size: .875rem;
  font-weight: 700;
  color: var(--rpn-text, #1e293b);
  margin: 0 0 .75rem;
  display: flex;
  align-items: center;
  gap: .4rem;
}
.st-section-title i { color: var(--rpn-primary, #063e70); }

/* devices */
.st-devices { display: flex; flex-direction: column; gap: .75rem; }

.st-device {
  display: flex;
  align-items: flex-start;
  gap: .75rem;
  padding: .75rem;
  background: #f8fafc;
  border-radius: var(--rpn-radius-sm, 6px);
}

.st-device-thumb {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(6,62,112,.08);
  color: var(--rpn-primary, #063e70);
  font-size: 1.1rem;
  flex-shrink: 0;
}

.st-device-name {
  font-weight: 600;
  font-size: .875rem;
  color: var(--rpn-text, #1e293b);
}

.st-device-sub {
  font-size: .78rem;
  color: var(--rpn-text-muted, #64748b);
  margin-top: 2px;
}

.st-device-serial {
  font-size: .75rem;
  color: var(--rpn-text-muted, #94a3b8);
  margin-top: 3px;
}
.st-device-serial code {
  background: #f1f5f9;
  padding: 1px 5px;
  border-radius: 3px;
  font-size: .72rem;
}

/* items list */
.st-items-list { display: flex; flex-direction: column; gap: .5rem; }

.st-item-row {
  display: flex;
  align-items: center;
  gap: .6rem;
  padding: .55rem .75rem;
  background: #f8fafc;
  border-radius: var(--rpn-radius-sm, 6px);
}

.st-item-icon {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  background: rgba(6,62,112,.07);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--rpn-primary, #063e70);
  font-size: .8rem;
  flex-shrink: 0;
}

.st-item-name {
  font-size: .85rem;
  font-weight: 500;
  color: var(--rpn-text, #1e293b);
  flex: 1;
}

.st-item-qty {
  font-size: .78rem;
  color: var(--rpn-text-muted, #64748b);
  font-weight: 600;
}

/* notes */
.st-notes {
  font-size: .85rem;
  color: var(--rpn-text-muted, #64748b);
  line-height: 1.65;
  white-space: pre-wrap;
  background: #f8fafc;
  padding: .875rem 1rem;
  border-radius: var(--rpn-radius-sm, 6px);
}

/* ═══════════════════════════════════════════
   Message tab
   ═══════════════════════════════════════════ */
.st-msg-tab {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.st-msg-intro {
  display: flex;
  align-items: flex-start;
  gap: .75rem;
  padding: .875rem 1rem;
  background: rgba(6,62,112,.04);
  border-radius: var(--rpn-radius-sm, 6px);
}

.st-msg-intro-icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(6,62,112,.1);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--rpn-primary, #063e70);
  font-size: 1rem;
  flex-shrink: 0;
}

.st-msg-intro-title {
  font-weight: 600;
  font-size: .875rem;
  color: var(--rpn-text, #1e293b);
  margin: 0 0 .15rem;
}

.st-msg-intro-desc {
  font-size: .8rem;
  color: var(--rpn-text-muted, #64748b);
  margin: 0;
}

.st-msg-form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* Dropzone */
.st-dropzone {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: .35rem;
  padding: 1.5rem 1rem;
  border: 2px dashed var(--rpn-border, #e2e8f0);
  border-radius: var(--rpn-radius-sm, 6px);
  background: #fafbfc;
  cursor: pointer;
  transition: border-color .2s, background .2s;
  text-align: center;
}

.st-dropzone:hover {
  border-color: var(--rpn-primary-light, #0a5a9e);
  background: rgba(6,62,112,.03);
}

.st-dropzone-icon {
  font-size: 1.5rem;
  color: var(--rpn-text-muted, #94a3b8);
}

.st-dropzone-text {
  font-size: .85rem;
  font-weight: 600;
  color: var(--rpn-text, #1e293b);
}

.st-dropzone-hint {
  font-size: .75rem;
  color: var(--rpn-text-muted, #94a3b8);
}

.st-file-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  clip: rect(0,0,0,0);
  border: 0;
}

/* File preview */
.st-file-preview {
  display: flex;
  align-items: center;
  gap: .6rem;
  padding: .65rem .85rem;
  background: #f0fdf4;
  border: 1px solid #bbf7d0;
  border-radius: var(--rpn-radius-sm, 6px);
}

.st-file-preview > i {
  font-size: 1.25rem;
  color: #22c55e;
}

.st-file-info { flex: 1; }

.st-file-name {
  font-size: .82rem;
  font-weight: 600;
  color: var(--rpn-text, #1e293b);
  display: block;
}

.st-file-size {
  font-size: .72rem;
  color: var(--rpn-text-muted, #94a3b8);
}

.st-file-remove {
  background: none;
  border: none;
  color: var(--rpn-text-muted, #94a3b8);
  font-size: .85rem;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  transition: color .15s;
}
.st-file-remove:hover { color: var(--rpn-danger, #ef4444); }

/* ═══════════════════════════════════════════
   Steps (empty state)
   ═══════════════════════════════════════════ */
.st-steps {
  display: flex;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 640px;
  margin: 0 auto;
}

.st-step {
  text-align: center;
  flex: 1;
  max-width: 180px;
}

.st-step-num {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--rpn-primary, #063e70);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: .9rem;
  margin: 0 auto .75rem;
}

.st-step p {
  font-size: .82rem;
  color: var(--rpn-text-muted, #64748b);
  line-height: 1.5;
  margin: 0;
}

/* ═══════════════════════════════════════════
   Responsive
   ═══════════════════════════════════════════ */
@media (max-width: 640px) {
  .st-search-form {
    flex-direction: column;
  }

  .st-job-body {
    flex-direction: column;
  }

  .st-job-right {
    align-items: flex-start;
    width: 100%;
  }

  .st-badge-group {
    justify-content: flex-start;
  }

  .st-tl-head {
    flex-direction: column;
    gap: .15rem;
  }

  .st-steps {
    flex-direction: column;
    align-items: center;
    gap: 1.25rem;
  }

  .st-tab-body {
    padding: 1rem;
  }

  .st-search-footer {
    flex-direction: column;
    align-items: flex-start;
    gap: .5rem;
  }
  .st-footer-sep { display: none; }
}
